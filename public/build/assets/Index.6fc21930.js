import{j as t,F as T,a as e,d as A,r as n,l as E,f as j,H as L}from"./app.bc2d2f14.js";import{m as f,A as R}from"./App.0086546c.js";import{C as W}from"./Container.3c3f5909.js";import{B as C}from"./Button.2e96514d.js";import{W as g}from"./XIcon.fd5e456a.js";import{D as $}from"./DestroyModal.b23874c5.js";import"./Tawarin.e9d21f9b.js";function B({errors:r,submit:l,data:i,setData:o,closeButton:d}){var x,a,m,h,v;const c=u=>o({...i,[u.target.id]:u.target.value});return t(T,{children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:t("div",{className:"grid grid-cols-6 gap-6",children:[t("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e("input",{type:"text",name:"name",value:(x=i.name)!=null?x:"",onChange:c,id:"name",autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),r&&e("div",{className:"text-pink-500 mt-1",children:r.name})]}),t("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e("input",{type:"text",name:"username",value:(a=i.username)!=null?a:"",onChange:c,id:"username",autoComplete:"family-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),r&&e("div",{className:"text-pink-500 mt-1",children:r.username})]}),t("div",{className:"col-span-6 sm:col-span-4",children:[e("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e("input",{type:"text",name:"email",value:(m=i.email)!=null?m:"",onChange:c,id:"email",autoComplete:"email",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),r&&e("div",{className:"text-pink-500 mt-1",children:r.email})]}),t("div",{className:"col-span-6",children:[e("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e("div",{className:"mt-1",children:e("textarea",{id:"address",name:"address",value:(h=i.address)!=null?h:"",onChange:c,rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:"Address",defaultValue:""})}),r&&e("div",{className:"text-pink-500 mt-1",children:r.address})]}),t("div",{className:"col-span-6",children:[e("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e("input",{type:"password",name:"password",value:(v=i.password)!=null?v:"",onChange:c,id:"password",autoComplete:"password",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),r&&e("div",{className:"text-pink-500 mt-1",children:r.password})]})]})}),t("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e(C,{children:l}),e(C,{color:"pink",type:"button",onClick:d,children:"Cancel"})]})]})}function q({setIsOpenAddDialog:r}){const{data:l,setData:i,post:o,reset:d,errors:c}=A({username:"",name:"",email:"",password:"",address:""});return e("form",{onSubmit:m=>{m.preventDefault(),o(route("users.store"),{data:l,onSuccess:()=>{d(),r(!1)}})},children:e(B,{errors:c,data:l,setData:i,submit:"Save",closeButton:m=>r(!1)})})}function H({setIsOpenEditDialog:r,model:l}){const{data:i,setData:o,put:d,reset:c,errors:x}=A({username:l.username,name:l.name,email:l.email,password:l.password,address:l.address}),a=h=>r(!1),m=h=>{h.preventDefault(),d(route("users.update",l.id),{data:i,onSuccess:()=>{c(),r(!1)}})};return n.exports.useEffect(()=>{o({...i,username:l.username,name:l.name,email:l.email,password:l.password,address:l.address})},[l]),e("form",{onSubmit:m,children:e(B,{errors:x,data:i,setData:o,submit:"Update",closeButton:a})})}function O({title:r,children:l,isOpenAddDialog:i,setIsOpenAddDialog:o,size:d="6xl"}){return e("div",{children:e(g,{appear:!0,show:i,as:n.exports.Fragment,children:t(f,{as:"div",className:"relative z-10",open:i,onClose:()=>o(!1),children:[e(g.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(g.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(f.Panel,{className:`w-full transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all max-w-${d}`,children:[e(f.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:r}),e("div",{className:"mt-2",children:l})]})})})})]})})})}function J({title:r,children:l,isOpenEditDialog:i,setIsOpenEditDialog:o,size:d="6xl"}){return e("div",{children:e(g,{appear:!0,show:i,as:n.exports.Fragment,children:t(f,{as:"div",className:"relative z-10",open:i,onClose:()=>o(!1),children:[e(g.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(g.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(f.Panel,{className:`w-full transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all max-w-${d}`,children:[e(f.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:r}),e("div",{className:"mt-2",children:l})]})})})})]})})})}const w=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),y=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function V(r){const{data:l,meta:i,filtered:o,attributes:d}=r.users,[c,x]=n.exports.useState([]),[a,m]=n.exports.useState(o),h=n.exports.useCallback(E.exports.debounce(s=>{j.Inertia.get(route("users.index"),{...E.exports.pickBy(s),page:s.page},{preserveState:!0,preserveScroll:!0})},150),[]);n.exports.useEffect(()=>h(a),[a]),n.exports.useEffect(()=>{let s=[];for(let p=d.per_page;p<d.total/d.per_page;p=p+d.per_page)s.push(p);x(s)},[]);const v=s=>m({...a,[s.target.name]:s.target.value}),u=s=>{m({...a,field:s,direction:a.direction=="asc"?"desc":"asc"})},z=()=>{b(!0)},I=s=>{U(s),N(!0)},M=s=>{U(s),k(!0)},P=()=>{j.Inertia.delete(route("users.destroy",S.id),{onSuccess:()=>k(!1)})},[F,b]=n.exports.useState(!1),[D,N]=n.exports.useState(!1),[_,k]=n.exports.useState(!1),[S,U]=n.exports.useState([]);return t(T,{children:[e(L,{title:"User"}),t(W,{children:["Users"," ",e("button",{type:"button",onClick:z,className:"px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Add User"})]}),e(O,{isOpenAddDialog:F,setIsOpenAddDialog:b,size:"2xl",title:"Add User",children:e(q,{isOpenAddDialog:F,setIsOpenAddDialog:b})}),e(J,{isOpenEditDialog:D,setIsOpenEditDialog:N,size:"2xl",title:"Edit User",children:e(H,{model:S,isOpenEditDialog:D,setIsOpenEditDialog:N})}),e($,{isOpenDestroyDialog:_,setIsOpenDestroyDialog:k,size:"2xl",title:"Delete User",children:e(C,{color:"pink",onClick:P,children:"Delete"})}),e("div",{className:"py-12",children:t("div",{className:"mx-auto max-w-8xl sm:px-6 lg:px-8",children:[e("div",{className:"flex items-center justify-end",children:e("div",{className:"w-1/2",children:t("div",{className:"flex items-center justify-end mb-6 gap-x-2",children:[e("select",{name:"load",id:"load",onChange:v,value:a.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:c.map((s,p)=>e("option",{children:s},p))}),t("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:v,value:a.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})}),e("div",{className:"flex flex-col p-1",children:e("div",{className:"-my-2 overflow-x-auto rounded sm:-mx-6 lg:-mx-8",children:t("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:[e("div",{className:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg",children:t("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:e("div",{className:"flex items-center cursor-pointer gap-x-2",children:"#"})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>u("username"),children:["Username",a.field=="username"&&a.direction=="asc"&&e(w,{}),a.field=="username"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>u("name"),children:["Name",a.field=="name"&&a.direction=="asc"&&e(w,{}),a.field=="name"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>u("address"),children:["Address",a.field=="address"&&a.direction=="asc"&&e(w,{}),a.field=="address"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>u("email"),children:["Email",a.field=="email"&&a.direction=="asc"&&e(w,{}),a.field=="email"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>u("created_at"),children:["Joined",a.field=="created_at"&&a.direction=="asc"&&e(w,{}),a.field=="created_at"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((s,p)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:i.from+p}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:s.username}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:s.name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:s.address}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:s.email}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:s.joined}),t("td",{children:[e("button",{className:"flex items-center gap-x-2",onClick:()=>I(s),children:"Edit"}),e("button",{className:"flex items-center gap-x-2",onClick:()=>M(s),children:"Delete"})]})]},s.email))})]})}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:i.links.map((s,p)=>e("button",{disabled:s.url==null,className:`${s.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>m({...a,page:new URL(s.url).searchParams.get("page")}),children:s.label},p))})]})})})]})})]})}V.layout=r=>e(R,{children:r});export{V as default};
