import{r,u as k,l as d,d as C,a as s,j as e,H as I,F as P,L as S}from"./app.c0487b97.js";import{A as j}from"./AppReservasi.4a1c0fda.js";import{C as L}from"./Container.32c4b3a4.js";import{H as E}from"./Header.1fa7904e.js";import{P as H}from"./Pagination.e47b9683.js";import{n as R}from"./helper.e37a4314.js";import{E as A}from"./EmptyCard.c603fdb9.js";import{I as F}from"./InfoModal.e686aa87.js";import{K as M}from"./AsideReservasi.74ad7115.js";import"./DropdownMenu.f870501d.js";import"./clsx.m.256e9345.js";import"./transition.b636ea97.js";import"./use-event-listener.6968febd.js";import"./ExclamationIcon.4454ee30.js";import"./dialog.d50b332f.js";import"./description.5b5bd391.js";import"./Tawarin.08057ae7.js";function q(i){const{data:l,meta:u,links:z,filtered:p,attributes:o}=i.reservations;i.reservation_categories;const g=i.reservationCompany,[f,h]=r.exports.useState([]),[n,x]=r.exports.useState(p),[b,y]=r.exports.useState(!0),{permissions:m}=k().props;m&&m.map(t=>t.name);const v=r.exports.useCallback(d.exports.debounce(t=>{C.Inertia.get(route("reservations.show",l[0].company_slug),{...d.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);r.exports.useEffect(()=>{b?y(!1):v(n)},[n]),r.exports.useEffect(()=>{let t=[];for(let a=o.per_page;a<o.total/o.per_page;a=a+o.per_page)t.push(a);h(t)},[]);const c=t=>{const a={...n,[t.target.name]:t.target.value,page:1};x(a)},[w,N]=r.exports.useState(!1);r.exports.useState([]);const _=[{name:"Pilih"}];return r.exports.useState(_[0]),s("div",{children:[e(I,{title:"Reservations Cars"}),e(E,{title:"Pelayanan",description:"List layanan yang ada di "+g.name}),e(F,{isOpenInfoDialog:w,setIsOpenInfoDialog:N,size:"2xl",title:"Info",header:"",children:"Anda harus memiliki akun owner terlebih dahulu sebelum bisa membuat perencanaan"}),s(L,{children:[e("div",{className:"flex items-center justify-end",children:e("div",{className:"w-full md:w-1/3",children:s("div",{className:"items-center justify-end md:flex gap-x-2",children:[e("select",{name:"load",id:"load",onChange:c,value:n.load,className:"hidden transition duration-150 ease-in-out border-gray-300 rounded-lg md:flex focus:ring-blue-200 focus:ring form-select",children:f.map((t,a)=>e("option",{children:t},a))}),s("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:c,value:n.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})}),l.length?e("div",{className:"grid w-full grid-cols-2 gap-1 mt-4 sm:grid-cols-2",children:l.map((t,a)=>e(P,{children:e("div",{className:"",children:e(S,{href:`/public/reservationCounters/${t.company_slug}/${t.counter_slug}/car`,className:"relative inline-block w-full transition-transform duration-300 ease-in-out",children:e("div",{className:"grid grid-cols-1 md:grid-cols-2",children:s("div",{className:"flex flex-col items-start p-3 bg-white border rounded-lg",children:[e("h2",{className:"text-lg font-semibold text-gray-900",children:t.car_name}),s("p",{className:"text-xl font-bold text-blue-600",children:["Rp"," ",R(t.price)]}),s("p",{className:"flex items-center text-gray-600",children:[e(M,{className:"items-center justify-center w-4 h-4 -ml-0.5 text-center text-yellow-500"}),t.service_duration," ","Menit"]}),e("span",{className:"mt-2 text-xs text-gray-500",children:t.category_counter_name}),e("span",{className:"text-sm text-gray-500",children:t.counter_name})]})})})},a)}))}):e(A,{}),e(H,{meta:u})]})]})}q.layout=i=>e(j,{children:i});export{q as default};
