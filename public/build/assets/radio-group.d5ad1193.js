import{r as a,R as E}from"./app.a17d9a53.js";import{D as V,b as $,y as X,p as ae,R as ie,X as q,c as le,s as ue,l as pe,u as se}from"./use-flags.e987dbda.js";import{I as z,e as de,o as h,O as K,M as I,N as j,r as J,a as ce}from"./keyboard.f32af370.js";import{M as me,H as Q}from"./label.001b19d6.js";import{b as fe,M as Y}from"./description.d6c6e331.js";import{F as ve}from"./use-tree-walker.8e4f1f3f.js";import{c as Re,p as be}from"./hidden.16dc680d.js";import{T as ge,e as xe,p as Ee}from"./use-controllable.09f61e26.js";var $e=(r=>(r[r.RegisterOption=0]="RegisterOption",r[r.UnregisterOption=1]="UnregisterOption",r))($e||{});let ye={[0](r,t){let o=[...r.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...r,options:ce(o,c=>c.element.current)}},[1](r,t){let o=r.options.slice(),c=r.options.findIndex(m=>m.id===t.id);return c===-1?r:(o.splice(c,1),{...r,options:o})}},W=a.exports.createContext(null);W.displayName="RadioGroupDataContext";function Z(r){let t=a.exports.useContext(W);if(t===null){let o=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Z),o}return t}let B=a.exports.createContext(null);B.displayName="RadioGroupActionsContext";function ee(r){let t=a.exports.useContext(B);if(t===null){let o=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ee),o}return t}function he(r,t){return se(t.type,ye,r,t)}let ke="div";function Oe(r,t){let o=z(),{id:c=`headlessui-radiogroup-${o}`,value:m,defaultValue:v,form:P,name:A,onChange:y,by:k=(e,l)=>e===l,disabled:O=!1,...N}=r,R=$(typeof k=="string"?(e,l)=>{let i=k;return(e==null?void 0:e[i])===(l==null?void 0:l[i])}:k),[T,C]=a.exports.useReducer(he,{options:[]}),u=T.options,[M,_]=Q(),[b,w]=Y(),F=a.exports.useRef(null),U=X(F,t),[p,D]=ge(m,y,v),s=a.exports.useMemo(()=>u.find(e=>!e.propsRef.current.disabled),[u]),g=a.exports.useMemo(()=>u.some(e=>R(e.propsRef.current.value,p)),[u,p]),d=$(e=>{var l;if(O||R(e,p))return!1;let i=(l=u.find(x=>R(x.propsRef.current.value,e)))==null?void 0:l.propsRef.current;return i!=null&&i.disabled?!1:(D==null||D(e),!0)});ve({container:F.current,accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});let H=$(e=>{let l=F.current;if(!l)return;let i=de(l),x=u.filter(n=>n.propsRef.current.disabled===!1).map(n=>n.element.current);switch(e.key){case h.Enter:Ee(e.currentTarget);break;case h.ArrowLeft:case h.ArrowUp:if(e.preventDefault(),e.stopPropagation(),K(x,I.Previous|I.WrapAround)===j.Success){let n=u.find(G=>G.element.current===(i==null?void 0:i.activeElement));n&&d(n.propsRef.current.value)}break;case h.ArrowRight:case h.ArrowDown:if(e.preventDefault(),e.stopPropagation(),K(x,I.Next|I.WrapAround)===j.Success){let n=u.find(G=>G.element.current===(i==null?void 0:i.activeElement));n&&d(n.propsRef.current.value)}break;case h.Space:{e.preventDefault(),e.stopPropagation();let n=u.find(G=>G.element.current===(i==null?void 0:i.activeElement));n&&d(n.propsRef.current.value)}break}}),f=$(e=>(C({type:0,...e}),()=>C({type:1,id:e.id}))),L=a.exports.useMemo(()=>({value:p,firstOption:s,containsCheckedOption:g,disabled:O,compare:R,...T}),[p,s,g,O,R,T]),re=a.exports.useMemo(()=>({registerOption:f,change:d}),[f,d]),te={ref:U,id:c,role:"radiogroup","aria-labelledby":M,"aria-describedby":b,onKeyDown:H},oe=a.exports.useMemo(()=>({value:p}),[p]),S=a.exports.useRef(null),ne=ae();return a.exports.useEffect(()=>{S.current&&v!==void 0&&ne.addEventListener(S.current,"reset",()=>{d(v)})},[S,d]),E.createElement(w,{name:"RadioGroup.Description"},E.createElement(_,{name:"RadioGroup.Label"},E.createElement(B.Provider,{value:re},E.createElement(W.Provider,{value:L},A!=null&&p!=null&&xe({[A]:p}).map(([e,l],i)=>E.createElement(Re,{features:be.Hidden,ref:i===0?x=>{var n;S.current=(n=x==null?void 0:x.closest("form"))!=null?n:null}:void 0,...ie({key:e,as:"input",type:"radio",checked:l!=null,hidden:!0,readOnly:!0,form:P,name:e,value:l})})),q({ourProps:te,theirProps:N,slot:oe,defaultTag:ke,name:"RadioGroup"})))))}var Te=(r=>(r[r.Empty=1]="Empty",r[r.Active=2]="Active",r))(Te||{});let Ce="div";function we(r,t){var o;let c=z(),{id:m=`headlessui-radiogroup-option-${c}`,value:v,disabled:P=!1,...A}=r,y=a.exports.useRef(null),k=X(y,t),[O,N]=Q(),[R,T]=Y(),{addFlag:C,removeFlag:u,hasFlag:M}=le(1),_=ue({value:v,disabled:P}),b=Z("RadioGroup.Option"),w=ee("RadioGroup.Option");pe(()=>w.registerOption({id:m,element:y,propsRef:_}),[m,w,y,r]);let F=$(f=>{var L;if(J(f.currentTarget))return f.preventDefault();w.change(v)&&(C(2),(L=y.current)==null||L.focus())}),U=$(f=>{if(J(f.currentTarget))return f.preventDefault();C(2)}),p=$(()=>u(2)),D=((o=b.firstOption)==null?void 0:o.id)===m,s=b.disabled||P,g=b.compare(b.value,v),d={ref:k,id:m,role:"radio","aria-checked":g?"true":"false","aria-labelledby":O,"aria-describedby":R,"aria-disabled":s?!0:void 0,tabIndex:(()=>s?-1:g||!b.containsCheckedOption&&D?0:-1)(),onClick:s?void 0:F,onFocus:s?void 0:U,onBlur:s?void 0:p},H=a.exports.useMemo(()=>({checked:g,disabled:s,active:M(2)}),[g,s,M]);return E.createElement(T,{name:"RadioGroup.Description"},E.createElement(N,{name:"RadioGroup.Label"},q({ourProps:d,theirProps:A,slot:H,defaultTag:Ce,name:"RadioGroup.Option"})))}let Fe=V(Oe),Ge=V(we),_e=Object.assign(Fe,{Option:Ge,Label:me,Description:fe});export{_e as y};
