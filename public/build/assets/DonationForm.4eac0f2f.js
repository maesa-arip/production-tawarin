import{r as s,j as e,a,i as c}from"./app.bc97968f.js";import{A as w}from"./App.59ee5455.js";import{C as N}from"./Container.92eb305e.js";import{T as d}from"./helper.e37a4314.js";import"./DropdownMenu.3c9a07f2.js";import"./clsx.m.256e9345.js";import"./transition.3bfa50dc.js";import"./use-event-listener.c313bc47.js";import"./AsideReservasi.7a6f531d.js";import"./Tawarin.08057ae7.js";const v=({midtransClientKey:m})=>{const[n,p]=s.exports.useState({amount:""});s.exports.useState(0);const[o,u]=s.exports.useState(0),[r,h]=s.exports.useState(0),f=t=>{p({...n,[t.target.name]:t.target.value}),h(Math.ceil(t.target.value*1/100)),u(Math.ceil(t.target.value*(100+1)/100))};s.exports.useEffect(()=>{const t=document.createElement("script");return t.src="https://app.midtrans.com/snap/snap.js",t.setAttribute("data-client-key",{}.VITE_MIDTRANS_CLIENT_KEY),t.async=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]);const g=async t=>{t.preventDefault();try{const i=await c.post("/deposit/store_auto",n);i.data.status==="error"?alert(i.data.message):window.snap.pay(i.data.snap_token,{onSuccess:async l=>{await c.post("/deposit/notification/handler",l),window.location.href="/wallets"},onPending:l=>{console.log("Pending payment",l)},onError:()=>{window.location.reload()}})}catch(i){console.error("Error Top Up:",i)}},x=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n.price),b=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(r),y=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(o);return e(N,{children:a("section",{className:"make_donation section_gap",children:[a("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:e("div",{className:"px-4 sm:px-0",children:e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Data Top Up"})})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:a("form",{onSubmit:g,children:[a("div",{className:"col-span-12 px-3 py-4 m-4 text-sm text-gray-500 rounded shadow md:col-span-8",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Setiap transaksi top-up akan dikenakan biaya administrasi sebesar 1% dari jumlah top-up."]}),e("div",{className:"px-4 py-5 bg-white sm:p-6",children:e("div",{className:"grid grid-cols-6 gap-6",children:a("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Jumlah Top Up"}),e("input",{type:"number",name:"price",id:"price",min:"10000",max:"999999999",value:n.price,onChange:f,required:!0,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[n.price&&x," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:n.price&&"("+d(n.price)+" Rupiah)"})]}),a("div",{className:"p-2 mt-4 border rounded",children:[e("label",{htmlFor:"amount",className:"block mt-2 text-sm font-medium text-gray-700",children:"Biaya Admin"}),e("input",{type:"number",name:"biaya_admin",id:"biaya_admin",min:"10000",max:"999999999",value:r,readOnly:!0,autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[r&&b," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:r&&"("+d(r)+" Rupiah)"})]}),e("label",{htmlFor:"amount",className:"block mt-2 text-sm font-medium text-gray-700",children:"Total Bayar"}),e("input",{type:"number",name:"amount",id:"amount",min:"10000",max:"999999999",value:o,readOnly:!0,autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[o&&y," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:o&&"("+d(o)+" Rupiah)"})]})]})]})})}),e("button",{type:"submit",className:"inline-flex items-center px-4 py-2 m-4 text-xs font-semibold tracking-wide tracking-widest text-white uppercase transition duration-150 ease-in-out border border-transparent rounded-md bg-amber-500 hover:bg-amber-600 focus:bg-amber-600 active:bg-amber-600 focus:outline-none false focus:ring-2 focus:ring-offset-2",children:"Simpan"})]})})})]}),e("script",{src:"https://app.midtrans.com/snap/snap.js","data-client-key":m})]})})};v.layout=m=>e(w,{children:m});export{v as default};
