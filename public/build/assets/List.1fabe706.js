import{r as a,u as C,l as u,d as L,a as s,j as e,H as A,L as R}from"./app.1f0dd18e.js";import{A as _}from"./App.ff651be8.js";import{C as B}from"./Container.5ea26937.js";import{H as E}from"./Header.436edd32.js";import{P as H}from"./Pagination.7d39aa34.js";import{I as M,d as T}from"./Navbar.8acd09dd.js";import{E as q}from"./EmptyCard.64eb1386.js";import{T as n}from"./ThirdButton.d7c77b7c.js";import{L as z}from"./ListBoxPage.c48321e9.js";import"./index.d5ba8710.js";import"./XIcon.db7e3f8f.js";import"./clsx.m.256e9345.js";import"./use-flags.e91a3c3f.js";import"./keyboard.a446c5ae.js";import"./transition.accbfc72.js";import"./use-tracked-pointer.596074c7.js";import"./use-outside-click.d3b7ddd8.js";import"./use-owner.0c5f97e2.js";import"./use-event-listener.27dd2034.js";import"./hidden.77ec9646.js";import"./DropdownMenu.4fdf1206.js";import"./use-tree-walker.9b04534f.js";import"./dialog.260ef6ef.js";import"./description.c527a18a.js";import"./Tawarin.08057ae7.js";import"./Dropdown.4a4eb8a1.js";import"./listbox.2fbb4023.js";import"./use-computed.be777bdd.js";import"./use-controllable.e5f85dbb.js";import"./SelectorIcon.481361e2.js";function D(i){const{data:d,meta:p,links:f,filtered:g,attributes:l}=i.reservations,h=i.reservation_categories;i.reservationCompany;const[x,v]=a.exports.useState([]),[o,b]=a.exports.useState(g),[w,N]=a.exports.useState(!0),{permissions:m}=C().props;m&&m.map(t=>t.name);const y=a.exports.useCallback(u.exports.debounce(t=>{L.Inertia.get(route(route().current()),{...u.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);a.exports.useEffect(()=>{w?N(!1):y(o)},[o]),a.exports.useEffect(()=>{let t=[];for(let r=l.per_page;r<l.total/l.per_page;r=r+l.per_page)t.push(r);v(t)},[]);const c=t=>{const r={...o,[t.target.name]:t.target.value,page:1};b(r)},[k,j]=a.exports.useState(!1);a.exports.useState([]);const I=[{name:"Pilih Kategori"}],[P,S]=a.exports.useState(I[0]);return s("div",{children:[e(A,{title:"Reservations"}),e(E,{title:"Reservasi",description:"List reservasi yang ada di Tawarin."}),e(M,{isOpenInfoDialog:k,setIsOpenInfoDialog:j,size:"2xl",title:"Info",header:"",children:"Anda harus memiliki akun owner terlebih dahulu sebelum bisa membuat perencanaan"}),s(B,{children:[e(n,{href:route("reservationprofile.edit"),children:"Atur Perusahaan"}),e(n,{color:"teal",className:"m-4",href:route("reservationCounters.index"),children:"Atur Layanan"}),e(n,{color:"yellow",className:"mr-4",children:"Atur Jadwal"}),e(n,{color:"red",className:"mb-4",children:"Atur Pegawai"}),s("div",{className:"flex items-center justify-end gap-x-2",children:[e("div",{className:"w-2/3 ",children:e("div",{className:"flex items-center justify-start  ",children:e(z,{ShouldMap:h,selected:P,onChange:t=>{S(t)}})})}),e("div",{className:"w-1/3",children:s("div",{className:"flex items-center justify-end gap-x-2",children:[e("select",{name:"load",id:"load",onChange:c,value:o.load,className:"hidden transition duration-150 ease-in-out border-gray-300 rounded-lg md:flex focus:ring-blue-200 focus:ring form-select",children:x.map((t,r)=>e("option",{children:t},r))}),s("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:c,value:o.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),d.length?e("div",{className:"grid w-full grid-cols-2 gap-1 mt-4 md:gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:d.map((t,r)=>e("div",{className:"relative w-full pb-4 mx-auto",children:e(R,{href:`/public/reservations/${t.slug}`,className:"relative inline-block w-full transition-transform duration-300 ease-in-out",children:s("div",{className:"p-2 bg-white border rounded-lg",children:[s("div",{className:"relative flex justify-center overflow-hidden border rounded-lg h-52",children:[e("div",{className:"w-full transition-transform duration-500 ease-in-out",children:e("div",{className:"absolute inset-0 ",children:e("img",{className:"object-cover object-top w-full h-full lg:h-full lg:w-full",src:t.media?t.media:"/storage/files/default/NoImage.svg",alt:t.slug})})}),e("div",{className:"absolute bottom-0 flex justify-center mb-3",children:e("div",{className:"flex px-2 py-1 space-x-1 overflow-hidden bg-white rounded-lg md:px-5 md:space-x-5",children:s("p",{className:"flex items-center text-sm font-medium text-gray-800",children:[e(T,{className:"w-5 h-5 text-gray-800 bg-transparent"}),t.name]})})})]}),e("div",{className:"mt-4",children:e("p",{className:"mt-2 text-base font-thin text-gray-800 md:text-xs line-clamp-1",title:"New York",children:t.formattedAddress})})]})})},r))}):e(q,{}),e(H,{meta:p,links:f})]})]})}D.layout=i=>e(_,{children:i});export{D as default};
