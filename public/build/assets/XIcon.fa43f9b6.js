import{j as ce,L as de,u as fe,r as o,R as $}from"./app.904ad6d2.js";import{c as ve}from"./clsx.m.256e9345.js";import{S as q,D as X,y as A,T as me,c as le,o as g,u as j,X as H,a as xe}from"./use-flags.6909ac6a.js";import{f as z,I as G,O as N,M as R,h as be,T as Pe,o as D,r as ae,e as ge,N as Y}from"./keyboard.02f4e380.js";import{c as Se,d as K,C as ue}from"./transition.1ed31961.js";import{s as ye}from"./use-tracked-pointer.7a52dd1f.js";import{L as Ee}from"./use-outside-click.e3055aa4.js";import{n as ee}from"./use-owner.618511bb.js";import{E as he,n as se,s as L}from"./use-event-listener.98d3bea2.js";import{c as Z,p as _}from"./hidden.25b7f3cb.js";function at({href:e,active:n,children:v,className:P,...S}){return ce(de,{href:e,...S,className:ve(P,n||fe().url==e?"inline-flex items-center px-1 border-indigo-400 text-sm font-medium leading-5 text-black focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"),children:v})}var Ie=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ie||{}),we=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(we||{});let $e={[0]:e=>({...e,popoverState:j(e.popoverState,{[0]:1,[1]:0})}),[1](e){return e.popoverState===1?e:{...e,popoverState:1}},[2](e,n){return e.button===n.button?e:{...e,button:n.button}},[3](e,n){return e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId}},[4](e,n){return e.panel===n.panel?e:{...e,panel:n.panel}},[5](e,n){return e.panelId===n.panelId?e:{...e,panelId:n.panelId}}},te=o.exports.createContext(null);te.displayName="PopoverContext";function J(e){let n=o.exports.useContext(te);if(n===null){let v=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,J),v}return n}let re=o.exports.createContext(null);re.displayName="PopoverAPIContext";function ne(e){let n=o.exports.useContext(re);if(n===null){let v=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,ne),v}return n}let oe=o.exports.createContext(null);oe.displayName="PopoverGroupContext";function ie(){return o.exports.useContext(oe)}let Q=o.exports.createContext(null);Q.displayName="PopoverPanelContext";function ke(){return o.exports.useContext(Q)}function Ce(e,n){return j(n.type,$e,e,n)}let Fe="div";function Te(e,n){var v;let P=o.exports.useRef(null),S=A(n,me(t=>{P.current=t})),a=o.exports.useRef([]),r=o.exports.useReducer(Ce,{popoverState:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:o.exports.createRef(),afterPanelSentinel:o.exports.createRef()}),[{popoverState:f,button:s,buttonId:I,panel:x,panelId:y,beforePanelSentinel:i,afterPanelSentinel:O},d]=r,c=ee((v=P.current)!=null?v:s),b=o.exports.useMemo(()=>{if(!s||!x)return!1;for(let V of document.querySelectorAll("body > *"))if(Number(V==null?void 0:V.contains(s))^Number(V==null?void 0:V.contains(x)))return!0;let t=z(),u=t.indexOf(s),w=(u+t.length-1)%t.length,B=(u+1)%t.length,U=t[w],pe=t[B];return!x.contains(U)&&!x.contains(pe)},[s,x]),E=le(I),F=le(y),k=o.exports.useMemo(()=>({buttonId:E,panelId:F,close:()=>d({type:1})}),[E,F,d]),T=ie(),M=T==null?void 0:T.registerPopover,W=g(()=>{var t;return(t=T==null?void 0:T.isFocusWithinPopoverGroup())!=null?t:(c==null?void 0:c.activeElement)&&((s==null?void 0:s.contains(c.activeElement))||(x==null?void 0:x.contains(c.activeElement)))});o.exports.useEffect(()=>M==null?void 0:M(k),[M,k]),he(c==null?void 0:c.defaultView,"focus",t=>{var u,w,B,U;f===0&&(W()||s&&x&&t.target!==window&&((w=(u=i.current)==null?void 0:u.contains)!=null&&w.call(u,t.target)||(U=(B=O.current)==null?void 0:B.contains)!=null&&U.call(B,t.target)||d({type:1})))},!0),Ee([s,x],(t,u)=>{d({type:1}),be(u,Pe.Loose)||(t.preventDefault(),s==null||s.focus())},f===0);let p=g(t=>{d({type:1});let u=(()=>t?t instanceof HTMLElement?t:"current"in t&&t.current instanceof HTMLElement?t.current:s:s)();u==null||u.focus()}),h=o.exports.useMemo(()=>({close:p,isPortalled:b}),[p,b]),m=o.exports.useMemo(()=>({open:f===0,close:p}),[f,p]),C=e,l={ref:S};return $.createElement(Q.Provider,{value:null},$.createElement(te.Provider,{value:r},$.createElement(re.Provider,{value:h},$.createElement(Se,{value:j(f,{[0]:K.Open,[1]:K.Closed})},H({ourProps:l,theirProps:C,slot:m,defaultTag:Fe,name:"Popover"})))))}let Me="button";function Oe(e,n){let v=G(),{id:P=`headlessui-popover-button-${v}`,...S}=e,[a,r]=J("Popover.Button"),{isPortalled:f}=ne("Popover.Button"),s=o.exports.useRef(null),I=`headlessui-focus-sentinel-${G()}`,x=ie(),y=x==null?void 0:x.closeOthers,i=ke()!==null;o.exports.useEffect(()=>{if(!i)return r({type:3,buttonId:P}),()=>{r({type:3,buttonId:null})}},[i,P,r]);let[O]=o.exports.useState(()=>Symbol()),d=A(s,n,i?null:l=>{if(l)a.buttons.current.push(O);else{let t=a.buttons.current.indexOf(O);t!==-1&&a.buttons.current.splice(t,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),l&&r({type:2,button:l})}),c=A(s,n),b=ee(s),E=g(l=>{var t,u,w;if(i){if(a.popoverState===1)return;switch(l.key){case D.Space:case D.Enter:l.preventDefault(),(u=(t=l.target).click)==null||u.call(t),r({type:1}),(w=a.button)==null||w.focus();break}}else switch(l.key){case D.Space:case D.Enter:l.preventDefault(),l.stopPropagation(),a.popoverState===1&&(y==null||y(a.buttonId)),r({type:0});break;case D.Escape:if(a.popoverState!==0)return y==null?void 0:y(a.buttonId);if(!s.current||b!=null&&b.activeElement&&!s.current.contains(b.activeElement))return;l.preventDefault(),l.stopPropagation(),r({type:1});break}}),F=g(l=>{i||l.key===D.Space&&l.preventDefault()}),k=g(l=>{var t,u;ae(l.currentTarget)||e.disabled||(i?(r({type:1}),(t=a.button)==null||t.focus()):(l.preventDefault(),l.stopPropagation(),a.popoverState===1&&(y==null||y(a.buttonId)),r({type:0}),(u=a.button)==null||u.focus()))}),T=g(l=>{l.preventDefault(),l.stopPropagation()}),M=a.popoverState===0,W=o.exports.useMemo(()=>({open:M}),[M]),p=ye(e,s),h=i?{ref:c,type:p,onKeyDown:E,onClick:k}:{ref:d,id:a.buttonId,type:p,"aria-expanded":e.disabled?void 0:a.popoverState===0,"aria-controls":a.panel?a.panelId:void 0,onKeyDown:E,onKeyUp:F,onClick:k,onMouseDown:T},m=se(),C=g(()=>{let l=a.panel;if(!l)return;function t(){j(m.current,{[L.Forwards]:()=>N(l,R.First),[L.Backwards]:()=>N(l,R.Last)})===Y.Error&&N(z().filter(u=>u.dataset.headlessuiFocusGuard!=="true"),j(m.current,{[L.Forwards]:R.Next,[L.Backwards]:R.Previous}),{relativeTo:a.button})}t()});return $.createElement($.Fragment,null,H({ourProps:h,theirProps:S,slot:W,defaultTag:Me,name:"Popover.Button"}),M&&!i&&f&&$.createElement(Z,{id:I,features:_.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:C}))}let Be="div",Re=q.RenderStrategy|q.Static;function Le(e,n){let v=G(),{id:P=`headlessui-popover-overlay-${v}`,...S}=e,[{popoverState:a},r]=J("Popover.Overlay"),f=A(n),s=ue(),I=(()=>s!==null?(s&K.Open)===K.Open:a===0)(),x=g(i=>{if(ae(i.currentTarget))return i.preventDefault();r({type:1})}),y=o.exports.useMemo(()=>({open:a===0}),[a]);return H({ourProps:{ref:f,id:P,"aria-hidden":!0,onClick:x},theirProps:S,slot:y,defaultTag:Be,features:Re,visible:I,name:"Popover.Overlay"})}let De="div",Ne=q.RenderStrategy|q.Static;function je(e,n){let v=G(),{id:P=`headlessui-popover-panel-${v}`,focus:S=!1,...a}=e,[r,f]=J("Popover.Panel"),{close:s,isPortalled:I}=ne("Popover.Panel"),x=`headlessui-focus-sentinel-before-${G()}`,y=`headlessui-focus-sentinel-after-${G()}`,i=o.exports.useRef(null),O=A(i,n,p=>{f({type:4,panel:p})}),d=ee(i);xe(()=>(f({type:5,panelId:P}),()=>{f({type:5,panelId:null})}),[P,f]);let c=ue(),b=(()=>c!==null?(c&K.Open)===K.Open:r.popoverState===0)(),E=g(p=>{var h;switch(p.key){case D.Escape:if(r.popoverState!==0||!i.current||d!=null&&d.activeElement&&!i.current.contains(d.activeElement))return;p.preventDefault(),p.stopPropagation(),f({type:1}),(h=r.button)==null||h.focus();break}});o.exports.useEffect(()=>{var p;e.static||r.popoverState===1&&((p=e.unmount)==null||p)&&f({type:4,panel:null})},[r.popoverState,e.unmount,e.static,f]),o.exports.useEffect(()=>{if(!S||r.popoverState!==0||!i.current)return;let p=d==null?void 0:d.activeElement;i.current.contains(p)||N(i.current,R.First)},[S,i,r.popoverState]);let F=o.exports.useMemo(()=>({open:r.popoverState===0,close:s}),[r,s]),k={ref:O,id:P,onKeyDown:E,onBlur:S&&r.popoverState===0?p=>{var h,m,C,l,t;let u=p.relatedTarget;u&&i.current&&((h=i.current)!=null&&h.contains(u)||(f({type:1}),((C=(m=r.beforePanelSentinel.current)==null?void 0:m.contains)!=null&&C.call(m,u)||(t=(l=r.afterPanelSentinel.current)==null?void 0:l.contains)!=null&&t.call(l,u))&&u.focus({preventScroll:!0})))}:void 0,tabIndex:-1},T=se(),M=g(()=>{let p=i.current;if(!p)return;function h(){j(T.current,{[L.Forwards]:()=>{var m;N(p,R.First)===Y.Error&&((m=r.afterPanelSentinel.current)==null||m.focus())},[L.Backwards]:()=>{var m;(m=r.button)==null||m.focus({preventScroll:!0})}})}h()}),W=g(()=>{let p=i.current;if(!p)return;function h(){j(T.current,{[L.Forwards]:()=>{var m;if(!r.button)return;let C=z(),l=C.indexOf(r.button),t=C.slice(0,l+1),u=[...C.slice(l+1),...t];for(let w of u.slice())if(w.dataset.headlessuiFocusGuard==="true"||(m=r.panel)!=null&&m.contains(w)){let B=u.indexOf(w);B!==-1&&u.splice(B,1)}N(u,R.First,{sorted:!1})},[L.Backwards]:()=>{var m;N(p,R.Previous)===Y.Error&&((m=r.button)==null||m.focus())}})}h()});return $.createElement(Q.Provider,{value:P},b&&I&&$.createElement(Z,{id:x,ref:r.beforePanelSentinel,features:_.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M}),H({ourProps:k,theirProps:a,slot:F,defaultTag:De,features:Ne,visible:b,name:"Popover.Panel"}),b&&I&&$.createElement(Z,{id:y,ref:r.afterPanelSentinel,features:_.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:W}))}let Ge="div";function Ae(e,n){let v=o.exports.useRef(null),P=A(v,n),[S,a]=o.exports.useState([]),r=g(d=>{a(c=>{let b=c.indexOf(d);if(b!==-1){let E=c.slice();return E.splice(b,1),E}return c})}),f=g(d=>(a(c=>[...c,d]),()=>r(d))),s=g(()=>{var d;let c=ge(v);if(!c)return!1;let b=c.activeElement;return(d=v.current)!=null&&d.contains(b)?!0:S.some(E=>{var F,k;return((F=c.getElementById(E.buttonId.current))==null?void 0:F.contains(b))||((k=c.getElementById(E.panelId.current))==null?void 0:k.contains(b))})}),I=g(d=>{for(let c of S)c.buttonId.current!==d&&c.close()}),x=o.exports.useMemo(()=>({registerPopover:f,unregisterPopover:r,isFocusWithinPopoverGroup:s,closeOthers:I}),[f,r,s,I]),y=o.exports.useMemo(()=>({}),[]),i=e,O={ref:P};return $.createElement(oe.Provider,{value:x},H({ourProps:O,theirProps:i,slot:y,defaultTag:Ge,name:"Popover.Group"}))}let Ke=X(Te),We=X(Oe),Xe=X(Le),He=X(je),Ue=X(Ae),ut=Object.assign(Ke,{Button:We,Overlay:Xe,Panel:He,Group:Ue});function Ve(e,n){return o.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),o.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}))}const qe=o.exports.forwardRef(Ve);var st=qe;function Je(e,n){return o.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},e),o.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const Qe=o.exports.forwardRef(Je);var it=Qe;export{ut as L,st as M,at as N,it as X};
