import{r as o,a as e,j as t,l as u,F as x,d as w,L as p}from"./app.2e02c7a9.js";import{P as v}from"./Pagination.38ca1d7e.js";import{H as d}from"./listbox.28a5ba85.js";import{t as b}from"./transition.bf691415.js";import{A as N}from"./App.928471ec.js";import{C as y}from"./Container.b04669f3.js";import{o as m}from"./DropdownMenu.27ac6104.js";import"./clsx.m.256e9345.js";import"./use-flags.0ec1a3f9.js";import"./keyboard.3ed9c49d.js";import"./use-computed.7574c363.js";import"./hidden.c9669fbb.js";import"./use-controllable.6c4d465d.js";import"./Navbar.96ce2915.js";import"./XIcon.76044397.js";import"./description.6b45f6be.js";import"./Tawarin.08057ae7.js";import"./Dropdown.3f5460e1.js";import"./index.cc5444cd.js";function k({categories:r,initialState:a}){const[n,c]=o.exports.useState(a);return e("div",{className:"w-full lg:w-52",children:e(d,{value:n,onChange:s=>{c(s),w.Inertia.get("/toko/products/table",{category:s},{preserveState:!0})},children:t("div",{className:"relative rounded-lg shadow",children:[t(d.Button,{className:"relative w-full h-10 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm",children:[e("span",{className:"block truncate",children:a?u.exports.find(r,s=>s.slug==n).name:"Choose a Category"}),e("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e(b,{as:o.exports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(d.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:r.map((s,h)=>e(d.Option,{className:({active:i})=>`${i?"text-blue-900 bg-blue-100":"text-gray-900"}
                          cursor-default select-none relative py-2 pl-10 pr-4`,value:s.slug,children:({selected:i,active:l})=>t(x,{children:[e("span",{className:`${i?"font-medium":"font-normal"} block truncate`,children:s.name}),i?e("span",{className:`text-blue-600
                                absolute inset-y-0 left-0 flex items-center pl-3`,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):null]})},h))})})]})})})}const C=[{label:"latest",value:"latest"},{label:"oldest",value:"oldest"}];function L(r){const{filter:a,categories:n}=r,{data:c,meta:g}=r.products,[s,h]=o.exports.useState(a.search),i=o.exports.useCallback(u.exports.debounce(l=>{w.Inertia.get("/toko/products/table",{...u.exports.pickBy({search:l,page:a.page,filtered:a.filtered,category:a.category})},{preserveState:!0})},500),[]);return o.exports.useEffect(()=>i(s),[s]),e(y,{children:t("div",{className:"space-y-4",children:[t("div",{className:"flex flex-col w-full gap-2 lg:flex-row lg:items-center lg:justify-between",children:[t("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center",children:[t(m,{as:"div",className:"relative",children:[t(m.Button,{className:"flex items-center justify-between w-full px-4 py-2 capitalize bg-white rounded-lg shadow focus:outline-none lg:w-52",children:[a.filtered=="popular-this-week"?"Popular This Week":a.filtered=="no-replies"?"No Replies":a.filtered?a.filtered:"Filter",e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e(m.Items,{className:"absolute mt-1 w-52 z-50 bg-white shadow rounded-lg overflow-hidden py-0.5",children:C.map((l,f)=>l.label=="line"?e("div",{className:"h-px bg-gray-200 my-0.5 w-full"},f):e(m.Item,{children:e(p,{preserveState:!0,className:"block px-4 py-2 hover:bg-gray-100 font-medium capitalize text-sm",href:`/toko/products/table?filtered=${l.value}`,children:l.label})},f))})]}),e(k,{categories:n,initialState:a.category})]}),t("div",{className:"flex items-center px-2 overflow-hidden bg-white rounded-lg shadow",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{className:"h-10 p-0 border-0 focus:outline-none focus:ring-transparent focus:border-transparent",type:"text",placeholder:"Search...",name:"search",id:"search",value:s,onChange:l=>h(l.target.value)})]})]}),c.length?c.map(l=>t("div",{className:"flex p-4 bg-white rounded-lg shadow gap-x-4",children:[e("div",{className:"flex-shrink-0",children:e("img",{className:"w-10 h-10 rounded-full",src:l.picture,alt:l.name})}),t("div",{className:"w-full",children:[e("div",{className:"flex items-center justify-between",children:e(p,{href:route("products.show",l.slug),children:e("h1",{children:l.name})})}),e("div",{className:"mb-3 text-sm leading-relaxed text-gray-500",children:l.teaser}),t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center text-sm gap-x-4",children:[e(p,{href:`/toko/products/table?category=${l.category.slug}`,className:"hidden text-sm font-semibold text-gray-500 md:block",children:l.category.name}),e("span",{className:"hidden text-gray-500 md:block",children:l.created_at})]}),t("div",{className:"flex items-center text-sm gap-x-4",children:[t("span",{children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"inline w-5 h-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),e("span",{className:"ml-1",children:l.likes_count})]}),t("span",{children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"inline w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("span",{className:"ml-1",children:l.replies_count})]})]})]})]})]},l.id)):e("div",{className:"p-10 text-center text-gray-800 bg-white border border-dashed rounded-2xl",children:"No products."}),e(v,{meta:g})]})})}L.layout=r=>e(N,{children:r});export{L as default};
