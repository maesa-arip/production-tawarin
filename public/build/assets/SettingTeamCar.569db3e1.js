import{C as E}from"./Container.bcad035d.js";import{n as A}from"./helper.e37a4314.js";import{r as l,b as P,a,j as e,H as _}from"./app.afc5da0c.js";import{A as M}from"./AppReservasi.1669de09.js";import{E as f}from"./EditModal.e87d32a6.js";import{I as B}from"./Input.0a3a3bb6.js";import{I as H}from"./InputError.8545c9ca.js";import{T as m}from"./ThirdButtonNoLink.d3340f43.js";import{f as K,m as z}from"./AsideReservasi.7e66db85.js";import{T as N}from"./ThirdButtonSmallNoLink.f28f2ca7.js";import{A as F}from"./AddModal.5f8eae0b.js";import J from"./Create.cdcfea20.js";import"./DropdownMenu.c69befdb.js";import"./clsx.m.256e9345.js";import"./transition.bf88e468.js";import"./use-event-listener.4dc00a0d.js";import"./dialog.05f95796.js";import"./description.d903d679.js";import"./Tawarin.08057ae7.js";import"./Form.d83f38b4.js";import"./InputLabel.1c7146d4.js";import"./PrimaryButton.a1dd3581.js";import"./SecondaryButton.1a8f79a9.js";import"./TextInput.e5daa050.js";import"./TextInputCheckbox.50aa1b3f.js";function R({reservationCounter:t,employees:c}){const[y,b]=l.exports.useState([]),[v,r]=l.exports.useState(!1),[w,o]=l.exports.useState(!1),n=s=>{b(s),r(!0)},{data:D,setData:k,patch:L,post:g,processing:p,errors:S,reset:x}=P({}),T=s=>{g(route("reservation.selectemployee",{id:s.id,slug:t.slug}),{onSuccess:()=>Promise.all([r(!1),x()])})},O=s=>{s.preventDefault(),g(route("reservation.maketeam",t.slug),{onSuccess:()=>Promise.all([o(!1),x()])})},I=()=>{i(!0)},[h,i]=l.exports.useState(!1);return l.exports.useState(!1),l.exports.useState(!1),a("div",{children:[e(F,{isOpenAddDialog:h,setIsOpenAddDialog:i,size:"max-w-4xl",title:"Tambah Tim",children:e(J,{slug:t.slug,isOpenAddDialog:h,setIsOpenAddDialog:i})}),e(f,{isOpenEditDialog:v,setIsOpenEditDialog:r,size:"2xl",title:"Pilih Karyawan",children:y.map((s,d)=>e("div",{children:e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col my-4 bg-white border rounded-lg",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:a("div",{className:"grid w-full grid-cols-12 gap-4",children:[a("div",{className:"flex items-center col-span-9 lg:col-span-10",children:[e("img",{className:"object-cover w-16 h-12 border rounded-lg",src:s.media_id?`/storage/${s.media_id}/${s.file_name}`:"/storage/files/default/NoImage.svg",alt:s.name}),a("p",{className:"ml-2",children:[s.user.name,s.team]})]}),e("div",{className:"flex items-center justify-end col-span-3 lg:col-span-2",children:e(N,{processing:p,onClick:()=>T(s),children:"Pilih"})})]})})})})},d))}),e(f,{isOpenEditDialog:w,setIsOpenEditDialog:o,size:"2xl",title:"Masukan Nama Team",children:a("form",{onSubmit:O,children:[e(B,{type:"text",name:"name",value:D.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:s=>k("name",s.target.value)}),e(H,{message:S.name,className:"mt-2"}),e(m,{className:"mt-4",disabled:p,children:"Simpan"})]})}),e(_,{title:"Counter"}),e(E,{children:e("div",{className:"bg-white",children:a("div",{className:"grid items-start grid-cols-1 px-4 py-12 mx-auto gap-y-16 gap-x-8 sm:px-6 sm:py-16 lg:grid-cols-2 lg:px-8",children:[a("div",{children:[e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:t.name}),a("p",{className:"mt-4 font-semibold text-gray-500",children:["kode : ",t.code]}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Harga"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:["Rp"," ",A(t.price)]})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Persentase Owner"}),e("dd",{className:"mt-2 text-sm text-gray-500",children:t.percent_owner})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Persentase Karyawan"}),e("dd",{className:"mt-2 text-sm text-gray-500",children:t.percent_employe})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Durasai Pelayanan"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[t.service_duration," ","Menit"]})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Batas Waktu Reservasi"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[t.period," Hari"]})]})})]}),a("div",{className:"grid grid-cols-1 grid-rows-1 gap-4 sm:gap-6 lg:gap-8",children:[e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:e(m,{onClick:I,children:"Buat Tim"})}),e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:e(m,{onClick:()=>n(c),children:"Undang Karyawan"})}),e("div",{className:"w-full",children:t.team.map((s,d)=>a("div",{className:"col-span-12 p-2 mb-4 overflow-hidden border rounded-xl",children:[a("div",{className:"flex justify-between font-semibold text-gray-500",children:[e("p",{children:s.name}),e(N,{onClick:()=>n(c),children:"Undang Karyawan"})]}),e("dl",{className:"grid grid-cols-1 mt-2 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:e("div",{className:"w-full pt-4 border-t border-gray-200",children:s.joincounter.map((u,j)=>a("div",{className:"grid items-center grid-cols-12",children:[e("dt",{className:"col-span-9 text-xs text-gray-900",children:u.email}),e("dd",{className:"col-span-3 text-xs text-gray-500",children:u.approved==1?a("div",{className:"flex",children:["Team"," ",e(K,{className:"w-4 h-4 ml-auto text-blue-400"})]}):a("div",{className:"flex",children:["Menunggu"," ",e(z,{className:"w-4 h-4 ml-auto text-yellow-400"})]})})]},j))})})]},d))})]})]})})})]})}R.layout=t=>e(M,{children:t});export{R as default};
