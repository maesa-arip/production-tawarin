import{u as m,r as s,j as e,a as o}from"./app.17afdd28.js";function p(){const{props:l}=m(),[n,c]=s.exports.useState({donor_name:"",donor_email:"",donation_type:"",amount:"",note:""});s.exports.useEffect(()=>{const a=document.createElement("script");return a.src="https://app.sandbox.midtrans.com/snap/snap.js",a.dataset.clientKey=l.midtransClientKey,a.async=!0,document.body.appendChild(a),()=>{document.body.removeChild(a)}},[]);const d=async a=>{a.preventDefault();try{const t=await(await fetch(route("donation.store"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();if(t.status==="error"){alert(t.message);return}window.snap&&window.snap.pay(t.snap_token,{onSuccess:()=>{router.reload()},onPending:()=>{console.log("Payment pending")},onError:()=>{router.reload()}})}catch(i){console.error("Error:",i),alert("An error occurred during donation submission.")}},r=a=>{c({...n,[a.target.name]:a.target.value})};return e("section",{className:"make_donation section_gap",children:o("div",{className:"container",children:[e("div",{className:"row justify-content-start section-title-wrap",children:o("div",{className:"col-lg-12",children:[e("h1",{children:"Make a Donation Today"}),e("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Exercitationem facilis nesciunt nam quod nemo eum, vitae architecto distinctio reiciendis?"})]})}),e("div",{className:"donate_now_wrapper",children:e("form",{onSubmit:d,children:o("div",{className:"row",children:[e("div",{className:"col-lg-4",children:e("div",{className:"donate_box mb-30",children:o("div",{className:"form-group",children:[e("label",{children:"Nama"}),e("input",{name:"donor_name",type:"text",placeholder:"Nama",className:"form-control",value:n.donor_name,onChange:r,required:!0})]})})}),e("div",{className:"col-lg-4",children:e("div",{className:"donate_box mb-30",children:o("div",{className:"form-group",children:[e("label",{children:"Email"}),e("input",{name:"donor_email",type:"email",placeholder:"Email",className:"form-control",value:n.donor_email,onChange:r,required:!0})]})})}),e("div",{className:"col-lg-4",children:e("div",{className:"donate_box mb-30",children:o("div",{className:"form-group",children:[e("label",{children:"Jenis Donasi"}),o("select",{name:"donation_type",className:"form-control",value:n.donation_type,onChange:r,required:!0,children:[e("option",{value:""}),e("option",{value:"infak_kemanusiaan",children:"Infak Kemanusiaan"}),e("option",{value:"infak_pendidikan",children:"Infak Pendidikan"}),e("option",{value:"infak_kesehatan",children:"Infak Kesehatan"})]})]})})}),e("div",{className:"col-lg-4",children:e("div",{className:"donate_box",children:e("div",{className:"form-group",children:e("input",{name:"amount",type:"number",placeholder:"Nominal Donasi",className:"form-control",min:"10000",max:"999999999",value:n.amount,onChange:r,required:!0})})})}),e("div",{className:"col-lg-4",children:e("div",{className:"donate_box",children:e("div",{className:"form-group",children:e("textarea",{name:"note",type:"text",placeholder:"Pesan",className:"form-control",value:n.note,onChange:r})})})}),e("div",{className:"col-lg-4",children:e("div",{className:"donate_box",children:e("button",{type:"submit",className:"main_btn w-100",children:"donate now"})})})]})})})]})})}export{p as default};
