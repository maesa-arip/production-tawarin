import{r as l,l as P,d as ae,b as re,a as r,F as _,j as e,H as se,L as J}from"./app.d0158df0.js";import{D as c}from"./index_responsive.476210bc.js";import{A as te}from"./AppReservasi.773b835b.js";import"./CopyButton.00a9b96f.js";import{I as z}from"./InfoModal.43717cbd.js";import{T as i}from"./ThirdButtonNoLink.d5e954bc.js";import{i as F}from"./index.esm.3a45a165.js";import{I as v}from"./Input.4064c304.js";import{I as y}from"./InputError.6380d995.js";import{E as R}from"./EditModal.bc69cf9a.js";import{H as le}from"./Header.44e9a7ae.js";import"./DropdownMobile.bd88851f.js";import{T as p}from"./ThirdButtonSmallNoLink.b20a8ab3.js";import{C as ie}from"./Container.eaed336f.js";import"./transition.a8105c95.js";import"./DropdownMenu.41ec8179.js";import"./clsx.m.256e9345.js";import"./use-event-listener.d35982f7.js";import"./Tawarin.08057ae7.js";import"./AsideReservasi.58c1993a.js";import"./ExclamationIcon.4010abe5.js";import"./dialog.293c8101.js";import"./description.7fd81697.js";const d=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),m=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function ne(u){const{data:D,meta:w,filtered:T,attributes:h}=u.reservationEmployeeDayOff,H=u.reservationEmployeeBreak,f=u.reservationEmployee,[j,q]=l.exports.useState([]),[s,x]=l.exports.useState(T),[A,K]=l.exports.useState(!0),U=l.exports.useCallback(P.exports.debounce(a=>{ae.Inertia.get(route(route().current()),{...P.exports.pickBy(a),page:a.page},{preserveState:!0,preserveScroll:!0})},150),[]);l.exports.useEffect(()=>{A?K(!1):U(s)},[s]),l.exports.useEffect(()=>{let a=[];for(let t=h.per_page;t<h.total/h.per_page;t=t+h.per_page)a.push(t);q(a)},[]);const b=a=>{const t={...s,[a.target.name]:a.target.value,page:1};x(t)},n=a=>{x({...s,field:a,direction:s.direction=="asc"?"desc":"asc"})},[oe,L]=l.exports.useState([]),[$,S]=l.exports.useState(!1),[W,B]=l.exports.useState(!1),{data:o,setData:g,patch:ce,post:M,put:de,processing:O,errors:N,reset:E}=re({});l.exports.useEffect(()=>{const a=f==null?void 0:f.company.id;g("reservation_company_id",a)},[o.reason,o.start,o.end]);const Y=()=>{S(!1)},G=()=>{B(!1)},[Q,k]=l.exports.useState(!1),C=a=>{L(a),k(!0)},V=a=>{a.preventDefault(),M(route("reservationemployeedayoff.store"),{onSuccess:()=>Promise.all([k(!1),E()])})},[X,I]=l.exports.useState(!1),Z=a=>{L(a),I(!0)},ee=a=>{a.preventDefault(),M(route("reservationemployeebreak.store_break"),{onSuccess:()=>Promise.all([I(!1),E()])})};return r(_,{children:[e(le,{title:"Jadwal",description:"Jadwal Libur dan Istirahat."}),r(ie,{children:[e(R,{isOpenEditDialog:Q,setIsOpenEditDialog:k,size:"2xl",title:"Masukan Jadwal Libur",children:r("form",{onSubmit:V,children:[r("div",{className:"grid grid-cols-12 gap-6",children:[r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Tanggal Libur"}),e(v,{type:"date",name:"date",value:o.date,className:"block w-full mt-1",autoComplete:"date",isFocused:!0,onChange:a=>g("date",a.target.value)}),e(y,{message:N.date,className:"mt-2"})]})," ",r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Alasan"}),e(v,{type:"text",name:"reason",value:o.reason,className:"block w-full mt-1",autoComplete:"reason",isFocused:!0,onChange:a=>{g("reason",a.target.value)}}),e(y,{message:N.reason,className:"mt-2"})]})," "]}),e(i,{className:"mt-4",disabled:O,children:"Simpan"})]})}),e(R,{isOpenEditDialog:X,setIsOpenEditDialog:I,size:"2xl",title:"Masukan Jam Istirahat",children:r("form",{onSubmit:ee,children:[r("div",{className:"grid grid-cols-12 gap-6",children:[r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"start",className:"block text-sm font-medium text-gray-700",children:"Jam Mulai Istirahat"}),e(v,{type:"time",name:"start",value:o.start,className:"block w-full mt-1",autoComplete:"start",isFocused:!0,onChange:a=>g("start",a.target.value)}),e(y,{message:N.start,className:"mt-2"})]})," ",r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"end",className:"block text-sm font-medium text-gray-700",children:"Jam Berakhir Istirahat"}),e(v,{type:"time",name:"end",value:o.end,className:"block w-full mt-1",autoComplete:"end",isFocused:!0,onChange:a=>g("end",a.target.value)}),e(y,{message:N.end,className:"mt-2"})]})," "]}),e(i,{className:"mt-4",disabled:O,children:"Simpan"})]})}),e(z,{isOpenInfoDialog:$,setIsOpenInfoDialog:S,size:"2xl",closeButton:"false",title:"Yakin Mulai Pelayanan ?",children:e(i,{className:"mx-2 mt-2",color:"gray",onClick:Y,children:"Close"})}),e(z,{isOpenInfoDialog:W,setIsOpenInfoDialog:B,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:e(i,{className:"mx-2 mt-2",color:"gray",onClick:G,children:"Close"})}),e(se,{title:"Profile"}),r("div",{className:"hidden lg:block",children:[r("div",{className:"flex items-center justify-end",children:[e("div",{className:"w-1/2",children:r("div",{className:"flex items-center justify-start mb-6 gap-x-2",children:[e(i,{onClick:()=>C(),children:"Tambah Hari Libur"}),e(i,{onClick:()=>C(),children:"Tambah Jam Istirahat"})]})}),e("div",{className:"w-1/2",children:r("div",{className:"flex items-center justify-end mb-6 gap-x-2",children:[e("select",{name:"load",id:"load",onChange:b,value:s.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:j.map((a,t)=>e("option",{children:a},t))}),r("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:b,value:s.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 sm:-mx-6 lg:-mx-8",children:e("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:e("div",{className:"border-b border-gray-200 shadow sm:rounded-lg",children:r("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:r("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:e("div",{className:"flex items-center cursor-pointer gap-x-2",children:"#"})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("jumlah_revisi"),children:[s.field=="media"&&s.direction=="asc"&&e(d,{}),s.field=="media"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("name"),children:["Nama Perencanaan",s.field=="name"&&s.direction=="asc"&&e(d,{}),s.field=="name"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("jumlah_revisi"),children:["Jumlah Revisi",s.field=="jumlah_revisi"&&s.direction=="asc"&&e(d,{}),s.field=="jumlah_revisi"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("anggaran_proyek"),children:["Anggaran Proyek",s.field=="anggaran_proyek"&&s.direction=="asc"&&e(d,{}),s.field=="anggaran_proyek"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("is_approved"),children:["Status",s.field=="is_approved"&&s.direction=="asc"&&e(d,{}),s.field=="is_approved"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("employee_bids_count"),children:["Jumlah Penawar",s.field=="employee_bids_count"&&s.direction=="asc"&&e(d,{}),s.field=="employee_bids_count"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>n("created_at"),children:["Dibuat",s.field=="created_at"&&s.direction=="asc"&&e(d,{}),s.field=="created_at"&&s.direction=="desc"&&e(m,{})]})}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map((a,t)=>r("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:w.from+t}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("img",{className:"object-cover w-16 h-12 border rounded-lg",src:a.media?a.media:"storage/files/default/NoImage.svg",alt:a.slug})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.company.name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:r("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("div",{className:"flex-1 block w-full px-4 py-1 text-base border border-r-0 border-gray-300 rounded-none rounded-l-md focus:border-indigo-500 focus:ring-indigo-500",children:a.jumlah_revisi}),e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-l-0 border-gray-300 rounded-r-md bg-gray-50",children:"Kali"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:r("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-r-0 border-gray-300 rounded-l-md bg-gray-50",children:"Rp"}),e("div",{className:"flex-1 block w-full px-2 py-1 text-base border border-l-0 border-gray-300 rounded-none rounded-r-md focus:border-indigo-500 focus:ring-indigo-500",children:"employee.anggaran_proyek"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.approved==1?e(p,{children:"Diterima"}):e(p,{color:"secondary",children:"Menunggu Konfirmasi"})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:r("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("div",{className:"flex-1 block w-full px-4 py-1 text-base border border-r-0 border-gray-300 rounded-none rounded-l-md focus:border-indigo-500 focus:ring-indigo-500",children:a.employee_bids_count}),e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-l-0 border-gray-300 rounded-r-md bg-gray-50",children:"Penawaran"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.created_at}),e("td",{children:r(c,{children:[e(c.Trigger,{children:e("button",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),r(c.Content,{children:[a.approved==1?"":r(_,{children:[e(c.Link,{children:"Edit"}),e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>openDestroyDialog(a),children:"Hapus"})]}),e(c.Link,{children:"Lihat Detail"}),e(c.Link,{children:"Lihat Penawaran"}),a.employee_bids_sum_is_approved=="1"&&e(c.Link,{href:route("employee.tahapan",`${a.slug}`),children:"Tahapan Perencanaan"})]})]})})]},a.id))})]})})})})}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:w.links.map((a,t)=>e("button",{disabled:a.url==null,className:`${a.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>x({...s,page:new URL(a.url).searchParams.get("page")}),children:a.label},t))})]}),r("div",{className:"lg:hidden",children:[r("div",{className:"flex items-center justify-between",children:[e("div",{className:"w-1/2",children:e("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:f?r(_,{children:[r(i,{onClick:()=>C(),children:["Libur ",e(F,{className:"w-4 h-4"})]}),r(i,{onClick:()=>Z(),children:["Istirahat"," ",e(F,{className:"w-4 h-4"})]})]}):e(p,{color:"secondary",children:"Belum Menjadi Karyawan"})})}),e("div",{className:"w-1/2",children:r("div",{className:"flex items-center justify-between mt-2 mb-0 gap-x-1",children:[e("select",{name:"load",id:"load",onChange:b,value:s.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:j.map((a,t)=>e("option",{children:a},t))}),r("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",autoComplete:"off",name:"q",id:"q",onChange:b,value:s.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),e("div",{className:"grid w-full grid-cols-1 mt-4 gap-x-1 gap-y-4 md:gap-2 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:H.map((a,t)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col bg-amber-200 border border-amber-400 shadow-lg rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:r("div",{className:"grid w-full grid-cols-12 gap-1",children:[r("div",{className:"col-span-4 col-start-1",children:[e("p",{className:"text-base font-semibold",children:a.company.name}),e("p",{className:"text-xs font-medium text-gray-500",children:a.email})]}),e("div",{className:"flex items-center justify-end col-span-6 col-end-13",children:e(p,{color:"secondary",children:"Jam Istirahat"})}),e("div",{className:"col-span-12 col-start-1 border-b border-gray-100"}),e("div",{className:"col-span-10 col-start-1",children:r(J,{className:"text-base font-semibold",children:["Istirahat  : ",a.start," - ",a.end]})}),e("div",{className:"col-span-5 col-end-13",children:e("div",{className:"flex items-center justify-end col-span-3 col-end-6 "})})]})})})},t))}),e("div",{className:"grid w-full grid-cols-1 mt-4 gap-x-1 gap-y-4 md:gap-2 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:D.map((a,t)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col bg-white border shadow-lg rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:r("div",{className:"grid w-full grid-cols-12 gap-1",children:[r("div",{className:"col-span-4 col-start-1",children:[e("p",{className:"text-base font-semibold",children:a.company.name}),e("p",{className:"text-xs font-medium text-gray-500",children:a.email})]}),e("div",{className:"flex items-center justify-end col-span-6 col-end-13",children:a.approved==1?e(p,{children:"Diterima"}):e(p,{color:"secondary",children:"Menunggu Konfirmasi"})}),e("div",{className:"col-span-12 col-start-1 border-b border-gray-100"}),e("div",{className:"col-span-10 col-start-1",children:r(J,{className:"text-base font-semibold",children:["Libur : ",a.date]})}),e("div",{className:"col-span-5 col-end-13",children:e("div",{className:"flex items-center justify-end col-span-3 col-end-6 "})})]})})})},t))}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:w.links.map((a,t)=>e("button",{disabled:a.url==null,className:`${a.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>x({...s,page:new URL(a.url).searchParams.get("page")}),children:a.label},t))})]})]})]})}ne.layout=u=>e(te,{children:u});export{ne as default};
