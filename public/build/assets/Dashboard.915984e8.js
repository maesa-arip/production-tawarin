import{a as t,j as e,u as q,r as a,b as Q,F as i,H as U,L as l,d as V}from"./app.90bdf929.js";import{A as Y}from"./AppDefault.14c0d233.js";import{C as Z}from"./Container.30b896ec.js";import{D as ee}from"./DestroyModal.5daec200.js";import{B as se}from"./Button.bdd48215.js";import{n as te}from"./helper.e37a4314.js";import"./Dropdown.f55692dd.js";import{D as r}from"./DropdownMobile.12984ef4.js";import{P as ae,G as oe,C as ie}from"./MenuLogo.222e5ea9.js";import{I as n}from"./InfoModal.23d5416d.js";import{T as m}from"./ThirdButton.f9b3b76b.js";import{R as I}from"./RadioCard.e66d3ca2.js";import{T as u}from"./ThirdButtonNoLink.5520f55d.js";import"./DropdownMenu.69b733e5.js";import"./clsx.m.256e9345.js";import"./transition.993130dd.js";import"./use-owner.5dedc8b0.js";import"./index.a4655275.js";import"./XIcon.2f3469b0.js";import"./use-event-listener.d8a2358b.js";import"./Tawarin.08057ae7.js";import"./label.535f9826.js";import"./use-controllable.e551d91d.js";function re(){return t("div",{className:"flex flex-col",children:[e("h2",{className:"mb-4 text-2xl font-bold"}),t("div",{className:"grid grid-cols-2 gap-4 mt-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-blue-100 rounded-full bg-blue-50",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-400 icon icon-tabler icon-tabler-brand-cashapp",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M17.1 8.648a.568 .568 0 0 1 -.761 .011a5.682 5.682 0 0 0 -3.659 -1.34c-1.102 0 -2.205 .363 -2.205 1.374c0 1.023 1.182 1.364 2.546 1.875c2.386 .796 4.363 1.796 4.363 4.137c0 2.545 -1.977 4.295 -5.204 4.488l-.295 1.364a.557 .557 0 0 1 -.546 .443h-2.034l-.102 -.011a.568 .568 0 0 1 -.432 -.67l.318 -1.444a7.432 7.432 0 0 1 -3.273 -1.784v-.011a.545 .545 0 0 1 0 -.773l1.137 -1.102c.214 -.2 .547 -.2 .761 0a5.495 5.495 0 0 0 3.852 1.5c1.478 0 2.466 -.625 2.466 -1.614c0 -.989 -1 -1.25 -2.886 -1.954c-2 -.716 -3.898 -1.728 -3.898 -4.091c0 -2.75 2.284 -4.091 4.989 -4.216l.284 -1.398a.545 .545 0 0 1 .545 -.432h2.023l.114 .012a.544 .544 0 0 1 .42 .647l-.307 1.557a8.528 8.528 0 0 1 2.818 1.58l.023 .022c.216 .228 .216 .569 0 .773l-1.057 1.057z"})]})}),e("div",{className:"ml-4",children:e("h2",{className:"mt-3 font-semibold",children:"0 Saldo"})})]}),t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-orange-100 rounded-full bg-orange-50",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-orange-400 icon icon-tabler icon-tabler-cash",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"}),e("path",{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),e("path",{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"})]})}),e("div",{className:"ml-4",children:e("h2",{className:"mt-3 font-semibold",children:"0 Bonus"})})]}),t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-red-100 rounded-full bg-red-50",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-red-400 icon icon-tabler icon-tabler-share-3",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M13 4v4c-6.575 1.028 -9.02 6.788 -10 12c-.037 .206 5.384 -5.962 10 -6v4l8 -7l-8 -7z"})]})}),e("div",{className:"ml-4",children:e("h2",{className:"mt-3 font-semibold",children:"0 Referal"})})]}),t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-indigo-100 rounded-full bg-indigo-50",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-indigo-400 icon icon-tabler icon-tabler-building-bank",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M3 21l18 0"}),e("path",{d:"M3 10l18 0"}),e("path",{d:"M5 6l7 -3l7 3"}),e("path",{d:"M4 10l0 11"}),e("path",{d:"M20 10l0 11"}),e("path",{d:"M8 14l0 3"}),e("path",{d:"M12 14l0 3"}),e("path",{d:"M16 14l0 3"})]})}),e("div",{className:"ml-4",children:e("h2",{className:"mt-3 font-semibold",children:"0 Proyek"})})]})]})]})}function le(o){const{data:x,meta:ne,filtered:D,attributes:de}=o.plans;o.planRejectCount,o.permissions;const j=o.joinas_reservasi,_=o.joinas_konstruksi,M=o.portofolio,{auth:p}=q().props;a.exports.useState([]),a.exports.useState(D);const[C,f]=a.exports.useState(!1),[S,b]=a.exports.useState(!1),[L,v]=a.exports.useState(!1),[O,g]=a.exports.useState(!1),[P,d]=a.exports.useState(!1),[z,c]=a.exports.useState(!1),[B,h]=a.exports.useState([]),[w,N]=a.exports.useState(),{data:T,setData:R,put:A,processing:ce,errors:he,reset:H}=Q({join_as_id:""}),$=s=>{h(s),f(!0)},K=()=>{V.Inertia.delete(route("plans.destroy",B.id),{onSuccess:()=>f(!1)})},E=()=>{h(),b(!0)},F=()=>{h(),v(!0)},W=()=>{h(),g(!0)},k=s=>{R({...T,join_as_id:s.id})},G=()=>{d(!1)},J=()=>{c(!1)},y=()=>{A(route("reservation.updatejoinas",p.user.id),{onSuccess:()=>Promise.all([g(!1),d(!1),c(!1),H()])})};return a.exports.useEffect(()=>{p.user.join_as_id||W()},[]),t(i,{children:[e(U,{title:"Dashboard"}),e(ee,{isOpenDestroyDialog:C,setIsOpenDestroyDialog:f,size:"2xl",title:"Hapus Perencanaan",children:e(se,{color:"pink",onClick:K,children:"Hapus"})}),t(n,{isOpenInfoDialog:S,setIsOpenInfoDialog:b,size:"max-w-2xl",title:"Info",header:"",children:["Ayo lengkapi portofoliomu untuk menarik owner menggunakan jasamu",e(l,{href:"planportofolios/create",children:e(m,{className:"flex mx-4",children:"Tambah Portofolio"})})]}),t(n,{isOpenInfoDialog:L,setIsOpenInfoDialog:v,size:"max-w-2xl",title:"Info",header:"",children:["Ayo lengkapi profilmu terlebih dahulu",e(l,{href:"/profile",children:e(m,{className:"flex mx-4",children:"Lengkapi Profil"})})]}),t(n,{isOpenInfoDialog:P,setIsOpenInfoDialog:d,size:"max-w-2xl",title:"Mau Sebagai Apa di Reservasi ?",header:"",closeButton:"false",children:[e(I,{ShouldMap:j,selected:w,onChange:s=>{k(s),N(s)}}),e(u,{className:"mx-2 mt-2",color:"gray",onClick:G,children:"Close"}),e(u,{onClick:y,children:"Simpan"})]}),t(n,{isOpenInfoDialog:z,setIsOpenInfoDialog:c,size:"max-w-2xl",title:"Mau Sebagai Apa di Konstruksi ?",header:"",closeButton:"false",children:[e(I,{ShouldMap:_,selected:w,onChange:s=>{k(s),N(s)}}),e(u,{className:"mx-2 mt-2",color:"gray",onClick:J,children:"Close"}),e(u,{onClick:y,children:"Simpan"})]}),e(n,{isOpenInfoDialog:O,setIsOpenInfoDialog:g,size:"max-w-2xl",title:"Apa Keperluanmu ?",header:"",closeButton:"false",children:t("div",{className:"grid items-center justify-between grid-cols-2 mt-4 gap-x-12 gap-y-4",children:[t("div",{onClick:()=>d(!0),children:[e(ae,{className:"w-full h-full px-2 py-2 text-white bg-blue-200 rounded-full shadow cursor-pointer"}),e("p",{className:"flex items-center justify-center px-4 py-2 text-xs font-medium text-center text-blue-900 break-words border border-transparent rounded-md cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-21",children:"Tawarin Reservasi"})]}),t("div",{onClick:()=>c(!0),children:[e(oe,{className:"w-full h-full px-2 py-2 text-white bg-blue-200 rounded-full shadow cursor-pointer"}),e("p",{className:"flex items-center justify-center px-4 py-2 text-xs font-medium text-center text-blue-900 break-words border border-transparent rounded-md cursor-pointer focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-21",children:"Tawarin Konstruksi"})]})]})}),t(Z,{children:[e(re,{}),M.length>0?e(i,{children:" "}):a.exports.useEffect(()=>{E()},[]),p.user.formattedAddress?e(i,{children:" "}):a.exports.useEffect(()=>{F()},[]),x.length>0?e("div",{className:"flex flex-col px-2 py-2 mt-4 bg-white border shadow-lg rounded-xl ",children:t("div",{className:"",children:[e("div",{className:"flex items-center justify-between",children:e("div",{className:"w-full",children:t("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:[e(m,{type:"button",href:"plans/create",children:"Tambah Perencanaan"}),e(m,{type:"button",href:route("plan.list"),children:"Perencanaan Lainnya"})]})})}),e("div",{className:"grid w-full grid-cols-1 mt-4 gap-x-1 gap-y-4 md:gap-2 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:x.map((s,X)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col bg-white border shadow-lg rounded-xl ",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:t("div",{className:"grid w-full grid-cols-12 gap-1",children:[t("div",{className:"col-span-4 col-start-1",children:[e("p",{className:"text-sm font-semibold",children:s.owner.name}),e("p",{className:"text-xs font-medium text-gray-500",children:s.plan_category.name})]}),e("div",{className:"flex items-center justify-end col-span-6 col-end-12",children:s.plan_bids_sum_is_approved=="1"?e("p",{className:"px-1 py-1 text-xs font-semibold text-blue-900 rounded bg-sky-200",children:"Sudah Memilih Pemenang"}):e(i,{children:s.is_approved==1?e("p",{className:"px-1 py-1 text-xs font-semibold text-blue-900 rounded bg-sky-200",children:"Diterima"}):e("p",{className:"px-1 py-1 text-xs font-semibold text-red-500 bg-yellow-200 rounded",children:"Menunggu Konfirmasi"})})}),e("div",{className:"flex items-center justify-center col-span-1 col-end-13",children:e("span",{className:"items-center justify-center px-1 ml-1 text-xs font-thin rounded-lg select-none ",children:t(r,{children:[e(r.Trigger,{children:e("button",{children:e(ie,{})})}),t(r.Content,{children:[s.is_approved==1?"":t(i,{children:[e(r.Link,{href:route("plans.edit",`${s.slug}`),children:"Edit"}),e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>$(s),children:"Hapus"})]}),e(r.Link,{href:route("plans.show",`${s.slug}`),children:"Lihat Detail"}),s.plan_bids_count>0&&e(r.Link,{href:route("bidplans.listpenawar",`${s.id}`),children:"Lihat Penawaran"}),s.plan_bids_sum_is_approved=="1"&&e(r.Link,{href:route("plan.tahapan",`${s.slug}`),children:"Tahapan Perencanaan"})]})]})})}),e("div",{className:"col-span-12 col-start-1 border-b border-gray-100"}),e("div",{className:"flex items-center justify-center col-span-2 col-start-1 mb-2",children:e("img",{className:"object-cover w-12 h-12 border rounded-lg",src:s.media?s.media:"storage/files/default/NoImage.svg",alt:"0"})}),t("div",{className:"col-span-10 col-start-3 mb-2",children:[e(l,{className:"text-base font-semibold",href:route("plans.show",`${s.slug}`),children:s.name}),t("p",{className:"text-xs font-medium text-gray-500",children:[s.plan_bids_count," ","Penawar"]})]}),t("div",{className:"col-span-6 col-start-1",children:[e("p",{className:"text-xs font-medium text-gray-500",children:"Total Anggaran"}),t("p",{className:"text-sm font-semibold",children:["Rp."," ",te(s.anggaran_proyek)]})]}),e("div",{className:"col-span-5 col-end-13",children:e("div",{className:"flex items-center justify-end col-span-3 col-end-6 ",children:s.plan_bids_sum_is_approved=="1"?e(l,{href:route("plan.tahapan",`${s.slug}`),className:"px-2 py-1 text-xs font-semibold text-white rounded bg-sky-700",children:"Tahapan"}):e(i,{children:s.is_approved==1?e(l,{href:route("bidplans.listpenawar",`${s.id}`),className:"px-2 py-1 text-xs font-semibold text-white rounded bg-sky-700",children:"Lihat Penawaran"}):e(l,{href:route("plans.edit",`${s.slug}`),className:"px-2 py-1 text-xs font-semibold text-white bg-yellow-700 rounded",children:"Edit"})})})})]})})})},X))})]})}):e(i,{})]})]})}le.layout=o=>e(Y,{children:o});export{le as default};
