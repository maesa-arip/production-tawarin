import{j as t,a as e,r,l as h,d as u,F as o,H as _,L as d}from"./app.865dd7ba.js";import{U as j,w as L,A as C}from"./App.968f7bc5.js";import{C as D}from"./Container.a702db59.js";import{D as M}from"./DestroyModal.edfbeb5f.js";import{B as P}from"./Button.74a8526a.js";import{n as S}from"./helper.e37a4314.js";import{N as p}from"./XIcon.7e965a4a.js";import{D as a}from"./DropdownMobile.89dd6674.js";import"./clsx.m.256e9345.js";import"./transition.d46445bc.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.b97eb05c.js";function H(){return t("div",{className:"flex flex-col",children:[e("h2",{className:"mb-4 text-2xl font-bold"}),t("div",{className:"grid grid-cols-2 gap-4 mt-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-blue-100 rounded-full bg-blue-50",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),t("div",{className:"ml-4",children:[e("h2",{className:"font-semibold",children:"574 Messages"}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Last opened 4 days ago"})]})]}),t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-orange-100 rounded-full bg-orange-50",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),t("div",{className:"ml-4",children:[e("h2",{className:"font-semibold",children:"1823 Users"}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Last checked 3 days ago"})]})]}),t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-red-100 rounded-full bg-red-50",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),t("div",{className:"ml-4",children:[e("h2",{className:"font-semibold",children:"548 Posts"}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Last authored 1 day ago"})]})]}),t("div",{className:"flex items-start p-4 bg-white shadow-lg rounded-xl",children:[e("div",{className:"flex items-center justify-center w-12 h-12 border border-indigo-100 rounded-full bg-indigo-50",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),t("div",{className:"ml-4",children:[e("h2",{className:"font-semibold",children:"129 Comments"}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Last commented 8 days ago"})]})]})]})]})}function B(i){const{data:g,meta:$,filtered:x,attributes:n}=i.plans;i.planRejectCount;const[z,f]=r.exports.useState([]),[m,T]=r.exports.useState(x),b=r.exports.useCallback(h.exports.debounce(s=>{u.Inertia.get(route("dashboard"),{...h.exports.pickBy(s),page:s.page},{preserveState:!0,preserveScroll:!0})},150),[]);r.exports.useEffect(()=>b(m),[m]),r.exports.useEffect(()=>{let s=[];for(let l=n.per_page;l<n.total/n.per_page;l=l+n.per_page)s.push(l);f(s)},[]);const v=s=>{k(s),c(!0)},N=()=>{u.Inertia.delete(route("plans.destroy",y.id),{onSuccess:()=>c(!1)})},[w,c]=r.exports.useState(!1),[y,k]=r.exports.useState([]);return t(o,{children:[e(_,{title:"Dashboard"}),t(D,{children:[e(H,{}),t("div",{className:"mt-4 flex flex-col px-2 py-2 bg-white border shadow-lg rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]",children:[e(M,{isOpenDestroyDialog:w,setIsOpenDestroyDialog:c,size:"2xl",title:"Hapus Perencanaan",children:e(P,{color:"pink",onClick:N,children:"Hapus"})}),t("div",{className:"",children:[e("div",{className:"flex items-center justify-between",children:e("div",{className:"w-full",children:t("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:[t(p,{type:"button",className:"justify-start px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",href:"plans/create",children:["Tambah Perencanaan",e(j,{className:"w-4 h-4"})]}),e(p,{type:"button",className:"justify-start px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",href:"plans/create",children:"Perencanaan Lainnya"})]})})}),e("div",{className:"grid w-full grid-cols-1 mt-4 gap-x-1 gap-y-4 md:gap-2 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:g.map((s,l)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col bg-white border shadow-lg rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:t("div",{className:"grid w-full grid-cols-12 gap-1",children:[t("div",{className:"col-span-4 col-start-1",children:[e("p",{className:"text-sm font-semibold",children:s.owner.name}),e("p",{className:"text-xs font-medium text-gray-500",children:s.plan_category.name})]}),e("div",{className:"flex items-center justify-end col-span-6 col-end-12",children:s.plan_bids_sum_is_approved=="1"?e("p",{className:"px-1 py-1 text-xs font-semibold text-blue-900 rounded bg-sky-200",children:"Sudah Memilih Pemenang"}):e(o,{children:s.is_approved==1?e("p",{className:"px-1 py-1 text-xs font-semibold text-blue-900 rounded bg-sky-200",children:"Diterima"}):e("p",{className:"px-1 py-1 text-xs font-semibold text-red-500 bg-yellow-200 rounded",children:"Menunggu Konfirmasi"})})}),e("div",{className:"flex items-center justify-center col-span-1 col-end-13",children:e("span",{className:"items-center justify-center px-1 ml-1 text-xs font-thin rounded-lg select-none ",children:t(a,{children:[e(a.Trigger,{children:e("button",{children:e(L,{})})}),t(a.Content,{children:[s.is_approved==1?"":t(o,{children:[e(a.Link,{href:route("plans.edit",`${s.slug}`),children:"Edit"}),e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>v(s),children:"Hapus"})]}),e(a.Link,{href:route("plans.show",`${s.slug}`),children:"Lihat Detail"}),s.plan_bids_count>0&&e(a.Link,{href:route("bidplans.listpenawar",`${s.id}`),children:"Lihat Penawaran"}),s.plan_bids_sum_is_approved=="1"&&e(a.Link,{href:route("plan.tahapan",`${s.slug}`),children:"Tahapan Perencanaan"})]})]})})}),e("div",{className:"col-span-12 col-start-1 border-b border-gray-100"}),e("div",{className:"flex items-center justify-center col-span-2 col-start-1 mb-2",children:e("img",{className:"object-cover w-12 h-12 border rounded-lg",src:s.media?s.media:"storage/files/default/NoImage.svg",alt:"0"})}),t("div",{className:"col-span-10 col-start-3 mb-2",children:[e(d,{className:"text-base font-semibold",href:route("plans.show",`${s.slug}`),children:s.name}),t("p",{className:"text-xs font-medium text-gray-500",children:[s.plan_bids_count," ","Penawar"]})]}),t("div",{className:"col-span-6 col-start-1",children:[e("p",{className:"text-xs font-medium text-gray-500",children:"Total Anggaran"}),t("p",{className:"text-sm font-semibold",children:["Rp."," ",S(s.anggaran_proyek)]})]}),e("div",{className:"col-span-5 col-end-13",children:e("div",{className:"flex items-center justify-end col-span-3 col-end-6 ",children:s.plan_bids_sum_is_approved=="1"?e(d,{href:route("plan.tahapan",`${s.slug}`),className:"px-2 py-1 text-xs font-semibold text-white rounded bg-sky-700",children:"Tahapan"}):e(o,{children:s.is_approved==1?e(d,{href:route("bidplans.listpenawar",`${s.id}`),className:"px-2 py-1 text-xs font-semibold text-white rounded bg-sky-700",children:"Lihat Penawaran"}):e(d,{className:"px-2 py-1 text-xs font-semibold text-white bg-yellow-700 rounded",children:"Edit"})})})})]})})})},l))})]})]})]})]})}B.layout=i=>e(C,{children:i});export{B as default};
