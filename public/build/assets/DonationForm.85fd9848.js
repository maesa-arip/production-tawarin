import{r as i,j as e,a as o,i as d}from"./app.f72cd36f.js";import{A as l}from"./App.58f60deb.js";import{C as p}from"./Container.b8f2b99a.js";import"./DropdownMenu.39749caf.js";import"./clsx.m.256e9345.js";import"./transition.3da13970.js";import"./use-event-listener.5e64a908.js";import"./AsideReservasi.a73d4dc3.js";import"./Tawarin.08057ae7.js";const u=({midtransClientKey:n})=>{const[s,m]=i.exports.useState({amount:""}),c=t=>{m({...s,[t.target.name]:t.target.value})};return i.exports.useEffect(()=>{const t=document.createElement("script");return t.src="https://app.midtrans.com/snap/snap.js",t.setAttribute("data-client-key",{}.VITE_MIDTRANS_CLIENT_KEY),t.async=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]),e(p,{children:o("section",{className:"make_donation section_gap",children:[o("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:e("div",{className:"px-4 sm:px-0",children:e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Data Top Up"})})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:o("form",{onSubmit:async t=>{t.preventDefault();try{const a=await d.post("/deposit/store_auto",s);a.data.status==="error"?alert(a.data.message):window.snap.pay(a.data.snap_token,{onSuccess:async r=>{await d.post("/deposit/notification/handler",r),window.location.href="/wallets"},onPending:r=>{console.log("Pending payment",r)},onError:()=>{window.location.reload()}})}catch(a){console.error("Error submitting donation:",a)}},children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:e("div",{className:"grid grid-cols-6 gap-6",children:o("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Jumlah Top Up"}),e("input",{type:"number",name:"amount",id:"amount",min:"10000",max:"999999999",value:s.amount,onChange:c,required:!0,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})})}),e("button",{type:"submit",className:"inline-flex items-center px-4 py-2 m-4 text-xs font-semibold tracking-wide tracking-widest text-white uppercase transition duration-150 ease-in-out border border-transparent rounded-md bg-amber-500 hover:bg-amber-600 focus:bg-amber-600 active:bg-amber-600 focus:outline-none false focus:ring-2 focus:ring-offset-2",children:"Simpan"})]})})})]}),e("script",{src:"https://app.midtrans.com/snap/snap.js","data-client-key":n})]})})};u.layout=n=>e(l,{children:n});export{u as default};
