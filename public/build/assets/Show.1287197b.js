import{e as z,u as A,r as o,j as a,a as e,H as O,L as F,F as d}from"./app.84f7128d.js";import{A as V}from"./App.3bef8578.js";import{n as l}from"./helper.e37a4314.js";import{B as x}from"./Button.078b9b57.js";import{C as G}from"./Container.ec0a9575.js";import"./index.3ce752ff.js";import"./TextInput.17c5fbf9.js";import J from"./Filepond.7750a6ef.js";import{d as R,m as f}from"./Navbar.7b2efbc3.js";import{W as y}from"./transition.70fe5965.js";import"./clsx.m.256e9345.js";import"./filepond-plugin-image-preview.esm.ab6771b8.js";import"./XIcon.ababfca8.js";import"./render.bbd1ef9d.js";import"./keyboard.d8c2c5f5.js";import"./DropdownMenu.1e7aae54.js";import"./hidden.a75f5235.js";import"./description.172f92c5.js";import"./Tawarin.08057ae7.js";import"./Dropdown.a08bb349.js";function K({plan:s,media:n,plan_master_checkboxs:U,plan_master_texts:q,planRooms:u,plan_details:P,planWithSum:b,persentase:L}){const{data:c,setData:w,post:v,patch:M,processing:B,reset:k,errors:m}=z({}),{permissions:N}=A().props,_=N?N.map(t=>t.name):"null",[j,H]=o.exports.useState(""),S=t=>{H(t.target.value),w({...c,[t.target.id]:t.target.value,plan_id:s.id})},$=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(j*(100+L)/100),D=t=>{t.preventDefault(),M(route("planadmin.confirmed",s.id))},W=t=>{t.preventDefault(),v(route("planadmin.rejected",s.id),{data:c,onSuccess:()=>{k()}})},C=t=>{w({...c,[t.target.id]:t.target.value})},I=t=>{t.preventDefault(),v(route("planbids.store"),{data:c,onSuccess:()=>{k()}})},[g,p]=o.exports.useState(!1),[i,T]=o.exports.useState(null);console.log(u);const h=t=>{T(t),p(!0)};return console.log(i),a("div",{children:[e(O,{title:"Plans"}),e(G,{children:e("div",{className:"bg-white",children:a("div",{className:"grid items-start grid-cols-1 px-4 py-12 mx-auto gap-y-16 gap-x-8 sm:px-6 sm:py-16 lg:grid-cols-2 lg:px-8",children:[a("div",{children:[b.plan_bids_sum_is_approved==1&&a(F,{className:"inline-flex px-2 py-1 text-xl font-semibold text-white bg-teal-500 rounded",children:["Sudah Ada Pemenang",e(R,{className:"inline-flex mt-1 ml-2"})]}),e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:s.name}),e(F,{className:"inline-flex px-2 py-1 text-xs font-semibold text-white rounded bg-sky-500",href:`/public/plans/list?plan_category=${s.plan_category.slug}`,children:s.plan_category.name}),e("p",{className:"mt-4 text-gray-500",children:s.description}),a("dl",{className:"grid grid-cols-1 mt-16 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:[a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Jangka Waktu Penawaran"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[l(s.jangka_waktu_penawaran)," ","Hari"]})]}),a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Jangka Waktu Pelaksanaan"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[l(s.jangka_waktu_pelaksanaan)," ","Hari"]})]}),a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Jumlah Revisi"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[l(s.jumlah_revisi)," Kali"]})]}),a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Luas Bangunan"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[l(s.luas_bangunan)," M",e("sup",{children:"2"})]})]}),a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Anggaran Proyek"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:["Rp ",l(s.anggaran_proyek)]})]}),a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Anggaran Perencanaan (Dari)"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:["Rp ",l(s.dari_anggaran)]})]}),a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Anggaran Perencanaan (Sampai)"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:["Rp ",l(s.sampai_anggaran)]})]}),u?u.map((t,r)=>a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:t.name?t.name:t.othername}),e("dd",{className:"mt-2 text-sm text-gray-500",children:t.count})]},r)):""]}),e("div",{className:"mt-5 md:mt-15 md:col-span-2",children:e("div",{className:"py-5 space-y-6 bg-white",children:P.map((t,r)=>t.description?a("div",{children:[e("label",{htmlFor:t.slug,className:"block text-sm font-medium text-gray-700",children:t.plan_master_name}),e("div",{className:"mt-1",children:e("textarea",{id:t.slug,name:t.slug,disabled:!0,rows:3,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",defaultValue:t.description},r)})]},r):a("div",{className:"flex items-center justify-between px-3 py-4 rounded-md shadow",children:[t.plan_master_name,a("label",{htmlFor:t.slug,className:"relative inline-flex items-center cursor-pointer",children:[e("input",{type:"checkbox",checked:!0,disabled:!0,id:t.slug,name:t.slug,className:"sr-only peer"},r),e("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-offset-2 peer-focus:ring-sky-600  rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-sky-500 peer-after:ring-sky-500"})]})]},r))})})]}),a("div",{className:"grid grid-cols-1 grid-rows-1 gap-4 sm:gap-6 lg:gap-8",children:[e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Contoh Desain"}),a("div",{className:"mb-6 bg-white rounded-lg shadow",children:[a("div",{className:"px-2 mx-3 mt-6 text-sm font-medium text-gray-400 mb-7",children:["Video",e("div",{className:"grid grid-cols-6",children:e("div",{className:"col-span-6 col-start-1 mx-auto md:col-span-2 md:col-start-3",children:n.map((t,r)=>r>=0&&e(d,{children:t.mime_type=="video/mp4"?e("div",{className:"w-auto h-auto col-span-2 overflow-hidden shadow rounded-xl",children:e("div",{className:"",children:e("video",{controls:!0,src:`/storage/${t.id}/${t.file_name}`})})},r):""}))})})]}),e("div",{className:"px-2 mx-3 mb-6 text-sm text-gray-500",children:"Ini adalah contoh Video rumah yang disukai oleh owner, silakan buat desain sesuai dengan contoh video yang sudah disertakan"})]}),a("div",{className:"mb-6 bg-white rounded-lg shadow",children:[a("div",{className:"px-2 mx-3 mt-6 text-sm font-medium text-gray-400 mb-7",children:["Gambar",a("div",{className:"grid grid-cols-6 col-span-2 gap-2 ",children:[n.map((t,r)=>r<2&&e(d,{children:t.mime_type=="video/mp4"?e(d,{}):e("div",{className:"shadow overflow-hidden rounded-xl col-span-3 max-h-[14rem]",children:e("img",{onClick:()=>h(t),className:"object-cover w-full h-full ",src:`/storage/${t.id}/${t.file_name}`,alt:r})},r)})),n.map((t,r)=>r>1&&r<6&&e(d,{children:t.mime_type=="video/mp4"?e(d,{}):e("div",{className:"max-h-[10rem] col-span-2 overflow-hidden shadow rounded-xl",children:e("img",{onClick:()=>h(t),className:"object-cover w-full h-full ",src:`/storage/${t.id}/${t.file_name}`,alt:r})},r)})),g&&i&&e(y,{appear:!0,show:g,as:o.exports.Fragment,children:a(f,{as:"div",className:"relative z-10",open:g,onClose:()=>p(!1),children:[e(y.Child,{as:o.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:e(y.Child,{as:o.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e(f.Panel,{className:"relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 max-w-full",children:e("div",{className:"bg-white",children:e("div",{className:"sm:flex sm:items-start",children:a("div",{className:"text-center sm:mt-0 sm:text-left",children:[e(f.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900"}),a("div",{className:"mx-2 my-2 md:mx-4 md:my-4",children:[e("p",{className:"text-sm text-gray-500"}),i.mime_type=="video/mp4"?e("div",{className:"w-auto h-auto col-span-2 overflow-hidden shadow rounded-xl",children:e("div",{className:"",children:e("video",{controls:!0,src:`/storage/${i.id}/${i.file_name}`})})}):a(d,{children:[e("img",{className:"rounded-lg",src:`/storage/${i.id}/${i.file_name}`,alt:i.collection_name}),e("p",{className:"text-sm text-gray-500",children:i.collection_name})]}),e("button",{onClick:()=>p(!1),type:"button",className:"absolute z-30 flex items-center justify-between cursor-pointer bottom-4 right-1/2 group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-pink-200 rounded-full sm:w-10 sm:h-10 dark:bg-gray-800/30 group-hover:bg-pink-300 dark:group-hover:bg-gray-800/60 ring-4 ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800 icon icon-tabler icon-tabler-x",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M18 6l-12 12"}),e("path",{d:"M6 6l12 12"})]})})}),e("button",{onClick:()=>h(n[(n.indexOf(i)-1)%n.length]),type:"button",className:"absolute left-0 z-30 flex items-center justify-between px-4 cursor-pointer top-1/2 group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-200 rounded-full sm:w-10 sm:h-10 dark:bg-gray-800/30 group-hover:bg-blue-300 dark:group-hover:bg-gray-800/60 ring-4 ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none",children:e("svg",{className:"w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})})}),e("button",{onClick:()=>h(n[(n.indexOf(i)+1)%n.length]),type:"button",className:"absolute right-0 z-30 flex items-center justify-center px-4 cursor-pointer top-1/2 group focus:outline-none",children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-200 rounded-full sm:w-10 sm:h-10 dark:bg-gray-800/30 group-hover:bg-blue-300 dark:group-hover:bg-gray-800/60 ring-4 ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none",children:e("svg",{className:"w-5 h-5 text-white sm:w-6 sm:h-6 dark:text-gray-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})})]})]})})})})})})})]})})]})]}),e("div",{className:"px-2 mx-3 mb-6 text-sm text-gray-500",children:"Ini adalah contoh gambar rumah yang disukai oleh owner, silakan buat desain sesuai dengan contoh gambar yang sudah disertakan"})]}),_.indexOf("melakukan penawaran perencanaan")>-1&&b.plan_bids_sum_is_approved!=1?e("form",{onSubmit:I,children:a("div",{className:"mb-6 bg-white rounded-lg shadow",children:[e("div",{className:"px-2 mx-3 mt-6 text-sm font-medium text-gray-400 mb-7",children:a("div",{className:"grid grid-cols-1 col-span-2 gap-2 ",children:[e("h2",{className:"mt-4 mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-xl",children:"Masukan Penawaran"}),a("div",{className:"px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Secara Otomatis Sistem akan up 5% dari Nilai Penawaran yang dimasukan, penawaran yang dilihat oleh Pemilik Proyek adalah penawaran yang sudah di up 5%, nilai 5% tersebut akan menjadi fee untuk Tawarin."]}),a("div",{children:[e("label",{htmlFor:"bid_price_user",className:"block text-sm font-medium text-gray-700",children:"Penawaran"}),e("input",{type:"number",name:"bid_price_user",id:"bid_price_user",onChange:S,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),m.bid_price_user&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:m.bid_price_user}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-sky-500",children:[j&&$," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-sky-500"})]})]}),a("div",{className:"mt-4",children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Deskripsikan Penawaranmu"}),e("div",{className:"mt-1",children:e("textarea",{id:"description",name:"description",rows:3,onChange:C,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",defaultValue:""})}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Masukan deskripsi penawaranmu untuk menarik minat owner."})]})]})}),e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Desain awal"}),e("div",{className:"flex justify-center px-6 pt-5 pb-6 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:a("div",{className:"w-full text-center",children:[e("svg",{className:"w-12 h-12 mx-auto text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e(J,{inputname:"document",allowMultiple:!0,maxFiles:"5"}),a("div",{className:"flex justify-center text-sm text-gray-600",children:[e("label",{htmlFor:"file-upload",className:"relative font-medium bg-white rounded-md text-sky-600 hover:text-sky-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-sky-500",children:e("span",{children:"Upload a file"})}),e("p",{className:"pl-1",children:"or drag and drop"})]}),e("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})}),e("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:e(x,{processing:B,children:"Simpan"})})]})}):"",_.indexOf("approve perencanaan")>-1?e("div",{className:"grid grid-cols-1 grid-rows-1 gap-4 sm:gap-6 lg:gap-8",children:a("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:a("div",{className:"grid grid-cols-1 col-span-2 gap-2 ",children:[e("h2",{className:"mt-4 mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-xl",children:"Konfirmasi"}),a("div",{className:"px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Silakan Pilih, apakah perencanaan ini akan diterima dan ditampilkan atau ditolak serta berikan alasan bila ditolak."]}),a("div",{className:"mt-4",children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Alasan ditolak"}),a("div",{className:"mt-1",children:[e("textarea",{id:"description",name:"description",rows:3,onChange:C,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",defaultValue:""}),m&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:m.description})]}),e("p",{className:"mt-2 text-sm text-gray-500",children:"Masukan alasan jika perencanaan ditolak."})]})]})}),a("div",{className:"flex justify-end bg-gray-50",children:[e("div",{className:"px-4 py-3 text-right sm:px-6",children:e(x,{onClick:W,color:"pink",children:"Tolak"})}),e("div",{className:"px-4 py-3 text-right sm:px-6",children:e(x,{onClick:D,children:"Terima"})})]})]})}):""]})]})})})]})}K.layout=s=>e(V,{children:s});export{K as default};
