import{r as i,b as M,a as s,F as n,j as e,H as Y}from"./app.90c8d3e2.js";import{f as y,k as F,B as R,x as E}from"./AsideReservasi.41b68d92.js";import{A as z}from"./AppReservasi.c0c08336.js";import"./CopyButton.dfd1943b.js";import{I as d}from"./InfoModal.b2e7f8a8.js";import{T as l}from"./ThirdButtonNoLink.7207aea5.js";import{I as N}from"./InputLabel.84e1b19a.js";import{T as b}from"./TextAreaInput.1f13f6b6.js";import{I as k}from"./InputError.729b9846.js";import"./transition.045e6a5c.js";import"./DropdownMenu.e3f63dd8.js";import"./clsx.m.256e9345.js";import"./use-event-listener.26d5446c.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.0a12063a.js";import"./dialog.74037b4a.js";import"./description.f03cf318.js";function H({auth:p,mustVerifyEmail:L,status:q,myCustomers:v}){const[u,c]=i.exports.useState([]),[w,t]=i.exports.useState(!1),[I,m]=i.exports.useState(!1),[C,o]=i.exports.useState(!1),{data:h,setData:x,patch:J,post:V,put:f,processing:D,errors:g,reset:r}=M({}),_=a=>{c(a),t(!0)},j=a=>{c(a),m(!0)},P=()=>{f(route("reservation.nopunishment",u.id),{onSuccess:()=>t(!1)})},S=()=>{t(!1),r()},B=()=>{m(!1),r()},O=a=>{c(a),o(!0)},T=()=>{o(!1),r()},A=a=>{a.preventDefault(),f(route("reservation.punishmentreservation",u.id),{onSuccess:()=>Promise.all([o(!1),r()])})};return s(n,{children:[s(d,{isOpenInfoDialog:w,setIsOpenInfoDialog:t,size:"2xl",closeButton:"false",title:"Yakin Tidak Berikan Punishment ?",children:[e("p",{className:"p-4 text-base font-semibold text-left border-2 border-yellow-600 rounded-lg",children:"Yakin tolak komplain ?"}),e(N,{className:"text-left mt-4",children:"Masukan Alasan Menolak Komplain"}),e(b,{type:"text",name:"complaint_decline_reason",value:h.complaint_decline_reason,className:"block w-full mt-1",autoComplete:"complaint_decline_reason",isFocused:!0,handleChange:a=>x("complaint_decline_reason",a.target.value)}),e(k,{message:g.complaint_decline_reason,className:"mt-2 mb-2 text-left"}),e(l,{onClick:P,children:"Yakin"}),e(l,{className:"mx-2 mt-2",color:"gray",onClick:S,children:"Close"})]}),e(d,{isOpenInfoDialog:I,setIsOpenInfoDialog:m,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:e(l,{className:"mx-2 mt-2",color:"gray",onClick:B,children:"Close"})}),s(d,{isOpenInfoDialog:C,setIsOpenInfoDialog:o,size:"2xl",closeButton:"false",title:"Yakin Terima Komplain ?",children:[e("p",{className:"p-4 text-base font-semibold text-left border-2 border-yellow-600 rounded-lg",children:"Yakin berikan punishment ke barber ?"}),e(N,{className:"text-left mt-4",children:"Masukan Alasan"}),e(b,{type:"text",name:"punishment_comment",value:h.punishment_comment,className:"block w-full mt-1",autoComplete:"punishment_comment",isFocused:!0,handleChange:a=>x("punishment_comment",a.target.value)}),e(k,{message:g.punishment_comment,className:"mt-2 mb-2 text-left"}),e(l,{className:"mt-2",processing:D,onClick:A,children:"Simpan"}),e(l,{className:"mx-2 mt-2",color:"secondary",onClick:T,children:"Close"})]}),e(Y,{title:"Cancel Customer"}),e("div",{className:"py-12",children:e("div",{className:"mx-auto space-y-6 sm:px-6 lg:px-8",children:s("div",{className:"p-4 bg-white shadow sm:p-8 dark:bg-gray-800 sm:rounded-lg",children:[e("div",{className:"p-8 border border-gray-200 rounded-2xl",children:e("div",{className:"flex justify-center mb-2 text-lg",children:"History Pelanggan Komplain"})}),v.map((a,K)=>e("div",{className:"py-5",children:e("div",{className:"p-2 duration-150 bg-white rounded-lg shadow cursor-pointer",children:s("div",{children:[s("div",{className:"flex items-center justify-between px-4 my-6",children:[e("p",{className:"font-bold text-gray-500",children:"Nama Layanan"}),e("p",{className:"rounded-full bg-amber-500 px-2 py-0.5 text-xs font-semibold text-white",children:a.counterName})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Kode Bukti"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.code})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Tanggal Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.date})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Jam Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.time})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Team"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.name})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Nama Pelanggan"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.customerName})]}),a.complaint==1?s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Alasan Batal"}),e("p",{className:"rounded-full bg-red-200 px-2 py-0.5 text-xs font-semibold text-red-600",children:a.complaint_reason})]}):e(n,{}),e("div",{className:"flex items-center px-4 my-4 justify-evenly",children:a.complaint==1?e(n,{children:a.punishment==2?s(l,{className:"cursor-pointer",color:"teal",children:["Tolak Komplain"," ",e(y,{className:"w-4 h-4"})]}):a.punishment==1?s(l,{className:"cursor-pointer",color:"red",children:["Already Punish"," ",e(F,{className:"w-4 h-4"})]}):s(n,{children:[s(l,{className:"cursor-pointer",color:"red",onClick:()=>_(a),children:["Tolak Komplain"," ",e(R,{className:"w-4 h-4"})]}),s(l,{className:"cursor-pointer",color:"yellow",onClick:()=>O(a),children:["Punishment"," ",e(E,{className:"w-4 h-4"})]})]})}):a.selesai_customer==1?s(l,{color:"teal",className:"cursor-not-allowed",children:["BERES"," ",e(y,{className:"w-5 h-5 ml-2"})]}):e(n,{children:a.selesai_team==1?e(l,{color:"yellow",className:"cursor-not-allowed",children:"Menunggu Konfirmasi Pelanggan"}):s(n,{children:[a.dikerjakan==1?e(l,{children:"Sedang dikerjakan..."}):e(l,{children:"Mulai"}),a.dikerjakan==1?e(l,{onClick:()=>j(a),color:"cyan",children:"Selesai"}):e(l,{color:"gray",className:"cursor-not-allowed",children:"Selesai"})]})})})]})})},K))]})})})]})}H.layout=p=>e(z,{children:p});export{H as default};
