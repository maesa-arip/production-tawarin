import{r as i,a as e,j as t,l as g,F as x,e as w,L as u}from"./app.b593357b.js";import{P as v}from"./Pagination.b940303b.js";import{r as d}from"./listbox.108a74c6.js";import{W as b,J as h,A as N}from"./App.afa2c59f.js";import{C as y}from"./Container.32b9312a.js";import"./clsx.m.256e9345.js";import"./form.0980e256.js";function k({categories:r,initialState:a}){const[o,c]=i.exports.useState(a);return e("div",{className:"w-full lg:w-52",children:e(d,{value:o,onChange:s=>{c(s),w.Inertia.get("/toko/products/table",{category:s},{preserveState:!0})},children:t("div",{className:"relative rounded-lg shadow",children:[t(d.Button,{className:"relative w-full h-10 pl-3 pr-10 text-left bg-white rounded-lg cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm",children:[e("span",{className:"block truncate",children:a?g.exports.find(r,s=>s.slug==o).name:"Choose a Category"}),e("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e(b,{as:i.exports.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(d.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:r.map((s,m)=>e(d.Option,{className:({active:n})=>`${n?"text-blue-900 bg-blue-100":"text-gray-900"}
                          cursor-default select-none relative py-2 pl-10 pr-4`,value:s.slug,children:({selected:n,active:l})=>t(x,{children:[e("span",{className:`${n?"font-medium":"font-normal"} block truncate`,children:s.name}),n?e("span",{className:`text-blue-600
                                absolute inset-y-0 left-0 flex items-center pl-3`,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):null]})},m))})})]})})})}const C=[{label:"latest",value:"latest"},{label:"oldest",value:"oldest"}];function L(r){const{filter:a,categories:o}=r,{data:c,meta:p}=r.products,[s,m]=i.exports.useState(a.search),n=i.exports.useCallback(g.exports.debounce(l=>{w.Inertia.get("/toko/products/table",{...g.exports.pickBy({search:l,page:a.page,filtered:a.filtered,category:a.category})},{preserveState:!0})},500),[]);return i.exports.useEffect(()=>n(s),[s]),e(y,{children:t("div",{className:"space-y-4",children:[t("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-2 w-full",children:[t("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2",children:[t(h,{as:"div",className:"relative",children:[t(h.Button,{className:"capitalize focus:outline-none bg-white rounded-lg px-4 w-full lg:w-52 py-2 shadow flex items-center justify-between",children:[a.filtered=="popular-this-week"?"Popular This Week":a.filtered=="no-replies"?"No Replies":a.filtered?a.filtered:"Filter",e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),e(h.Items,{className:"absolute mt-1 w-52 z-50 bg-white shadow rounded-lg overflow-hidden py-0.5",children:C.map((l,f)=>l.label=="line"?e("div",{className:"h-px bg-gray-200 my-0.5 w-full"},f):e(h.Item,{children:e(u,{preserveState:!0,className:"block px-4 py-2 hover:bg-gray-100 font-medium capitalize text-sm",href:`/toko/products/table?filtered=${l.value}`,children:l.label})},f))})]}),e(k,{categories:o,initialState:a.category})]}),t("div",{className:"bg-white flex items-center overflow-hidden shadow rounded-lg px-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1.5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{className:"h-10 p-0 focus:outline-none focus:ring-transparent focus:border-transparent border-0",type:"text",placeholder:"Search...",name:"search",id:"search",value:s,onChange:l=>m(l.target.value)})]})]}),c.length?c.map(l=>t("div",{className:"bg-white flex gap-x-4 p-4 rounded-lg shadow",children:[e("div",{className:"flex-shrink-0",children:e("img",{className:"w-10 h-10 rounded-full",src:l.picture,alt:l.name})}),t("div",{className:"w-full",children:[e("div",{className:"flex items-center justify-between",children:e(u,{href:route("products.show",l.slug),children:e("h1",{children:l.name})})}),e("div",{className:"leading-relaxed text-sm mb-3 text-gray-500",children:l.teaser}),t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center text-sm gap-x-4",children:[e(u,{href:`/toko/products/table?category=${l.category.slug}`,className:"hidden md:block text-gray-500 font-semibold text-sm",children:l.category.name}),e("span",{className:"text-gray-500 hidden md:block",children:l.created_at})]}),t("div",{className:"flex items-center text-sm gap-x-4",children:[t("span",{children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 inline",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),e("span",{className:"ml-1",children:l.likes_count})]}),t("span",{children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e("span",{className:"ml-1",children:l.replies_count})]})]})]})]})]},l.id)):e("div",{className:"bg-white border border-dashed p-10 text-center text-gray-800 rounded-2xl",children:"No products."}),e(v,{meta:p})]})})}L.layout=r=>e(N,{children:r});export{L as default};
