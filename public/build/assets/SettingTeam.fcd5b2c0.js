import{C as I}from"./Container.33371753.js";import{n as j}from"./helper.e37a4314.js";import{r as m,f as _,a,j as e,H as F}from"./app.49f1716d.js";import{A as M}from"./AppReservasi.795acc84.js";import{E as h}from"./EditModal.0f8426c5.js";import{I as u}from"./Input.23d14855.js";import{I as y}from"./InputError.6ff94695.js";import{T as l}from"./ThirdButtonNoLink.3aef75cf.js";import{R as P,_ as H}from"./MenuLogo.22bf6a74.js";import"./DropdownMenu.a3d1af85.js";import"./clsx.m.256e9345.js";import"./use-flags.25bab9e9.js";import"./keyboard.a57c8c57.js";import"./use-tracked-pointer.40075335.js";import"./use-outside-click.a37267df.js";import"./use-tree-walker.d33d9697.js";import"./transition.d4260f44.js";import"./use-owner.6f008482.js";import"./Dropdown.1c291896.js";import"./index.1255e03e.js";import"./XIcon.cac22952.js";import"./use-event-listener.de6abc3d.js";import"./hidden.012558dc.js";import"./InfoModal.bf2e627c.js";import"./description.768e3174.js";import"./Tawarin.08057ae7.js";function R({reservationCounter:s}){const[N,d]=m.exports.useState([]),[f,r]=m.exports.useState(!1),[b,i]=m.exports.useState(!1),v=t=>{d(t),r(!0)},w=t=>{d(t),i(!0)},{data:c,setData:o,patch:D,post:k,processing:n,errors:g,reset:p}=_({}),T=t=>{t.preventDefault(),D(route("reservation.joincounter",N.id),{onSuccess:()=>Promise.all([r(!1),p()])})},S=t=>{t.preventDefault(),k(route("reservation.maketeam",s.slug),{onSuccess:()=>Promise.all([i(!1),p()])})};return a("div",{children:[e(h,{isOpenEditDialog:f,setIsOpenEditDialog:r,size:"2xl",title:"Masukan Email Karyawan",children:a("form",{onSubmit:T,children:[e(u,{type:"text",name:"email",value:c.email,className:"block w-full mt-1",autoComplete:"email",isFocused:!0,onChange:t=>o("email",t.target.value)}),e(y,{message:g.email,className:"mt-2"}),e(l,{className:"mt-4",disabled:n,children:"Undang"})]})}),e(h,{isOpenEditDialog:b,setIsOpenEditDialog:i,size:"2xl",title:"Masukan Nama Team",children:a("form",{onSubmit:S,children:[e(u,{type:"text",name:"name",value:c.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:t=>o("name",t.target.value)}),e(y,{message:g.name,className:"mt-2"}),e(l,{className:"mt-4",disabled:n,children:"Simpan"})]})}),e(F,{title:"Counter"}),e(I,{children:e("div",{className:"bg-white",children:a("div",{className:"grid items-start grid-cols-1 px-4 py-12 mx-auto gap-y-16 gap-x-8 sm:px-6 sm:py-16 lg:grid-cols-2 lg:px-8",children:[a("div",{children:[e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:s.name}),a("p",{className:"mt-4 font-semibold text-gray-500",children:["kode : ",s.code]}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Harga"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:["Rp"," ",j(s.price)]})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Persentase Owner"}),e("dd",{className:"mt-2 text-sm text-gray-500",children:s.percent_owner})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Persentase Karyawan"}),e("dd",{className:"mt-2 text-sm text-gray-500",children:s.percent_employe})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Durasai Pelayanan"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[s.service_duration," ","Menit"]})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Batas Waktu Reservasi"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[s.period," Hari"]})]})})]}),a("div",{className:"grid grid-cols-1 grid-rows-1 gap-4 sm:gap-6 lg:gap-8",children:[a("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:["Team ",e(l,{onClick:()=>w(),children:"Tambah"})]}),e("div",{className:"w-full",children:s.team.map((t,O)=>a("div",{className:"col-span-12 p-2 mb-4 overflow-hidden border rounded-xl",children:[a("div",{className:"flex justify-between font-semibold text-gray-500",children:[e("p",{children:t.name}),s.need_team==0&&s.team?e(l,{color:"yellow",children:"Full"}):e(l,{onClick:()=>v(t),children:"Undang Karyawan"})]}),e("dl",{className:"grid grid-cols-1 mt-2 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:e("div",{className:"w-full pt-4 border-t border-gray-200",children:t.joincounter.map((x,E)=>a("div",{className:"grid items-center grid-cols-12",children:[e("dt",{className:"col-span-9 text-xs text-gray-900",children:x.email}),e("dd",{className:"col-span-3 text-xs text-gray-500",children:x.approved==1?a("div",{className:"flex",children:["Team ",e(P,{className:"w-4 h-4 ml-auto text-blue-400"})]}):a("div",{className:"flex",children:["Menunggu ",e(H,{className:"w-4 h-4 ml-auto text-yellow-400"})]})})]},E))})})]},O))})]})]})})})]})}R.layout=s=>e(M,{children:s});export{R as default};
