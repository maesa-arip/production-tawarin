import{r as d,f,a as r,j as e}from"./app.a17d9a53.js";import{I as F}from"./InputError.806612a1.js";import{I as x}from"./InputLabel.f0b5c736.js";import{P}from"./PrimaryButton.3decf477.js";import{T as j}from"./TextInput.73455259.js";import"./TextAreaInput.59f7d840.js";import{M as B}from"./Map.4a112b11.js";import{L as T}from"./ListBoxPage.bcc9db9f.js";import{t as D}from"./transition.b5d1d360.js";import"./esm.b9814ed3.js";import"./listbox.bfdc6bde.js";import"./use-flags.e987dbda.js";import"./keyboard.f32af370.js";import"./use-computed.9bb431a0.js";import"./use-tracked-pointer.5aefa828.js";import"./use-outside-click.25b5d2d1.js";import"./hidden.16dc680d.js";import"./use-controllable.09f61e26.js";import"./SelectorIcon.12936d07.js";function oe({mustVerifyEmail:q,status:z,company:a,reservation_categories:p,className:v}){var h,g;const[E,N]=d.exports.useState(null),[m,u]=d.exports.useState({formattedAddress:"",street:"",village:"",subdistrict:"",district:"",regency:"",country:""}),b=a&&parseFloat(a.lat)||-8.670458,w=a&&parseFloat(a.lng)||115.212629,y=({location:t,updatedLocationDetails:i,formattedAddress:n})=>{N(t),u(c=>({...c,...i,formattedAddress:n})),o(c=>({...c,...i,formattedAddress:n,lat:t.lat,lng:t.lng}))},_=t=>{const{name:i,value:n}=t.target;u({...m,[i]:n}),o({...l,[i]:n})},[k,C]=d.exports.useState(()=>a?p.find(t=>t.id===a.reservation_category_id):""),S=[{name:"Pilih"}];d.exports.useState(S[0]);const L=t=>{o({...l,reservation_category_id:t.id})},{data:l,setData:o,patch:A,errors:s,processing:I,recentlySuccessful:M}=a?f({name:a.name,open_at:a.open_at,close_at:a.close_at,lat:a.lat,lng:a.lng,reservation_category_id:a.reservation_category_id,formattedAddress:a.formattedAddress}):f({name:"",open_at:"",close_at:"",lat:"",lng:"",reservation_category_id:"",formattedAddress:""});return r("section",{className:v,children:[r("header",{className:"p-4 mt-4 border rounded-lg",children:[e("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Company Information"}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update your account's company information."})]}),r("form",{onSubmit:t=>{t.preventDefault(),A(route("reservationprofile.update"))},className:"mt-6 space-y-6",children:[r("div",{className:"grid grid-cols-12 gap-6",children:[e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"shadow sm:rounded-md",children:r("div",{className:"p-4 mt-6 space-y-6 bg-white md:px-6",children:[r("div",{children:[e(x,{for:"name",value:"Nama"}),e(j,{id:"name",type:"text",className:"block w-full mt-1",value:l.name,handleChange:t=>o("name",t.target.value),required:!0,autofocus:!0,autocomplete:"name"}),e(F,{className:"mt-2",message:s.name})]}),r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"reservation_category_id",className:"block text-sm font-medium text-gray-700",children:"Pilih Kategori"}),e(T,{ShouldMap:p,selected:k,onChange:t=>{L(t),C(t)}}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.reservation_category_id})]}),r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Jam Buka"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"time",name:"open_at",value:(h=l.open_at)!=null?h:"",handleChange:t=>o("open_at",t.target.value),required:!0,id:"open_at",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.open_at})]}),r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Jam Tutup"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"time",name:"close_at",value:(g=l.close_at)!=null?g:"",handleChange:t=>o("close_at",t.target.value),id:"close_at",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.close_at})]})]})})}),e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:e("div",{className:"p-4 bg-white md:px-6",children:r("div",{className:"w-full",children:[e(x,{for:"alamat",value:"Alamat"}),r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 mx-auto text-gray-400 icon icon-tabler icon-tabler-map-2",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"}),e("path",{d:"M9 4v13"}),e("path",{d:"M15 7v5.5"}),e("path",{d:"M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"}),e("path",{d:"M19 18v.01"})]}),e(B,{onLocationSelect:y,lat:b,lng:w}),e("div",{className:"grid grid-cols-12 gap-x-6",children:r("div",{className:"col-span-12",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Lokasi Otomatis"}),e("div",{className:"flex rounded-md",children:e("textarea",{type:"text",name:"formattedAddress",value:m.formattedAddress?m.formattedAddress:l.formattedAddress,onChange:_,readOnly:!0,className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.formattedAddress})]})})]})})})})]}),r("div",{className:"flex items-center gap-4",children:[e(P,{processing:I,children:"Save"}),e(D,{show:M,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})}export{oe as default};
