import{C as T}from"./Container.bcad035d.js";import{n as I}from"./helper.e37a4314.js";import{r as i,b as O,a,j as e,H as j}from"./app.afc5da0c.js";import{A as E}from"./AppReservasi.1669de09.js";import{E as p}from"./EditModal.e87d32a6.js";import{I as P}from"./Input.0a3a3bb6.js";import{I as _}from"./InputError.8545c9ca.js";import{T as x}from"./ThirdButtonNoLink.d3340f43.js";import{f as H,m as M}from"./AsideReservasi.7e66db85.js";import{T as B}from"./ThirdButtonSmallNoLink.f28f2ca7.js";import"./DropdownMenu.c69befdb.js";import"./clsx.m.256e9345.js";import"./transition.bf88e468.js";import"./use-event-listener.4dc00a0d.js";import"./dialog.05f95796.js";import"./description.d903d679.js";import"./Tawarin.08057ae7.js";function F({reservationCounter:l,employees:d}){const[h,u]=i.exports.useState([]),[N,t]=i.exports.useState(!1),[f,m]=i.exports.useState(!1),y=s=>{u(s),t(!0)},{data:b,setData:v,patch:J,post:c,processing:n,errors:w,reset:o}=O({}),D=s=>{c(route("reservation.selectemployee",{id:s.id,slug:l.slug}),{onSuccess:()=>Promise.all([t(!1),o()])})},k=s=>{s.preventDefault(),c(route("reservation.maketeam",l.slug),{onSuccess:()=>Promise.all([m(!1),o()])})};return console.log(d),a("div",{children:[e(p,{isOpenEditDialog:N,setIsOpenEditDialog:t,size:"2xl",title:"Pilih Karyawan",children:h.map((s,r)=>e("div",{children:e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col my-4 bg-white border rounded-lg",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:a("div",{className:"grid w-full grid-cols-12 gap-4",children:[a("div",{className:"flex items-center col-span-9 lg:col-span-10",children:[e("img",{className:"object-cover w-16 h-12 border rounded-lg",src:s.media_id?`/storage/${s.media_id}/${s.file_name}`:"/storage/files/default/NoImage.svg",alt:s.name}),a("p",{className:"ml-2",children:[s.user.name,s.team]})]}),e("div",{className:"flex items-center justify-end col-span-3 lg:col-span-2",children:e(B,{processing:n,onClick:()=>D(s),children:"Pilih"})})]})})})})},r))}),e(p,{isOpenEditDialog:f,setIsOpenEditDialog:m,size:"2xl",title:"Masukan Nama Team",children:a("form",{onSubmit:k,children:[e(P,{type:"text",name:"name",value:b.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:s=>v("name",s.target.value)}),e(_,{message:w.name,className:"mt-2"}),e(x,{className:"mt-4",disabled:n,children:"Simpan"})]})}),e(j,{title:"Counter"}),e(T,{children:e("div",{className:"bg-white",children:a("div",{className:"grid items-start grid-cols-1 px-4 py-12 mx-auto gap-y-16 gap-x-8 sm:px-6 sm:py-16 lg:grid-cols-2 lg:px-8",children:[a("div",{children:[e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:l.name}),a("p",{className:"mt-4 font-semibold text-gray-500",children:["kode : ",l.code]}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Harga"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:["Rp"," ",I(l.price)]})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Persentase Owner"}),e("dd",{className:"mt-2 text-sm text-gray-500",children:l.percent_owner})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Persentase Karyawan"}),e("dd",{className:"mt-2 text-sm text-gray-500",children:l.percent_employe})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Durasai Pelayanan"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[l.service_duration," ","Menit"]})]})}),e("dl",{className:"grid grid-cols-1 mt-8 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:a("div",{className:"pt-4 border-t border-gray-200",children:[e("dt",{className:"font-medium text-gray-900",children:"Batas Waktu Reservasi"}),a("dd",{className:"mt-2 text-sm text-gray-500",children:[l.period," Hari"]})]})})]}),a("div",{className:"grid grid-cols-1 grid-rows-1 gap-4 sm:gap-6 lg:gap-8",children:[e("h2",{className:"mb-4 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:e(x,{onClick:()=>y(d),children:"Undang Karyawan"})}),e("div",{className:"w-full",children:l.team.map((s,r)=>a("div",{className:"col-span-12 p-2 mb-4 overflow-hidden border rounded-xl",children:[e("div",{className:"flex justify-between font-semibold text-gray-500",children:e("p",{children:s.name})}),e("dl",{className:"grid grid-cols-1 mt-2 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8",children:e("div",{className:"w-full pt-4 border-t border-gray-200",children:s.joincounter.map((g,S)=>a("div",{className:"grid items-center grid-cols-12",children:[e("dt",{className:"col-span-9 text-xs text-gray-900",children:g.email}),e("dd",{className:"col-span-3 text-xs text-gray-500",children:g.approved==1?a("div",{className:"flex",children:["Team"," ",e(H,{className:"w-4 h-4 ml-auto text-blue-400"})]}):a("div",{className:"flex",children:["Menunggu"," ",e(M,{className:"w-4 h-4 ml-auto text-yellow-400"})]})})]},S))})})]},r))})]})]})})})]})}F.layout=l=>e(E,{children:l});export{F as default};
