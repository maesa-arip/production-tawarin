import{r as d,f as v,a as r,j as e}from"./app.49f1716d.js";import{I as p}from"./InputError.6ff94695.js";import{I as m}from"./InputLabel.c4bbeae0.js";import{P as F}from"./PrimaryButton.e1aadba6.js";import{T as h}from"./TextInput.cffc2715.js";import"./TextAreaInput.6e38ad23.js";import{M as P}from"./Map.5213e2c5.js";import{L as j}from"./ListBoxPage.c48cf869.js";import{t as B}from"./transition.d4260f44.js";import"./esm.b162dd8d.js";import"./listbox.fa78400e.js";import"./use-flags.25bab9e9.js";import"./keyboard.a57c8c57.js";import"./use-computed.46fdee7f.js";import"./use-tracked-pointer.40075335.js";import"./use-outside-click.a37267df.js";import"./hidden.012558dc.js";import"./use-controllable.bb987858.js";import"./SelectorIcon.155e0a6a.js";function se({mustVerifyEmail:T,status:q,company:a,reservation_categories:g,className:x}){const[D,N]=d.exports.useState(null),[c,f]=d.exports.useState({formattedAddress:"",street:"",village:"",subdistrict:"",district:"",regency:"",country:""}),_=a&&parseFloat(a.lat)||-8.670458,y=a&&parseFloat(a.lng)||115.212629,b=({location:t,updatedLocationDetails:i,formattedAddress:n})=>{N(t),f(u=>({...u,...i,formattedAddress:n})),l(u=>({...u,...i,formattedAddress:n,lat:t.lat,lng:t.lng}))},k=t=>{const{name:i,value:n}=t.target;f({...c,[i]:n}),l({...o,[i]:n})},[w,S]=d.exports.useState(()=>a?g.find(t=>t.id===a.reservation_category_id):""),C=[{name:"Pilih"}];d.exports.useState(C[0]);const L=t=>{l({...o,reservation_category_id:t.id})},{data:o,setData:l,patch:A,errors:s,processing:I,recentlySuccessful:M}=a?v({name:a.name,open_at:a.open_at,close_at:a.close_at,lat:a.lat,lng:a.lng,reservation_category_id:a.reservation_category_id,formattedAddress:a.formattedAddress}):v({name:"",open_at:"",close_at:"",lat:"",lng:"",reservation_category_id:"",formattedAddress:""});return r("section",{className:x,children:[r("header",{className:"p-4 mt-4 border rounded-lg",children:[e("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Company Information"}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update your account's company information."})]}),r("form",{onSubmit:t=>{t.preventDefault(),A(route("reservationprofile.update"))},className:"mt-6 space-y-6",children:[r("div",{className:"grid grid-cols-12 gap-6",children:[e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"shadow sm:rounded-md",children:r("div",{className:"p-4 mt-6 space-y-6 bg-white md:px-6",children:[r("div",{children:[e(m,{for:"name",value:"Nama"}),e(h,{id:"name",type:"text",className:"block w-full mt-1",value:o.name,handleChange:t=>l("name",t.target.value),required:!0,autofocus:!0,autocomplete:"name"}),e(p,{className:"mt-2",message:s.name})]}),r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"reservation_category_id",className:"block text-sm font-medium text-gray-700",children:"Pilih Kategori"}),e(j,{ShouldMap:g,selected:w,onChange:t=>{L(t),S(t)}}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.reservation_category_id})]}),r("div",{children:[e(m,{for:"open_at",value:"Jam Buka"}),e(h,{id:"open_at",type:"time",className:"block w-full mt-1",value:o.open_at,handleChange:t=>l("open_at",t.target.value),required:!0,autofocus:!0,autocomplete:"open_at"}),e(p,{className:"mt-2",message:s.open_at})]}),r("div",{children:[e(m,{for:"close_at",value:"Jam Tutup"}),e(h,{id:"close_at",type:"time",className:"block w-full mt-1",value:o.close_at,handleChange:t=>l("close_at",t.target.value),required:!0,autofocus:!0,autocomplete:"close_at"}),e(p,{className:"mt-2",message:s.close_at})]})]})})}),e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:e("div",{className:"p-4 bg-white md:px-6",children:r("div",{className:"w-full",children:[e(m,{for:"alamat",value:"Alamat"}),r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 mx-auto text-gray-400 icon icon-tabler icon-tabler-map-2",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"}),e("path",{d:"M9 4v13"}),e("path",{d:"M15 7v5.5"}),e("path",{d:"M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"}),e("path",{d:"M19 18v.01"})]}),e(P,{onLocationSelect:b,lat:_,lng:y}),e("div",{className:"grid grid-cols-12 gap-x-6",children:r("div",{className:"col-span-12",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Lokasi Otomatis"}),e("div",{className:"flex rounded-md",children:e("textarea",{type:"text",name:"formattedAddress",value:c.formattedAddress?c.formattedAddress:o.formattedAddress,onChange:k,readOnly:!0,className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.formattedAddress})]})})]})})})})]}),r("div",{className:"flex items-center gap-4",children:[e(F,{processing:I,children:"Save"}),e(B,{show:M,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})}export{se as default};
