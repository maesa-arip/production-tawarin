import{r as l,l as _,d as J,b as F,a as t,F as C,j as e,H as $,L as W}from"./app.5ddc3778.js";import{D as n}from"./index_responsive.c808c589.js";import{A as Y}from"./AppReservasi.b45196b6.js";import"./CopyButton.c416c564.js";import{I as L}from"./InfoModal.f4663738.js";import{T as d}from"./ThirdButtonNoLink.b2a5492a.js";import{i as G}from"./index.esm.ceaf6f60.js";import{I as Q}from"./Input.00315aa9.js";import{I as V}from"./InputError.355c80c9.js";import{E as X}from"./EditModal.95d77557.js";import{H as Z}from"./Header.12c0f200.js";import"./DropdownMobile.ea5ef3a6.js";import{T as g}from"./ThirdButtonSmallNoLink.a6850111.js";import{C as ee}from"./Container.ad0b73a2.js";import"./transition.d4ab94c8.js";import"./use-event-listener.025c7f6f.js";import"./DropdownMenu.1c44decc.js";import"./clsx.m.256e9345.js";import"./Tawarin.08057ae7.js";import"./AsideReservasi.71afb595.js";import"./ExclamationIcon.18bf4df1.js";import"./dialog.8ca0ca46.js";import"./description.4059ff54.js";const c=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),o=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function ae(h){const{data:v,meta:x,filtered:I,attributes:m}=h.reservationEmployees,[b,j]=l.exports.useState([]),[r,p]=l.exports.useState(I),[D,M]=l.exports.useState(!0),S=l.exports.useCallback(_.exports.debounce(a=>{J.Inertia.get(route(route().current()),{..._.exports.pickBy(a),page:a.page},{preserveState:!0,preserveScroll:!0})},150),[]);l.exports.useEffect(()=>{D?M(!1):S(r)},[r]),l.exports.useEffect(()=>{let a=[];for(let s=m.per_page;s<m.total/m.per_page;s=s+m.per_page)a.push(s);j(a)},[]);const u=a=>{const s={...r,[a.target.name]:a.target.value,page:1};p(s)},i=a=>{p({...r,field:a,direction:r.direction=="asc"?"desc":"asc"})},[re,z]=l.exports.useState([]),[P,N]=l.exports.useState(!1),[B,y]=l.exports.useState(!1),{data:E,setData:R,patch:te,post:O,put:se,processing:K,errors:T,reset:U}=F({}),q=()=>{N(!1)},A=()=>{y(!1)},[H,f]=l.exports.useState(!1),k=a=>{z(a),f(!0)};return t(C,{children:[e(Z,{title:"Karyawan",description:"List Karyawan Saya."}),t(ee,{children:[e(X,{isOpenEditDialog:H,setIsOpenEditDialog:f,size:"2xl",title:"Masukan Email/Username/No Telp Karyawan",children:t("form",{onSubmit:a=>{a.preventDefault(),O(route("reservationemployees.store"),{onSuccess:()=>Promise.all([f(!1),U()])})},children:[e(Q,{type:"text",name:"email",value:E.email,className:"block w-full mt-1",autoComplete:"email",isFocused:!0,onChange:a=>R("email",a.target.value)}),e(V,{message:T.email,className:"mt-2"}),e(d,{className:"mt-4",disabled:K,children:"Undang"})]})}),e(L,{isOpenInfoDialog:P,setIsOpenInfoDialog:N,size:"2xl",closeButton:"false",title:"Yakin Mulai Pelayanan ?",children:e(d,{className:"mx-2 mt-2",color:"gray",onClick:q,children:"Close"})}),e(L,{isOpenInfoDialog:B,setIsOpenInfoDialog:y,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:e(d,{className:"mx-2 mt-2",color:"gray",onClick:A,children:"Close"})}),e($,{title:"Profile"}),t("div",{className:"hidden lg:block",children:[t("div",{className:"flex items-center justify-end",children:[e("div",{className:"w-1/2",children:e("div",{className:"flex items-center justify-start mb-6 gap-x-2",children:e(d,{onClick:()=>k(),children:"Undang Karyawan"})})}),e("div",{className:"w-1/2",children:t("div",{className:"flex items-center justify-end mb-6 gap-x-2",children:[e("select",{name:"load",id:"load",onChange:u,value:r.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:b.map((a,s)=>e("option",{children:a},s))}),t("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:u,value:r.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 sm:-mx-6 lg:-mx-8",children:e("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:e("div",{className:"border-b border-gray-200 shadow sm:rounded-lg",children:t("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:e("div",{className:"flex items-center cursor-pointer gap-x-2",children:"#"})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("jumlah_revisi"),children:[r.field=="media"&&r.direction=="asc"&&e(c,{}),r.field=="media"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("name"),children:["Nama Perencanaan",r.field=="name"&&r.direction=="asc"&&e(c,{}),r.field=="name"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("jumlah_revisi"),children:["Jumlah Revisi",r.field=="jumlah_revisi"&&r.direction=="asc"&&e(c,{}),r.field=="jumlah_revisi"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("anggaran_proyek"),children:["Anggaran Proyek",r.field=="anggaran_proyek"&&r.direction=="asc"&&e(c,{}),r.field=="anggaran_proyek"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("is_approved"),children:["Status",r.field=="is_approved"&&r.direction=="asc"&&e(c,{}),r.field=="is_approved"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("employee_bids_count"),children:["Jumlah Penawar",r.field=="employee_bids_count"&&r.direction=="asc"&&e(c,{}),r.field=="employee_bids_count"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("created_at"),children:["Dibuat",r.field=="created_at"&&r.direction=="asc"&&e(c,{}),r.field=="created_at"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map((a,s)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:x.from+s}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:e("img",{className:"object-cover w-16 h-12 border rounded-lg",src:a.media?a.media:"storage/files/default/NoImage.svg",alt:a.slug})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("div",{className:"flex-1 block w-full px-4 py-1 text-base border border-r-0 border-gray-300 rounded-none rounded-l-md focus:border-indigo-500 focus:ring-indigo-500",children:a.jumlah_revisi}),e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-l-0 border-gray-300 rounded-r-md bg-gray-50",children:"Kali"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-r-0 border-gray-300 rounded-l-md bg-gray-50",children:"Rp"}),e("div",{className:"flex-1 block w-full px-2 py-1 text-base border border-l-0 border-gray-300 rounded-none rounded-r-md focus:border-indigo-500 focus:ring-indigo-500",children:"employee.anggaran_proyek"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.approved==1?e(g,{children:"Diterima"}):e(g,{color:"secondary",children:"Menunggu Konfirmasi"})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("div",{className:"flex-1 block w-full px-4 py-1 text-base border border-r-0 border-gray-300 rounded-none rounded-l-md focus:border-indigo-500 focus:ring-indigo-500",children:a.employee_bids_count}),e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-l-0 border-gray-300 rounded-r-md bg-gray-50",children:"Penawaran"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.created_at}),e("td",{children:t(n,{children:[e(n.Trigger,{children:e("button",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),t(n.Content,{children:[a.approved==1?"":t(C,{children:[e(n.Link,{children:"Edit"}),e("button",{className:"items-center block w-full px-4 py-2 text-sm leading-5 text-left text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus:bg-gray-100 gap-x-2",onClick:()=>openDestroyDialog(a),children:"Hapus"})]}),e(n.Link,{children:"Lihat Detail"}),e(n.Link,{children:"Lihat Penawaran"}),a.employee_bids_sum_is_approved=="1"&&e(n.Link,{href:route("employee.tahapan",`${a.slug}`),children:"Tahapan Perencanaan"})]})]})})]},a.id))})]})})})})}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:x.links.map((a,s)=>e("button",{disabled:a.url==null,className:`${a.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>p({...r,page:new URL(a.url).searchParams.get("page")}),children:a.label},s))})]}),t("div",{className:"lg:hidden",children:[t("div",{className:"flex items-center justify-between",children:[e("div",{className:"w-1/2",children:e("div",{className:"flex items-center justify-start mt-2 mb-0 gap-x-1",children:t(d,{onClick:()=>k(),children:["Undang Karyawan ",e(G,{className:"w-4 h-4"})]})})}),e("div",{className:"w-1/2",children:t("div",{className:"flex items-center justify-between mt-2 mb-0 gap-x-1",children:[e("select",{name:"load",id:"load",onChange:u,value:r.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:b.map((a,s)=>e("option",{children:a},s))}),t("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",autoComplete:"off",name:"q",id:"q",onChange:u,value:r.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),e("div",{className:"grid w-full grid-cols-1 mt-4 gap-x-1 gap-y-4 md:gap-2 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",children:v.map((a,s)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col bg-white border shadow-lg rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:t("div",{className:"grid w-full grid-cols-12 gap-1",children:[t("div",{className:"col-span-4 col-start-1",children:[e("p",{className:"text-sm font-semibold",children:a.name}),e("p",{className:"text-xs font-medium text-gray-500",children:a.email})]}),e("div",{className:"flex items-center justify-end col-span-6 col-end-13",children:a.approved==1?e(g,{children:"Diterima"}):e(g,{color:"secondary",children:"Menunggu Konfirmasi"})}),e("div",{className:"col-span-12 col-start-1 border-b border-gray-100"}),e("div",{className:"flex items-center justify-center col-span-2 col-start-1 mb-2",children:e("img",{className:"object-cover w-12 h-12 border rounded-lg",src:a.media?a.media:"storage/files/default/NoImage.svg",alt:"0"})}),t("div",{className:"col-span-10 col-start-3 mb-2",children:[e(W,{className:"text-base font-semibold"}),e("p",{className:"text-xs font-medium text-gray-500",children:a.phone})]}),t("div",{className:"col-span-6 col-start-1",children:[e("div",{className:"flex items-start",children:[1,2,3,4,5].map(w=>e("div",{className:"w-5 h-5 relative",children:w<=a.average_rating?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}):w-.95<a.average_rating?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"})})},w))}),t("span",{className:"flex items-start text-xs font-medium text-left text-slate-400",children:[a.average_rating?Math.round(a.average_rating*10)/10:0," ","out of 5 stars",e("br",{}),"(",a.count_rating?a.count_rating:0," ","Reviews dari"," ",a.count_customer?a.count_customer:0," ","Customer)"]})]}),e("div",{className:"col-span-5 col-end-13",children:e("div",{className:"flex items-center justify-end col-span-3 col-end-6 "})})]})})})},s))}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:x.links.map((a,s)=>e("button",{disabled:a.url==null,className:`${a.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>p({...r,page:new URL(a.url).searchParams.get("page")}),children:a.label},s))})]})]})]})}ae.layout=h=>e(Y,{children:h});export{ae as default};
