import{r as t,e as V,j as i,a as e,H as W}from"./app.865dd7ba.js";import{G as q,A as z}from"./App.968f7bc5.js";import{C as Q}from"./Container.a702db59.js";import"./DatePicker.d992ad37.js";import{B as X}from"./Button.74a8526a.js";import Y from"./Filepond.49b02e8b.js";import"./index.esm.3f288b33.js";import{T as b}from"./ThirdButton.4ffebd19.js";import"./TextInputCheckbox.8f90ffa3.js";import"./XIcon.7e965a4a.js";import"./clsx.m.256e9345.js";import"./transition.d46445bc.js";import"./Tawarin.08057ae7.js";function Z({plan_master_checkboxs:l,plan_master_texts:$,plan_categories:N,plan_master_rooms:v,plan:s,plan_rooms:p,ShouldMap:ee,plan_details:g}){const[k,ae]=t.exports.useState(""),[w,_]=t.exports.useState(""),[S,F]=t.exports.useState(""),[D,I]=t.exports.useState(""),[j,te]=t.exports.useState(""),[A,ne]=t.exports.useState(""),[d,re]=t.exports.useState(0),[h,se]=t.exports.useState(0),[f,ie]=t.exports.useState(0);t.exports.useEffect(()=>{c({...o,luas_tanah:(parseFloat(h)*parseFloat(f)).toFixed(2)})},[h,f]),t.exports.useEffect(()=>{_(d*4e6),F(d*4e6*1/100),I(d*4e6*3/100)},[d]),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(w),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(S),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(D),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(k),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(j),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(A);const{data:o,setData:c,patch:R,processing:B,reset:C,errors:me}=V({name:s.name,jangka_waktu_penawaran:s.jangka_waktu_penawaran,jangka_waktu_pelaksanaan:s.jangka_waktu_pelaksanaan,jumlah_revisi:s.jumlah_revisi,panjang:s.panjang,lebar:s.lebar,luas_tanah:s.luas_tanah,luas_bangunan:s.luas_bangunan,anggaran_proyek:s.anggaran_proyek,dari_anggaran:s.dari_anggaran,sampai_anggaran:s.sampai_anggaran,plan_category_id:s.plan_category_id}),E=[{name:"Pilih"}];t.exports.useState(E[0]);const G=a=>{a.preventDefault(),R(route("plans.update",s),{data:o,onSuccess:()=>{C()}})},[m,u]=t.exports.useState([{name:"",count:""}]),x=(a,n)=>{let r=[...m];r[a][n.target.name]=n.target.value,u(r)},L=a=>{a.preventDefault();let n={name:"",count:""};u([...m,n])},H=a=>{let n=[...m];n.splice(a,1),u(n)};t.exports.useEffect(()=>{c({...o,rooms:m})},[m]);const M=l;let P=g?g.map(a=>a.id):[];const[y,O]=t.exports.useState([]);t.exports.useEffect(()=>{const a=P,n=M.map(r=>a.includes(r.id)?{...r,isSelected:!0}:r);O(n)},[]);const T=y.filter(a=>a.isSelected).map(a=>a.id);t.exports.useEffect(()=>{c({...o,plan_master_checkboxs:T})},[y]);const J=v;let K=p?p.map(a=>a.id):[];const[de,U]=t.exports.useState([]);return t.exports.useEffect(()=>{const a=K,n=J.map(r=>a.includes(r.id)?{...r,vall:r.count}:r);U(n)},[]),t.exports.useState(()=>N.find(a=>a.id===s.plan_category_id)),i("div",{children:[e(W,{title:"Plan Edit"}),e(Q,{children:i("form",{onSubmit:G,children:[e("div",{className:"hidden sm:block","aria-hidden":"true",children:e("div",{className:"py-5",children:e("div",{className:"border-t border-gray-200"})})}),e("div",{className:"mt-10 sm:mt-0",children:i("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:i("div",{className:"px-4 sm:px-0",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Kebutuhan Ruang Lainnya"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Silakan masukan kebutuhan ruanganmu jika belum ada dipilihan diatas."})]})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:i("div",{className:"px-4 py-5 bg-white sm:p-6",children:[i("div",{className:"mb-4 justify-items-start",children:[i("div",{className:"flex my-2",children:[e("label",{className:"block w-full text-sm font-medium text-gray-700",children:"Nama Kebutuhan Ruangan"}),e("label",{className:"block w-full text-sm font-medium text-gray-700",children:"Jumlah Ruangan"}),e("label",{className:"inline-flex items-center text-sm font-medium text-gray-700 px-7"})]}),m.map((a,n)=>i("div",{className:"flex my-4",children:[e("input",{type:"text",name:"name",value:a.name,autoComplete:"off",className:"block w-full mr-4 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",onChange:r=>x(n,r)}),e("input",{type:"number",name:"count",value:a.count,autoComplete:"off",className:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",onChange:r=>x(n,r)}),e(b,{color:"red",className:"ml-4",onClick:()=>H(n),children:e(q,{className:"w-4 h-4"})})]},n))]}),e(b,{onClick:L,children:"Tambah"})]})})})]})}),e("div",{className:"hidden sm:block","aria-hidden":"true",children:e("div",{className:"py-5",children:e("div",{className:"border-t border-gray-200"})})}),e("div",{className:"mt-10 sm:mt-0",children:i("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:i("div",{className:"px-4 sm:px-0",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Gambar Perencanaan"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Sertakan contoh gambar rumah yang disukai guna memudahkan kondultan membuat desain sesuai keinginanmu."})]})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:i("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:[e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:i("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Contoh Gambar Rumah yang disukai (Max 5)"}),e("div",{className:"flex justify-center px-6 pt-5 pb-6 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:i("div",{className:"w-full text-center",children:[e("svg",{className:"w-12 h-12 mx-auto text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e(Y,{inputname:"document",allowMultiple:!0,maxFiles:"5"}),i("div",{className:"flex justify-center text-sm text-gray-600",children:[e("label",{htmlFor:"file-upload",className:"relative font-medium text-indigo-600 bg-white rounded-md hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:e("span",{children:"Upload a file"})}),e("p",{className:"pl-1",children:"or drag and drop"})]}),e("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})}),e("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:e(X,{processing:B,children:"Simpan"})})]})})]})})]})})]})}Z.layout=l=>e(z,{children:l});export{Z as default};
