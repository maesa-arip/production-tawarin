import{r as l,R as $}from"./app.bc2d2f14.js";import{h as J,d as Q,H as E,x as z,y as S,q as M,e as N,_ as A,I as K,o as L,v as V,u as j,l as x,c as R,p as m,w as B}from"./XIcon.fd5e456a.js";function X({onFocus:e}){let[t,r]=l.exports.useState(!0);return t?$.createElement(J,{as:"button",type:"button",features:Q.Focusable,onFocus:o=>{o.preventDefault();let a,d=50;function u(){if(d--<=0){a&&cancelAnimationFrame(a);return}if(e()){r(!1),cancelAnimationFrame(a);return}a=requestAnimationFrame(u)}a=requestAnimationFrame(u)}}):null}var Y=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))(Y||{});let Z={[0](e,t){let r=e.tabs.filter(d=>{var u;return!((u=d.current)!=null&&u.hasAttribute("disabled"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(r[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(r[r.length-1])};let o=e.tabs.slice(0,t.index),a=[...e.tabs.slice(t.index),...o].find(d=>r.includes(d));return a?{...e,selectedIndex:e.tabs.indexOf(a)}:e},[1](e,t){return e.tabs.includes(t.tab)?e:{...e,tabs:B([...e.tabs,t.tab],r=>r.current)}},[2](e,t){return{...e,tabs:B(e.tabs.filter(r=>r!==t.tab),r=>r.current)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]}},[4](e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}},[5](e){return{...e}}},U=l.exports.createContext(null);U.displayName="TabsSSRContext";function H(e){let t=l.exports.useContext(U);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,H),r}return t}let G=l.exports.createContext(null);G.displayName="TabsDataContext";function k(e){let t=l.exports.useContext(G);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,k),r}return t}let W=l.exports.createContext(null);W.displayName="TabsActionsContext";function q(e){let t=l.exports.useContext(W);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,q),r}return t}function ee(e,t){return j(t.type,Z,e,t)}let te=l.exports.Fragment,re=E(function(e,t){let{defaultIndex:r=0,vertical:o=!1,manual:a=!1,onChange:d,selectedIndex:u=null,...h}=e;const T=o?"vertical":"horizontal",v=a?"manual":"auto";let c=S(t),[p,s]=l.exports.useReducer(ee,{selectedIndex:u!=null?u:r,tabs:[],panels:[]}),P=l.exports.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),f=M(d||(()=>{})),b=M(p.tabs),g=l.exports.useMemo(()=>({orientation:T,activation:v,...p}),[T,v,p]),y=M(p.selectedIndex),w=l.exports.useMemo(()=>({registerTab(i){return s({type:1,tab:i}),()=>s({type:2,tab:i})},registerPanel(i){return s({type:3,panel:i}),()=>s({type:4,panel:i})},forceRerender(){s({type:5})},change(i){y.current!==i&&f.current(i),y.current=i,s({type:0,index:i})}}),[s]);N(()=>{s({type:0,index:u!=null?u:r})},[u]);let D=l.exports.useRef({tabs:[],panels:[]}),O={ref:c};return $.createElement(U.Provider,{value:D},$.createElement(W.Provider,{value:w},$.createElement(G.Provider,{value:g},g.tabs.length<=0&&$.createElement(X,{onFocus:()=>{var i,F;for(let C of b.current)if(((i=C.current)==null?void 0:i.tabIndex)===0)return(F=C.current)==null||F.focus(),!0;return!1}}),A({ourProps:O,theirProps:h,slot:P,defaultTag:te,name:"Tabs"}))))}),ne="div",ae=E(function(e,t){let{orientation:r,selectedIndex:o}=k("Tab.List"),a=S(t);return A({ourProps:{ref:a,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:o},defaultTag:ne,name:"Tabs.List"})}),se="button",le=E(function(e,t){var r,o;let a=`headlessui-tabs-tab-${K()}`,{orientation:d,activation:u,selectedIndex:h,tabs:T,panels:v}=k("Tab"),c=q("Tab"),p=H("Tab"),s=l.exports.useRef(null),P=S(s,t,n=>{!n||c.forceRerender()});N(()=>c.registerTab(s),[c,s]);let f=p.current.tabs.indexOf(a);f===-1&&(f=p.current.tabs.push(a)-1);let b=T.indexOf(s);b===-1&&(b=f);let g=b===h,y=L(n=>{let I=T.map(_=>_.current).filter(Boolean);if(n.key===x.Space||n.key===x.Enter){n.preventDefault(),n.stopPropagation(),c.change(b);return}switch(n.key){case x.Home:case x.PageUp:return n.preventDefault(),n.stopPropagation(),R(I,m.First);case x.End:case x.PageDown:return n.preventDefault(),n.stopPropagation(),R(I,m.Last)}if(j(d,{vertical(){if(n.key===x.ArrowUp)return R(I,m.Previous|m.WrapAround);if(n.key===x.ArrowDown)return R(I,m.Next|m.WrapAround)},horizontal(){if(n.key===x.ArrowLeft)return R(I,m.Previous|m.WrapAround);if(n.key===x.ArrowRight)return R(I,m.Next|m.WrapAround)}}))return n.preventDefault()}),w=L(()=>{var n;(n=s.current)==null||n.focus()}),D=L(()=>{var n;(n=s.current)==null||n.focus(),c.change(b)}),O=L(n=>{n.preventDefault()}),i=l.exports.useMemo(()=>({selected:g}),[g]),F=e,C={ref:P,onKeyDown:y,onFocus:u==="manual"?w:D,onMouseDown:O,onClick:D,id:a,role:"tab",type:V(e,s),"aria-controls":(o=(r=v[b])==null?void 0:r.current)==null?void 0:o.id,"aria-selected":g,tabIndex:g?0:-1};return A({ourProps:C,theirProps:F,slot:i,defaultTag:se,name:"Tabs.Tab"})}),oe="div",ue=E(function(e,t){let{selectedIndex:r}=k("Tab.Panels"),o=S(t),a=l.exports.useMemo(()=>({selectedIndex:r}),[r]);return A({ourProps:{ref:o},theirProps:e,slot:a,defaultTag:oe,name:"Tabs.Panels"})}),ie="div",ce=z.RenderStrategy|z.Static,de=E(function(e,t){var r,o;let{selectedIndex:a,tabs:d,panels:u}=k("Tab.Panel"),h=q("Tab.Panel"),T=H("Tab.Panel"),v=`headlessui-tabs-panel-${K()}`,c=l.exports.useRef(null),p=S(c,t,w=>{!w||h.forceRerender()});N(()=>h.registerPanel(c),[h,c]);let s=T.current.panels.indexOf(v);s===-1&&(s=T.current.panels.push(v)-1);let P=u.indexOf(c);P===-1&&(P=s);let f=P===a,b=l.exports.useMemo(()=>({selected:f}),[f]),g=e,y={ref:p,id:v,role:"tabpanel","aria-labelledby":(o=(r=d[P])==null?void 0:r.current)==null?void 0:o.id,tabIndex:f?0:-1};return A({ourProps:y,theirProps:g,slot:b,defaultTag:ie,features:ce,visible:f,name:"Tabs.Panel"})}),be=Object.assign(le,{Group:re,List:ae,Panels:ue,Panel:de});export{be as w};
