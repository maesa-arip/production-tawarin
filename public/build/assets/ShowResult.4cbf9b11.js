import{B as x}from"./Button.ca57ad49.js";import{A as S}from"./App.cecfd689.js";import{j as l,F as y,a as e,d as N,r as f,H as j,f as C}from"./app.fe2d54d0.js";import{A as R,E as A}from"./EditModal.01475bf0.js";import{D as E}from"./DestroyModal.317189d1.js";import"./clsx.m.256e9345.js";import"./XIcon.d2be42d3.js";import"./transition.112e910f.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.0830482f.js";function k({errors:t,submit:s,data:r,setData:i,closeButton:m}){var o;const c=n=>i({...r,[n.target.id]:n.target.value});return l(y,{children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:e("div",{className:"grid grid-cols-6 gap-6",children:l("div",{className:"col-span-6",children:[e("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Keterangan"}),e("div",{className:"mt-1",children:e("textarea",{id:"address",name:"address",value:(o=r.address)!=null?o:"",onChange:c,rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:"Masukan Deskripsi Revisi"})}),t&&e("div",{className:"text-pink-500 mt-1",children:t.address})]})})}),e("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:e(x,{color:"pink",type:"button",onClick:m,children:"Cancel"})})]})}function B({setIsOpenAddDialog:t}){const{data:s,setData:r,post:i,reset:m,errors:c}=N({username:"",name:"",email:"",password:"",address:""});return e("form",{onSubmit:d=>{d.preventDefault(),i(route("users.store"),{data:s,onSuccess:()=>{m(),t(!1)}})},children:e(k,{errors:c,data:s,setData:r,submit:"Save",closeButton:d=>t(!1)})})}function F({setIsOpenEditDialog:t,model:s}){const{data:r,setData:i,put:m,reset:c,errors:o}=N({username:s.username,name:s.name,email:s.email,password:s.password,address:s.address}),n=h=>t(!1),d=h=>{h.preventDefault(),m(route("users.update",s.id),{data:r,onSuccess:()=>{c(),t(!1)}})};return f.exports.useEffect(()=>{i({...r,username:s.username,name:s.name,email:s.email,password:s.password,address:s.address})},[s]),e("form",{onSubmit:d,children:e(k,{errors:o,data:r,setData:i,submit:"Update",closeButton:n})})}function I({plan:t,data:s,plan_master:r,plan_details:i}){const m=a=>{w(a),d(!0)},c=a=>{w(a),g(!0)},o=()=>{C.Inertia.post(route("plan.simpanrevisi",v.id),{onSuccess:()=>g(!1)})},[n,d]=f.exports.useState(!1),[h,b]=f.exports.useState(!1),[D,g]=f.exports.useState(!1),[v,w]=f.exports.useState([]);return l("div",{children:[e(j,{title:"Upload Hasil"}),l(R,{isOpenAddDialog:n,setIsOpenAddDialog:d,size:"2xl",title:"Revisi",children:[e(B,{isOpenAddDialog:n,setIsOpenAddDialog:d}),e(x,{onClick:o,children:"Simpan"})]}),e(A,{isOpenEditDialog:h,setIsOpenEditDialog:b,size:"2xl",title:"Edit User",children:e(F,{model:v,isOpenEditDialog:h,setIsOpenEditDialog:b})}),e(E,{isOpenDestroyDialog:D,setIsOpenDestroyDialog:g,size:"2xl",title:"Delete User 123",children:e(x,{color:"pink",onClick:o,children:"Delete"})}),e("div",{className:"bg-white",children:e("div",{className:"grid items-start max-w-2xl grid-cols-1 px-4 py-4 mx-auto gap-y-8 gap-x-8 sm:px-6 sm:py-16 lg:max-w-7xl lg:grid-cols-2 lg:px-8",children:i.map((a,M)=>e(y,{children:s[a.slug]?e("div",{className:"mt-5 ",children:e("div",{className:"bg-white ",children:e("div",{children:e("div",{className:"mt-5 md:mt-0",children:e("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:l("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:a.name}),e("div",{className:"flex justify-center px-6 pt-5 pb-6 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:l("div",{className:"w-full text-center",children:[s[a.slug].map((p,u)=>u<2&&e("div",{className:"shadow overflow-hidden rounded-xl col-span-3 max-h-[14rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${p.id}/${p.file_name}`,alt:u})},p.id)),s[a.slug].map((p,u)=>u>1&&u<6&&e("div",{className:"shadow overflow-hidden rounded-xl col-span-2 max-h-[10rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${p.id}/${p.file_name}`,alt:u})},p.id))]})}),e("div",{className:"mt-1",children:e("textarea",{rows:3,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",disabled:!0,defaultValue:"Ini adalah hasil "+a.name+" dari konsultan"})}),l("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e("button",{onClick:()=>m(a),type:"submit",className:"w-full inline-flex justify-center items-center rounded-md border border-transparent bg-pink-100 px-4 py-2 text-sm font-medium text-pink-900 hover:bg-pink-200 active:bg-pink-300 transition ease-in-out duration-150 sm:ml-3 sm:w-auto sm:text-sm",tabIndex:0,children:"Add Revisi"}),l("button",{onClick:()=>c(a),type:"button",name:a.slug,id:a.slug,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:["Selesai ",a.name]})]})]})})})})})})}):""}))})})]})}I.layout=t=>e(S,{children:t});export{I as default};
