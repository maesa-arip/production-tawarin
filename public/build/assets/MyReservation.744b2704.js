import{r as i,b as M,a as r,F as l,j as e,H as T}from"./app.03a7226b.js";import{k as z,f as O}from"./index_responsive.934adf36.js";import{A as P}from"./AppReservasi.0945ac7a.js";import"./CopyButton.85a5126a.js";import{T as f}from"./ThirdButton.fd4836e3.js";import{I as x}from"./InfoModal.ea504664.js";import{T as t}from"./ThirdButtonNoLink.b9c8c3c1.js";import{R as V}from"./RadioCard.e9b63774.js";import{T as y}from"./TextAreaInput.97f86927.js";import{I as _}from"./InputLabel.cf027e7f.js";import{I as A}from"./InputError.2459279d.js";import"./transition.25c6dfb6.js";import"./DropdownMenu.ed613df4.js";import"./clsx.m.256e9345.js";import"./use-event-listener.de715bfb.js";import"./Tawarin.08057ae7.js";import"./AsideReservasi.34deb925.js";import"./ExclamationIcon.9fedaf4b.js";import"./dialog.871f5506.js";import"./description.00fe8d53.js";import"./label.18e7086c.js";import"./use-controllable.eabd753c.js";function E({myReservations:d,tips:b}){const[h,p]=i.exports.useState([]),[w,o]=i.exports.useState(!1),[k,c]=i.exports.useState(!1),{data:s,setData:n,patch:H,post:K,put:g,processing:u,errors:N,reset:v}=M({}),C=a=>{p(a),o(!0)},L=()=>{g(route("reservation.finishcustomer",h.id),{onSuccess:()=>o(!1)})},[j,m]=i.exports.useState(),S=()=>{o(!1),m()},B=a=>{n(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},I=a=>{p(a),c(!0)},D=()=>{c(!1),m()},R=a=>{a.preventDefault(),g(route("reservation.cancelreservation",h.id),{onSuccess:()=>Promise.all([c(!1),v()])})};return r(l,{children:[r(x,{isOpenInfoDialog:w,setIsOpenInfoDialog:o,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:[e("p",{className:"py-4 text-left",children:"Berikan Tip"}),e(V,{ShouldMap:b,selected:j,onChange:a=>{n({...s,tip:a.id}),m(a)}}),e("p",{className:"pt-8 pb-2 text-left",children:"Berikan Rating"}),r("div",{className:"flex flex-row-reverse items-center justify-center pb-8",children:[e("input",{id:"hs-ratings-readonly-1",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{n({...s,rating:5})},defaultValue:1}),e("label",{htmlFor:"hs-ratings-readonly-1",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-2",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{n({...s,rating:4})},defaultValue:2}),e("label",{htmlFor:"hs-ratings-readonly-2",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-3",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{n({...s,rating:3})},defaultValue:3}),e("label",{htmlFor:"hs-ratings-readonly-3",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-4",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{n({...s,rating:2})},defaultValue:4}),e("label",{htmlFor:"hs-ratings-readonly-4",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-5",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{n({...s,rating:1})},defaultValue:5}),e("label",{htmlFor:"hs-ratings-readonly-5",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})})]}),e(y,{placeholder:"Komentar",name:"comments",handleChange:B}),e(t,{className:"mt-2",processing:u,onClick:L,children:"Selesai"}),e(t,{className:"mx-2 mt-2",color:"secondary",onClick:S,children:"Close"})]}),r(x,{isOpenInfoDialog:k,setIsOpenInfoDialog:c,size:"2xl",closeButton:"false",title:"Yakin Batalkan Reservasi ?",children:[e("p",{className:"p-4 text-left border rounded-lg",children:"Pembatalan hanya bisa dilakukan 2 Jam sebelum layanan atau jika barber tidak ada"}),e(_,{className:"text-left mt-4",children:"Masukan Alasan"}),e(y,{type:"text",name:"reason",value:s.reason,className:"block w-full mt-1",autoComplete:"reason",isFocused:!0,handleChange:a=>n("reason",a.target.value)}),e(A,{message:N.reason,className:"mt-2 mb-2 text-left"}),e(t,{className:"mt-2",processing:u,onClick:R,children:"Selesai"}),e(t,{className:"mx-2 mt-2",color:"secondary",onClick:D,children:"Close"})]}),e(T,{title:"Profile"}),e("div",{className:"py-12",children:e("div",{className:"mx-auto space-y-6 sm:px-6 lg:px-8",children:r("div",{className:"p-4 bg-white shadow sm:p-8 dark:bg-gray-800 sm:rounded-lg",children:[e("div",{className:"p-8 border border-gray-200 rounded-2xl",children:e("div",{className:"flex justify-center mb-2 text-lg",children:"Reservasi Saya"})}),d.map((a,F)=>e("div",{className:"py-5",children:e("div",{className:"p-2 duration-150 bg-white rounded-lg shadow cursor-pointer",children:r("div",{children:[r("div",{className:"flex items-center justify-between px-4 my-6",children:[e("p",{className:"font-bold text-gray-500",children:"Nama Layanan"}),e("p",{className:"rounded-full bg-amber-500 px-2 py-0.5 text-xs font-semibold text-white",children:a.counterName})]}),r("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Kode Bukti"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.code})]}),r("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Tanggal Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.date})]}),r("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Jam Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.time})]}),r("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Pekerja"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.name})]}),a.jumlahlayanandiskon>0?r("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Layanan Ke"}),r("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:[a.layanan_ke," ",a.ambil_bonus==1?"(Cashback)":""]})]}):e(l,{}),e("div",{className:"flex items-center px-4 my-4 justify-evenly",children:a.batal_customer==1?r(t,{className:"cursor-not-allowed",color:"red",children:["Sudah dibatalkan ",e(z,{className:"w-4 h-4"})]}):a.selesai_customer==1?r(t,{color:"teal",className:"cursor-not-allowed",children:["BERES"," ",e(O,{className:"w-5 h-5 ml-2"})]}):e(l,{children:a.selesai_team==1?e(t,{onClick:()=>C(a),color:"teal",children:"Selesaikan Layanan"}):r(l,{children:[" ",a.dikerjakan==1?e(t,{color:"yellow",children:"Sedang dikerjakan"}):r(l,{children:[e(t,{onClick:()=>I(a),color:"secondary",children:"Batal"}),e(f,{href:route("reservations.change",{id:a.id,reservationCompany:a.companySlug}),className:a.id,color:"tawarin",children:"Ubah"}),e(f,{color:"gray",children:"Belum dikerjakan"})]})]})})})]})})},F))]})})})]})}E.layout=d=>e(P,{children:d});export{E as default};
