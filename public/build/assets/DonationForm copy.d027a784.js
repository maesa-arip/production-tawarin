import{r as l,j as e,a as r,i as c}from"./app.6486f202.js";import{A as p}from"./App.554cfa68.js";import"./DropdownMenu.2078a889.js";import"./clsx.m.256e9345.js";import"./transition.9c1453f8.js";import"./use-event-listener.b9ac79fc.js";import"./AsideReservasi.f448d599.js";import"./Tawarin.08057ae7.js";const u=({midtransClientKey:i})=>{const[n,d]=l.exports.useState({donor_name:"",donor_email:"",donation_type:"",amount:"",note:""}),o=a=>{d({...n,[a.target.name]:a.target.value})};l.exports.useEffect(()=>{const a=document.createElement("script");return a.src="https://app.sandbox.midtrans.com/snap/snap.js",a.setAttribute("data-client-key",{}.VITE_MIDTRANS_CLIENT_KEY),a.async=!0,document.body.appendChild(a),()=>{document.body.removeChild(a)}},[]);const m=async a=>{a.preventDefault();try{const t=await c.post("/donation/store",n);t.data.status==="error"?alert(t.data.message):window.snap.pay(t.data.snap_token,{onSuccess:async s=>{await c.post("/notification/handler",s)},onPending:s=>{console.log("Pending payment",s)},onError:()=>{window.location.reload()}})}catch(t){console.error("Error submitting donation:",t)}};return e(Container,{children:r("section",{className:"make_donation section_gap",children:[r("div",{className:"container",children:[e("div",{className:"row justify-content-start section-title-wrap",children:r("div",{className:"col-lg-12",children:[e("h1",{children:"Make a Donation Today"}),e("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})]})}),e("div",{className:"donate_now_wrapper",children:e("form",{onSubmit:m,children:r("div",{className:"row",children:[e("div",{className:"col-lg-4",children:e("input",{type:"text",name:"donor_name",placeholder:"Nama",className:"form-control",value:n.donor_name,onChange:o,required:!0})}),e("div",{className:"col-lg-4",children:e("input",{type:"email",name:"donor_email",placeholder:"Email",className:"form-control",value:n.donor_email,onChange:o,required:!0})}),e("div",{className:"col-lg-4",children:r("select",{name:"donation_type",className:"form-control",value:n.donation_type,onChange:o,required:!0,children:[e("option",{value:"",children:"Pilih Jenis Donasi"}),e("option",{value:"infak_kemanusiaan",children:"Infak Kemanusiaan"}),e("option",{value:"infak_pendidikan",children:"Infak Pendidikan"}),e("option",{value:"infak_kesehatan",children:"Infak Kesehatan"})]})}),e("div",{className:"col-lg-4",children:e("input",{type:"number",name:"amount",placeholder:"Nominal Donasi",className:"form-control",min:"10000",max:"999999999",value:n.amount,onChange:o,required:!0})}),e("div",{className:"col-lg-4",children:e("textarea",{name:"note",placeholder:"Pesan",className:"form-control",value:n.note,onChange:o})}),e("div",{className:"col-lg-4",children:e("button",{type:"submit",className:"main_btn w-100",children:"Donate Now"})})]})})})]}),e("script",{src:"https://app.sandbox.midtrans.com/snap/snap.js","data-client-key":i})]})})};u.layout=i=>e(p,{children:i});export{u as default};
