import{r as l,a as t,F as c,j as e,b as j,d as K}from"./app.5b505e31.js";import{I as w}from"./InputError.893648b9.js";import{I as h}from"./InputLabel.9230dee9.js";import{P as V}from"./PrimaryButton.daa87bda.js";import{T as y}from"./TextInput.e6f30fa1.js";import"./TextAreaInput.177ce02a.js";import{M as R}from"./Map.308e650b.js";import{L as Q}from"./ListBoxPage.596d62d6.js";import{b as X}from"./index.esm.31922003.js";import Y from"./Filepond.adbcc0be.js";import{D as Z}from"./DestroyModal.75e6f98c.js";import{B as ee}from"./Button.0818f70c.js";import{t as g}from"./transition.f12d5195.js";import"./esm.4e1a5b03.js";import"./listbox.87587539.js";import"./use-owner.97d67d88.js";import"./use-computed.13d41609.js";import"./DropdownMenu.6ced8fcd.js";import"./clsx.m.256e9345.js";import"./use-event-listener.bfc986a5.js";import"./use-controllable.4e7a4bed.js";import"./SelectorIcon.0a83466c.js";import"./App.c885d4f0.js";import"./index_responsive.71dbcc56.js";import"./Aside.23df5ad1.js";import"./Header.6dd265fa.js";import"./popover.a241653d.js";import"./Tawarin.08057ae7.js";import"./index.a869ad4a.js";import"./Container.ed9d5192.js";import"./filepond-plugin-image-preview.esm.ff441874.js";import"./filepond-plugin-file-validate-type.esm.9bfb0074.js";import"./ExclamationIcon.0888509e.js";import"./dialog.b07cd4f8.js";import"./description.b7323d68.js";function N(){const[k,u]=l.exports.useState(!1);return t(c,{children:[e("button",{type:"button",onClick:()=>u(!0),className:"rounded-md bg-black bg-opacity-20 px-4 py-2 text-sm font-medium text-white hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:"Open dialog"}),k?e(c,{children:e("div",{className:"transition-all duration-300 flex justify-center items-center overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:t("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[t("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t ",children:[e("h3",{className:"text-3xl font=semibold",children:"General Info"}),e("button",{className:"bg-transparent border-0 text-black float-right",onClick:()=>u(!1),children:e("span",{className:"text-black opacity-7 h-6 w-6 text-xl block bg-gray-400 py-0 rounded-full",children:"x"})})]}),e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"mt-10 sm:mt-0",children:e("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("form",{children:t("div",{className:"shadow overflow-hidden sm:rounded-md",children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:t("div",{className:"grid grid-cols-6 gap-6",children:[t("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e("input",{type:"text",name:"name",id:"name",autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e("input",{type:"text",name:"username",id:"username",autoComplete:"family-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t("div",{className:"col-span-6 sm:col-span-4",children:[e("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e("input",{type:"text",name:"email",id:"email",autoComplete:"email",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t("div",{className:"col-span-6",children:[e("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Alamat"}),e("input",{type:"text",name:"address",id:"address",autoComplete:"address",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),t("div",{className:"col-span-6",children:[e("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e("input",{type:"password",name:"password",id:"password",autoComplete:"password",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]})}),e("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6",children:e("button",{type:"submit",className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save"})})]})})})})})}),t("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:[e("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:()=>u(!1),children:"Close"}),e("button",{className:"text-white bg-yellow-500 active:bg-yellow-700 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1",type:"button",onClick:()=>u(!1),children:"Submit"})]})]})})})}):null]})}function Oe({mustVerifyEmail:k,status:u,company:s,reservation_categories:_,className:S,media:o}){const[te,M]=l.exports.useState(null),[f,C]=l.exports.useState({formattedAddress:"",street:"",village:"",subdistrict:"",district:"",regency:"",country:""}),L=s&&parseFloat(s.lat)||-8.670458,I=s&&parseFloat(s.lng)||115.212629,D=({location:a,updatedLocationDetails:i,formattedAddress:p})=>{M(a),C(v=>({...v,...i,formattedAddress:p})),m(v=>({...v,...i,formattedAddress:p,lat:a.lat,lng:a.lng}))},P=a=>{const{name:i,value:p}=a.target;C({...f,[i]:p}),m({...d,[i]:p})},[z,A]=l.exports.useState(()=>s?_.find(a=>a.id===s.reservation_category_id):""),B=[{name:"Pilih"}];l.exports.useState(B[0]);const T=a=>{m({...d,reservation_category_id:a.id})},{data:d,setData:m,patch:O,errors:n,processing:$,recentlySuccessful:G}=s?j({name:s.name,open_at:s.open_at,close_at:s.close_at,lat:s.lat,lng:s.lng,reservation_category_id:s.reservation_category_id,formattedAddress:s.formattedAddress}):j({name:"",open_at:"",close_at:"",lat:"",lng:"",reservation_category_id:"",formattedAddress:""}),q=a=>{a.preventDefault(),O(route("reservationprofile.update"))},[x,F]=l.exports.useState(!1),[r,ae]=l.exports.useState(null),[H,U]=l.exports.useState([]),W=a=>{U(a),b(!0)},E=()=>{K.Inertia.delete(route("media.destroy",H.id),{onSuccess:()=>b(!1)})},[J,b]=l.exports.useState(!1);return t("section",{className:S,children:[t("header",{className:"p-4 mt-4 border rounded-lg",children:[e("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Company Information"}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update your account's company information."})]}),e(Z,{isOpenDestroyDialog:J,setIsOpenDestroyDialog:b,size:"2xl",title:"Hapus Media",children:e(ee,{color:"pink",onClick:E,children:"Hapus"})}),t("form",{onSubmit:q,className:"mt-6 space-y-6",children:[t("div",{className:"grid grid-cols-12 gap-6",children:[e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"shadow sm:rounded-md",children:t("div",{className:"p-4 mt-6 space-y-6 bg-white md:px-6",children:[t("div",{children:[e(h,{for:"name",value:"Nama"}),e(y,{id:"name",type:"text",className:"block w-full mt-1",value:d.name,handleChange:a=>m("name",a.target.value),required:!0,autofocus:!0,autocomplete:"name"}),e(w,{className:"mt-2",message:n.name})]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"reservation_category_id",className:"block text-sm font-medium text-gray-700",children:"Pilih Kategori"}),e(Q,{ShouldMap:_,selected:z,onChange:a=>{T(a),A(a)}}),n&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:n.reservation_category_id})]}),t("div",{children:[e(h,{for:"open_at",value:"Jam Buka"}),e(y,{id:"open_at",type:"time",className:"block w-full mt-1",value:d.open_at,handleChange:a=>m("open_at",a.target.value),required:!0,autofocus:!0,step:"3600",autocomplete:"open_at"}),e(w,{className:"mt-2",message:n.open_at})]}),t("div",{children:[e(h,{for:"close_at",value:"Jam Tutup"}),e(y,{id:"close_at",type:"time",className:"block w-full mt-1",value:d.close_at,handleChange:a=>m("close_at",a.target.value),required:!0,autofocus:!0,autocomplete:"close_at"}),e(w,{className:"mt-2",message:n.close_at})]})]})})}),e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:e("div",{className:"p-4 bg-white md:px-6",children:t("div",{className:"w-full",children:[e(h,{for:"alamat",value:"Alamat"}),t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 mx-auto text-gray-400 icon icon-tabler icon-tabler-map-2",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"}),e("path",{d:"M9 4v13"}),e("path",{d:"M15 7v5.5"}),e("path",{d:"M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"}),e("path",{d:"M19 18v.01"})]}),e(R,{onLocationSelect:D,lat:L,lng:I}),e("div",{className:"grid grid-cols-12 gap-x-6",children:t("div",{className:"col-span-12",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Lokasi Otomatis"}),e("div",{className:"flex rounded-md",children:e("textarea",{type:"text",name:"formattedAddress",value:f.formattedAddress?f.formattedAddress:d.formattedAddress,onChange:P,readOnly:!0,className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"})}),n&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:n.formattedAddress})]})})]})})})})]}),e("div",{className:"mt-10 sm:mt-0",children:e("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Gambar Perusahaan"}),e("div",{className:"flex justify-center px-6 pt-5 pb-6 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:t("div",{className:"w-full text-center",children:[o?e(c,{children:e("div",{className:"mx-2 mb-6 bg-white rounded-lg shadow md:mx-4 lg:mx-6",children:e("div",{className:"px-2 py-6 mx-3 mt-6 text-sm font-medium text-gray-400 mb-7",children:t("div",{className:"grid grid-cols-2 col-span-2 gap-2 md:grid-cols-6 ",children:[o==null?void 0:o.map((a,i)=>t("div",{className:"relative w-auto h-auto col-span-2 overflow-hidden shadow rounded-xl ",children:[a.mime_type=="video/mp4"?e(c,{}):e("img",{className:"object-cover w-full h-full ",src:`/storage/${a.id}/${a.file_name}`,alt:i}),e("button",{id:a.id,onClick:()=>W(a),type:"button",className:"absolute top-0 right-0 flex items-center justify-between cursor-pointer group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-pink-300 rounded sm:w-10 sm:h-10 group-hover:bg-pink-400 ring-4 ring-white group-focus:outline-none ",children:e(X,{className:"w-3 h-3 text-white md:w-5 md:h-5 sm:w-6 sm:h-6 "})})})]},i)),x&&r&&e(g,{appear:!0,show:x,as:Fragment,children:t(N,{as:"div",className:"relative z-10",open:x,onClose:()=>F(!1),children:[e(g.Child,{as:Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:e(g.Child,{as:Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e(N.Panel,{className:"relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 max-w-full",children:e("div",{className:"bg-white",children:e("div",{className:"sm:flex sm:items-start",children:t("div",{className:"text-center sm:mt-0 sm:text-left",children:[e(N.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900"}),t("div",{className:"mx-2 my-2 md:mx-4 md:my-4",children:[e("p",{className:"text-sm text-gray-500"}),r.mime_type=="video/mp4"?e("div",{className:"w-auto h-auto col-span-2 overflow-hidden shadow rounded-xl",children:e("div",{className:"",children:e("video",{controls:!0,src:`/storage/${r.id}/${r.file_name}`})})}):e(c,{children:e("img",{className:"rounded-lg",src:`/storage/${r.id}/${r.file_name}`,alt:r.collection_name})}),e("button",{onClick:()=>F(!1),type:"button",className:"absolute z-30 flex items-center justify-between cursor-pointer bottom-4 right-1/2 group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-pink-200 rounded-full sm:w-10 sm:h-10 group-hover:bg-pink-300 ring-4 ring-white group-focus:outline-none",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-white sm:w-6 sm:h-6 icon icon-tabler icon-tabler-x",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M18 6l-12 12"}),e("path",{d:"M6 6l12 12"})]})})}),e("button",{onClick:()=>handleClick(o[(o.indexOf(r)-1)%o.length]),type:"button",className:"absolute left-0 z-30 flex items-center justify-between px-4 cursor-pointer top-1/2 group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-200 rounded-full sm:w-10 sm:h-10 group-hover:bg-blue-300 ring-4 ring-white group-focus:outline-none",children:e("svg",{className:"w-5 h-5 text-white sm:w-6 sm:h-6 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})})}),e("button",{onClick:()=>handleClick(o[(o.indexOf(r)+1)%o.length]),type:"button",className:"absolute right-0 z-30 flex items-center justify-center px-4 cursor-pointer top-1/2 group focus:outline-none",children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-200 rounded-full sm:w-10 sm:h-10 group-hover:bg-blue-300 ring-4 ring-white group-focus:outline-none",children:e("svg",{className:"w-5 h-5 text-white sm:w-6 sm:h-6 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})})]})]})})})})})})})]})})]})})})}):e(c,{}),e(Y,{inputname:"reservationcompany",allowMultiple:!1,maxFiles:"5",required:!0}),t("div",{className:"flex justify-center text-sm text-gray-600",children:[e("label",{htmlFor:"file-upload",className:"relative font-medium text-indigo-600 bg-white rounded-md hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:e("span",{children:"Upload a file"})}),e("p",{className:"pl-1",children:"or drag and drop"})]}),e("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})})})})})}),t("div",{className:"flex items-center gap-4",children:[e(V,{processing:$,children:"Save"}),e(g,{show:G,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})}export{Oe as default};
