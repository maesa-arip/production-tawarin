import{r,u as C,l as c,d as I,a as s,j as e,H as _,F as P,L as S}from"./app.5ea42cee.js";import{A as j}from"./AppReservasi.294cec4e.js";import{C as L}from"./Container.7ba9d08a.js";import{H as E}from"./Header.3564dd67.js";import{P as H}from"./Pagination.244b9f7b.js";import{n as R}from"./helper.e37a4314.js";import{E as A}from"./EmptyCard.a3e112e5.js";import{I as F}from"./InfoModal.80460d38.js";import"./DropdownMenu.57638456.js";import"./clsx.m.256e9345.js";import"./transition.10612b2a.js";import"./use-event-listener.26826d81.js";import"./AsideReservasi.ccd3a01e.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.3ce1b35b.js";import"./dialog.c797ee71.js";import"./description.8012ac24.js";function q(i){const{data:l,meta:p,links:z,filtered:u,attributes:o}=i.reservations;i.reservation_categories;const g=i.reservationCompany,[f,h]=r.exports.useState([]),[n,x]=r.exports.useState(u),[b,v]=r.exports.useState(!0),{permissions:d}=C().props;d&&d.map(t=>t.name);const w=r.exports.useCallback(c.exports.debounce(t=>{I.Inertia.get(route("reservations.show",l[0].company_slug),{...c.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);r.exports.useEffect(()=>{b?v(!1):w(n)},[n]),r.exports.useEffect(()=>{let t=[];for(let a=o.per_page;a<o.total/o.per_page;a=a+o.per_page)t.push(a);h(t)},[]);const m=t=>{const a={...n,[t.target.name]:t.target.value,page:1};x(a)},[y,N]=r.exports.useState(!1);r.exports.useState([]);const k=[{name:"Pilih"}];return r.exports.useState(k[0]),s("div",{children:[e(_,{title:"Reservations Cars"}),e(E,{title:"Pelayanan",description:"List layanan yang ada di "+g.name}),e(F,{isOpenInfoDialog:y,setIsOpenInfoDialog:N,size:"2xl",title:"Info",header:"",children:"Anda harus memiliki akun owner terlebih dahulu sebelum bisa membuat perencanaan"}),s(L,{children:[e("div",{className:"flex items-center justify-end",children:e("div",{className:"w-full md:w-1/3",children:s("div",{className:"items-center justify-end md:flex gap-x-2",children:[e("select",{name:"load",id:"load",onChange:m,value:n.load,className:"hidden transition duration-150 ease-in-out border-gray-300 rounded-lg md:flex focus:ring-blue-200 focus:ring form-select",children:f.map((t,a)=>e("option",{children:t},a))}),s("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:m,value:n.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})}),l.length?e("div",{className:"grid w-full grid-cols-2 gap-1 mt-4 sm:grid-cols-2",children:l.map((t,a)=>e(P,{children:e("div",{className:"",children:e(S,{href:`/public/reservationCounters/${t.company_slug}/${t.counter_slug}/car`,className:"relative inline-block w-full transition-transform duration-300 ease-in-out",children:e("div",{className:"grid grid-cols-1 md:grid-cols-2",children:s("div",{className:"flex flex-col items-start p-3 bg-white border rounded-lg",children:[e("h2",{className:"text-xl font-semibold text-gray-900",children:t.car_name}),s("p",{className:"text-xs font-bold text-blue-600",children:["Rp"," ",R(t.price)]}),e("span",{className:"text-xs text-gray-500",children:t.counter_name})]})})})},a)}))}):e(A,{}),e(H,{meta:p})]})]})}q.layout=i=>e(j,{children:i});export{q as default};
