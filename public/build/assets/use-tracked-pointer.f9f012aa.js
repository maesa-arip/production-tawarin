import{r as d}from"./app.76a15e02.js";import{h as b,T as h}from"./keyboard.db737433.js";import{c as w,a as m}from"./use-flags.58fcbaaf.js";function v(e,r,n){let u=w(r);d.exports.useEffect(()=>{function s(c){u.current(c)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function A(e,r,n=!0){let u=d.exports.useRef(!1);d.exports.useEffect(()=>{requestAnimationFrame(()=>{u.current=n})},[n]);function s(t,o){if(!u.current||t.defaultPrevented)return;let a=function f(l){return typeof l=="function"?f(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e),i=o(t);if(i!==null&&i.getRootNode().contains(i)){for(let f of a){if(f===null)continue;let l=f instanceof HTMLElement?f:f.current;if(l!=null&&l.contains(i)||t.composed&&t.composedPath().includes(l))return}return!b(i,h.Loose)&&i.tabIndex!==-1&&t.preventDefault(),r(t,i)}}let c=d.exports.useRef(null);v("mousedown",t=>{var o,a;u.current&&(c.current=((a=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:a[0])||t.target)},!0),v("click",t=>{c.current&&(s(t,()=>c.current),c.current=null)},!0),v("blur",t=>s(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function p(e){var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function D(e,r){let[n,u]=d.exports.useState(()=>p(e));return m(()=>{u(p(e))},[e.type,e.as]),m(()=>{n||r.current&&r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&u("button")},[n,r]),n}function E(e){throw new Error("Unexpected object: "+e)}var I=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(I||{});function N(e,r){let n=r.resolveItems();if(n.length<=0)return null;let u=r.resolveActiveIndex(),s=u!=null?u:-1,c=(()=>{switch(e.focus){case 0:return n.findIndex(t=>!r.resolveDisabled(t));case 1:{let t=n.slice().reverse().findIndex((o,a,i)=>s!==-1&&i.length-a-1>=s?!1:!r.resolveDisabled(o));return t===-1?t:n.length-1-t}case 2:return n.findIndex((t,o)=>o<=s?!1:!r.resolveDisabled(t));case 3:{let t=n.slice().reverse().findIndex(o=>!r.resolveDisabled(o));return t===-1?t:n.length-1-t}case 4:return n.findIndex(t=>r.resolveId(t)===e.id);case 5:return null;default:E(e)}})();return c===-1?u:c}function x(e){return[e.screenX,e.screenY]}function P(){let e=d.exports.useRef([-1,-1]);return{wasMoved(r){let n=x(r);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(r){e.current=x(r)}}}export{A as L,I as a,D as s,P as u,N as x};
