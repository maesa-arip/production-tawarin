import{I as b}from"./InputError.ff19e28c.js";import{I as o}from"./InputLabel.7cd34cdf.js";import{P as y}from"./PrimaryButton.e5de06ab.js";import{S}from"./SecondaryButton.cb630a0c.js";import{T as I}from"./TextInput.189149e7.js";import{T as k}from"./TextInputCheckbox.ac82dfd7.js";import{r as t,a as r,F as C,j as s}from"./app.5aafc160.js";function P({errors:p,permissions:u,submit:f,data:c,setData:i,model:n,closeButton:x}){const h=u;let N=n?n.permissions.map(e=>e.id):[];const[m,d]=t.exports.useState([]);t.exports.useEffect(()=>{const e=N,l=h.map(a=>e.includes(a.id)?{...a,isSelected:!0}:a);d(l)},[]);const v=e=>{d(l=>l.map(a=>a.id===e?{...a,isSelected:!a.isSelected}:a))},g=m.filter(e=>e.isSelected).map(e=>e.id);return t.exports.useEffect(()=>{i({...c,permissions:g})},[m]),r(C,{children:[s("div",{className:"px-4 py-5 bg-white sm:p-6",children:r("div",{className:"grid grid-cols-12 gap-6",children:[r("div",{className:"col-span-6",children:[s(o,{for:"name",value:"Nama"}),s(I,{id:"name",value:c.name,handleChange:e=>i("name",e.target.value),type:"text",className:"block w-full mt-1"}),s(b,{message:p.name,className:"mt-2"})]}),s("div",{className:"col-span-12 mt-2",children:s("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih permissions"})}),m.map(e=>r("div",{className:"flex justify-between col-span-4 px-3 py-4 border rounded-md",children:[s(o,{for:e.name,value:e.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(k,{id:e.name,value:e.id,name:e.name,checked:e.isSelected,onChange:l=>{v(e.id)},className:"block w-full"},e.id)})]},e.id))]})}),r("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s(y,{children:f}),s(S,{className:"mx-2",onClick:x,children:"Batal"})]})]})}export{P as default};
