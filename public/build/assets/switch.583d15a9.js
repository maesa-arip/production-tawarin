import{r,R as a}from"./app.904ad6d2.js";import{D as P,X as g,y as M,o as b,p as R,R as F}from"./use-flags.6909ac6a.js";import{I as H,r as I,o as $}from"./keyboard.02f4e380.js";import{M as K,H as N}from"./label.beff293a.js";import{b as O,M as j}from"./description.efbc2a1f.js";import{s as A}from"./use-tracked-pointer.7a52dd1f.js";import{c as B,p as U}from"./hidden.25b7f3cb.js";import{T as X,p as Y}from"./use-controllable.06eca374.js";let x=r.exports.createContext(null);x.displayName="GroupContext";let Z=r.exports.Fragment;function q(c){var i;let[l,s]=r.exports.useState(null),[u,n]=N(),[p,d]=j(),m=r.exports.useMemo(()=>({switch:l,setSwitch:s,labelledby:u,describedby:p}),[l,s,u,p]),v={},y=c;return a.createElement(d,{name:"Switch.Description"},a.createElement(n,{name:"Switch.Label",props:{htmlFor:(i=m.switch)==null?void 0:i.id,onClick(t){l&&(t.currentTarget.tagName==="LABEL"&&t.preventDefault(),l.click(),l.focus({preventScroll:!0}))}}},a.createElement(x.Provider,{value:m},g({ourProps:v,theirProps:y,defaultTag:Z,name:"Switch.Group"}))))}let z="button";function J(c,i){let l=H(),{id:s=`headlessui-switch-${l}`,checked:u,defaultChecked:n=!1,onChange:p,name:d,value:m,form:v,...y}=c,t=r.exports.useContext(x),f=r.exports.useRef(null),S=M(f,i,t===null?null:t.setSwitch),[o,h]=X(u,p,n),k=b(()=>h==null?void 0:h(!o)),D=b(e=>{if(I(e.currentTarget))return e.preventDefault();e.preventDefault(),k()}),E=b(e=>{e.key===$.Space?(e.preventDefault(),k()):e.key===$.Enter&&Y(e.currentTarget)}),C=b(e=>e.preventDefault()),T=r.exports.useMemo(()=>({checked:o}),[o]),G={id:s,ref:S,role:"switch",type:A(c,f),tabIndex:0,"aria-checked":o,"aria-labelledby":t==null?void 0:t.labelledby,"aria-describedby":t==null?void 0:t.describedby,onClick:D,onKeyUp:E,onKeyPress:C},L=R();return r.exports.useEffect(()=>{var e;let w=(e=f.current)==null?void 0:e.closest("form");w&&n!==void 0&&L.addEventListener(w,"reset",()=>{h(n)})},[f,h]),a.createElement(a.Fragment,null,d!=null&&o&&a.createElement(B,{features:U.Hidden,...F({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:v,checked:o,name:d,value:m})}),g({ourProps:G,theirProps:y,slot:T,defaultTag:z,name:"Switch"}))}let Q=P(J),V=q,ne=Object.assign(Q,{Group:V,Label:K,Description:O});export{ne as G};
