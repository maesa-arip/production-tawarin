import{r as n,R as E}from"./app.49f1716d.js";import{D as V,o as $,y as X,p as ne,R as ie,X as q,d as le,c as ue,a as se,u as pe}from"./use-flags.25bab9e9.js";import{I as z,e as de,o as h,O as K,M as I,N as j,r as J,a as ce}from"./keyboard.a57c8c57.js";import{M as me,H as Q}from"./label.ba9d5960.js";import{b as fe,M as Y}from"./description.768e3174.js";import{F as ve}from"./use-tree-walker.d33d9697.js";import{c as Re,p as be}from"./hidden.012558dc.js";import{T as ge,e as xe,p as Ee}from"./use-controllable.bb987858.js";var $e=(r=>(r[r.RegisterOption=0]="RegisterOption",r[r.UnregisterOption=1]="UnregisterOption",r))($e||{});let ye={[0](r,t){let o=[...r.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...r,options:ce(o,c=>c.element.current)}},[1](r,t){let o=r.options.slice(),c=r.options.findIndex(m=>m.id===t.id);return c===-1?r:(o.splice(c,1),{...r,options:o})}},W=n.exports.createContext(null);W.displayName="RadioGroupDataContext";function Z(r){let t=n.exports.useContext(W);if(t===null){let o=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Z),o}return t}let B=n.exports.createContext(null);B.displayName="RadioGroupActionsContext";function ee(r){let t=n.exports.useContext(B);if(t===null){let o=new Error(`<${r} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ee),o}return t}function he(r,t){return pe(t.type,ye,r,t)}let ke="div";function Oe(r,t){let o=z(),{id:c=`headlessui-radiogroup-${o}`,value:m,defaultValue:v,form:P,name:A,onChange:y,by:k=(e,l)=>e===l,disabled:O=!1,...N}=r,R=$(typeof k=="string"?(e,l)=>{let i=k;return(e==null?void 0:e[i])===(l==null?void 0:l[i])}:k),[T,C]=n.exports.useReducer(he,{options:[]}),u=T.options,[M,_]=Q(),[b,w]=Y(),F=n.exports.useRef(null),U=X(F,t),[s,D]=ge(m,y,v),p=n.exports.useMemo(()=>u.find(e=>!e.propsRef.current.disabled),[u]),g=n.exports.useMemo(()=>u.some(e=>R(e.propsRef.current.value,s)),[u,s]),d=$(e=>{var l;if(O||R(e,s))return!1;let i=(l=u.find(x=>R(x.propsRef.current.value,e)))==null?void 0:l.propsRef.current;return i!=null&&i.disabled?!1:(D==null||D(e),!0)});ve({container:F.current,accept(e){return e.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute("role","none")}});let H=$(e=>{let l=F.current;if(!l)return;let i=de(l),x=u.filter(a=>a.propsRef.current.disabled===!1).map(a=>a.element.current);switch(e.key){case h.Enter:Ee(e.currentTarget);break;case h.ArrowLeft:case h.ArrowUp:if(e.preventDefault(),e.stopPropagation(),K(x,I.Previous|I.WrapAround)===j.Success){let a=u.find(G=>G.element.current===(i==null?void 0:i.activeElement));a&&d(a.propsRef.current.value)}break;case h.ArrowRight:case h.ArrowDown:if(e.preventDefault(),e.stopPropagation(),K(x,I.Next|I.WrapAround)===j.Success){let a=u.find(G=>G.element.current===(i==null?void 0:i.activeElement));a&&d(a.propsRef.current.value)}break;case h.Space:{e.preventDefault(),e.stopPropagation();let a=u.find(G=>G.element.current===(i==null?void 0:i.activeElement));a&&d(a.propsRef.current.value)}break}}),f=$(e=>(C({type:0,...e}),()=>C({type:1,id:e.id}))),L=n.exports.useMemo(()=>({value:s,firstOption:p,containsCheckedOption:g,disabled:O,compare:R,...T}),[s,p,g,O,R,T]),re=n.exports.useMemo(()=>({registerOption:f,change:d}),[f,d]),te={ref:U,id:c,role:"radiogroup","aria-labelledby":M,"aria-describedby":b,onKeyDown:H},oe=n.exports.useMemo(()=>({value:s}),[s]),S=n.exports.useRef(null),ae=ne();return n.exports.useEffect(()=>{S.current&&v!==void 0&&ae.addEventListener(S.current,"reset",()=>{d(v)})},[S,d]),E.createElement(w,{name:"RadioGroup.Description"},E.createElement(_,{name:"RadioGroup.Label"},E.createElement(B.Provider,{value:re},E.createElement(W.Provider,{value:L},A!=null&&s!=null&&xe({[A]:s}).map(([e,l],i)=>E.createElement(Re,{features:be.Hidden,ref:i===0?x=>{var a;S.current=(a=x==null?void 0:x.closest("form"))!=null?a:null}:void 0,...ie({key:e,as:"input",type:"radio",checked:l!=null,hidden:!0,readOnly:!0,form:P,name:e,value:l})})),q({ourProps:te,theirProps:N,slot:oe,defaultTag:ke,name:"RadioGroup"})))))}var Te=(r=>(r[r.Empty=1]="Empty",r[r.Active=2]="Active",r))(Te||{});let Ce="div";function we(r,t){var o;let c=z(),{id:m=`headlessui-radiogroup-option-${c}`,value:v,disabled:P=!1,...A}=r,y=n.exports.useRef(null),k=X(y,t),[O,N]=Q(),[R,T]=Y(),{addFlag:C,removeFlag:u,hasFlag:M}=le(1),_=ue({value:v,disabled:P}),b=Z("RadioGroup.Option"),w=ee("RadioGroup.Option");se(()=>w.registerOption({id:m,element:y,propsRef:_}),[m,w,y,r]);let F=$(f=>{var L;if(J(f.currentTarget))return f.preventDefault();w.change(v)&&(C(2),(L=y.current)==null||L.focus())}),U=$(f=>{if(J(f.currentTarget))return f.preventDefault();C(2)}),s=$(()=>u(2)),D=((o=b.firstOption)==null?void 0:o.id)===m,p=b.disabled||P,g=b.compare(b.value,v),d={ref:k,id:m,role:"radio","aria-checked":g?"true":"false","aria-labelledby":O,"aria-describedby":R,"aria-disabled":p?!0:void 0,tabIndex:(()=>p?-1:g||!b.containsCheckedOption&&D?0:-1)(),onClick:p?void 0:F,onFocus:p?void 0:U,onBlur:p?void 0:s},H=n.exports.useMemo(()=>({checked:g,disabled:p,active:M(2)}),[g,p,M]);return E.createElement(T,{name:"RadioGroup.Description"},E.createElement(N,{name:"RadioGroup.Label"},q({ourProps:d,theirProps:A,slot:H,defaultTag:Ce,name:"RadioGroup.Option"})))}let Fe=V(Oe),Ge=V(we),_e=Object.assign(Fe,{Option:Ge,Label:me,Description:fe});export{_e as y};
