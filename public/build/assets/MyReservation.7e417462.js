import{r as c,b as U,a as n,F as i,j as e,H as G}from"./app.9a113162.js";import{B as Q,l as Z,n as $,k as ee,f as y}from"./AsideReservasi.ee52670c.js";import{A as ae}from"./AppReservasi.fcc1ae47.js";import"./CopyButton.385e01f1.js";import{T as ne}from"./ThirdButton.30ff4068.js";import{I as w}from"./InfoModal.a6169543.js";import{T as r}from"./ThirdButtonNoLink.a1930ce4.js";import{R as re}from"./RadioCard.2a51314a.js";import{T as k}from"./TextAreaInput.840030de.js";import{I as D}from"./InputLabel.8238dc4e.js";import{I}from"./InputError.adb6d362.js";import"./transition.f7f3b6f1.js";import"./DropdownMenu.fae606ea.js";import"./clsx.m.256e9345.js";import"./use-event-listener.b65f985e.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.94f5ba3c.js";import"./dialog.42f3bdea.js";import"./description.30b2f9c3.js";import"./label.c40f8cea.js";import"./use-controllable.e6b312cf.js";function te({myReservations:b,ratingCategories:B,tips:S}){var L;const[o,d]=c.exports.useState([]),[M,p]=c.exports.useState(!1),[z,h]=c.exports.useState(!1),[F,m]=c.exports.useState(!1),[O,g]=c.exports.useState(!1),{data:l,setData:t,patch:le,post:se,put:u,processing:f,errors:N,reset:v}=U({}),R=a=>{d(a),p(!0)},_=a=>{d(a),h(!0)},V=()=>{h(!1)},T=()=>{u(route("reservation.finishcustomer",o.id),{onSuccess:()=>p(!1)})},K=()=>{u(route("reservation.requestapproved",o.id),{onSuccess:()=>h(!1)})},[P,x]=c.exports.useState(),q=()=>{p(!1),x()},C=a=>{t(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},A=a=>{d(a),m(!0)},H=()=>{m(!1),x()},J=a=>{a.preventDefault(),u(route("reservation.cancelreservation",o.id),{onSuccess:()=>Promise.all([m(!1),v()])})},E=a=>{d(a),g(!0)},Y=()=>{g(!1),x()},W=a=>{a.preventDefault(),u(route("reservation.complaintreservation",o.id),{onSuccess:()=>Promise.all([g(!1),v()])})};return n(i,{children:[n(w,{isOpenInfoDialog:z,setIsOpenInfoDialog:h,size:"2xl",closeButton:"false",title:"Berikut adalah tanggapan dari pekerja, silakan dijawab kembali",children:[n("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),e("span",{className:"text-lg font-semibold text-red-500",children:o.pekerja_comment})]}),e("span",{className:"text-lg font-semibold",children:(L=o.question)==null?void 0:L.question}),e(k,{placeholder:"Komentar",name:"customer_comment",handleChange:C}),e(r,{processing:f,onClick:K,children:"Jawab"}),e(r,{className:"mx-2 mt-2",color:"secondary",onClick:V,children:"Close"})]}),";",n(w,{isOpenInfoDialog:M,setIsOpenInfoDialog:p,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:[e("p",{className:"py-4 text-left",children:"Berikan Tip"}),e(re,{ShouldMap:S,selected:P,onChange:a=>{t({...l,tip:a.id}),x(a)}}),e("p",{className:"pt-8 pb-2 text-left",children:"Berikan Rating"}),n("div",{className:"flex flex-row-reverse items-center justify-center pb-8",children:[e("input",{id:"hs-ratings-readonly-1",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{t({...l,rating:5})},defaultValue:1}),e("label",{htmlFor:"hs-ratings-readonly-1",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-2",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{t({...l,rating:4})},defaultValue:2}),e("label",{htmlFor:"hs-ratings-readonly-2",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-3",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{t({...l,rating:3})},defaultValue:3}),e("label",{htmlFor:"hs-ratings-readonly-3",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-4",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{t({...l,rating:2})},defaultValue:4}),e("label",{htmlFor:"hs-ratings-readonly-4",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-5",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:"hs-ratings-readonly",onChange:a=>{t({...l,rating:1})},defaultValue:5}),e("label",{htmlFor:"hs-ratings-readonly-5",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})})]}),B.map((a,j)=>n("div",{className:"px-2 pt-2 my-2 border rounded-lg",children:[e("p",{className:"text-left",children:a.name}),n("div",{className:"flex flex-row-reverse items-center justify-center pb-8",children:[e("input",{id:"hs-ratings-readonly-1",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:a.id,onChange:s=>{t({...l,[a.id]:5})},defaultValue:1}),e("label",{htmlFor:"hs-ratings-readonly-1",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-2",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:a.id,onChange:s=>{t({...l,[a.id]:4})},defaultValue:2}),e("label",{htmlFor:"hs-ratings-readonly-2",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-3",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:a.id,onChange:s=>{t({...l,[a.id]:3})},defaultValue:3}),e("label",{htmlFor:"hs-ratings-readonly-3",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-4",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:a.id,onChange:s=>{t({...l,[a.id]:2})},defaultValue:4}),e("label",{htmlFor:"hs-ratings-readonly-4",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})}),e("input",{id:"hs-ratings-readonly-5",type:"radio",className:"w-8 h-8 text-transparent bg-transparent border-0 appearance-none cursor-pointer peer -ms-5 checked:bg-none focus:bg-none focus:ring-0 focus:ring-offset-0",name:a.id,onChange:s=>{t({...l,[a.id]:1})},defaultValue:5}),e("label",{htmlFor:"hs-ratings-readonly-5",className:"text-gray-300 pointer-events-none peer-checked:text-yellow-400 dark:peer-checked:text-yellow-600 dark:text-gray-600",children:e("svg",{className:"flex-shrink-0 w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})})]})]})),e(k,{placeholder:"Komentar",name:"comments",handleChange:C}),e(r,{className:"mt-2",processing:f,onClick:T,children:"Selesai"}),e(r,{className:"mx-2 mt-2",color:"secondary",onClick:q,children:"Close"})]}),n(w,{isOpenInfoDialog:F,setIsOpenInfoDialog:m,size:"2xl",closeButton:"false",title:"Yakin Batalkan Reservasi ?",children:[e("p",{className:"p-4 text-left border rounded-lg",children:"Pembatalan hanya bisa dilakukan 2 Jam sebelum layanan atau jika barber tidak ada"}),e(D,{className:"text-left mt-4",children:"Masukan Alasan"}),e(k,{type:"text",name:"reason",value:l.reason,className:"block w-full mt-1",autoComplete:"reason",isFocused:!0,handleChange:a=>t("reason",a.target.value)}),e(I,{message:N.reason,className:"mt-2 mb-2 text-left"}),e(r,{className:"mt-2",processing:f,onClick:J,children:"Selesai"}),e(r,{className:"mx-2 mt-2",color:"secondary",onClick:H,children:"Close"})]}),n(w,{isOpenInfoDialog:O,setIsOpenInfoDialog:g,size:"2xl",closeButton:"false",title:"Yakin Laporkan Pekerja ?",children:[e("p",{className:"p-4 text-left border rounded-lg",children:"Jika melakukan komplain maka secara otomatis layanan akan dibatalkan dan pembayaran akan dikembalikan, jika komplain diterima oleh owner, maka akan mendapat kompensasi tambahan"}),e(D,{className:"text-left mt-4",children:"Masukan Alasan Laporan"}),e(k,{type:"text",name:"complaint_reason",value:l.complaint_reason,className:"block w-full mt-1",autoComplete:"complaint_reason",isFocused:!0,handleChange:a=>t("complaint_reason",a.target.value)}),e(I,{message:N.complaint_reason,className:"mt-2 mb-2 text-left"}),e(r,{className:"mt-2",processing:f,onClick:W,children:"Kirim Laporan"}),e(r,{className:"mx-2 mt-2",color:"secondary",onClick:Y,children:"Close"})]}),e(G,{title:"Profile"}),e("div",{className:"py-12",children:e("div",{className:"mx-auto space-y-6 sm:px-6 lg:px-8",children:n("div",{className:"p-4 bg-white shadow sm:p-8 dark:bg-gray-800 sm:rounded-lg",children:[e("div",{className:"p-8 border border-gray-200 rounded-2xl",children:e("div",{className:"flex justify-center mb-2 text-lg",children:"Reservasi Saya"})}),b.map((a,j)=>e("div",{className:"py-5",children:e("div",{className:"relative p-2 overflow-hidden duration-150 bg-white rounded-lg shadow cursor-pointer",children:n("div",{children:[n("div",{className:"flex items-center justify-between px-4 my-6",children:[e("p",{className:"font-bold text-gray-500",children:"Nama Layanan"}),n("p",{className:"rounded-full bg-amber-500 px-2 py-0.5 text-xs font-semibold text-white",children:[a.counterCategoryName," ",a.counterName]})]}),n("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Kode Bukti"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.code})]}),n("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Tanggal Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.date})]}),n("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Jam Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.time})]}),n("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Pekerja"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.name})]}),a.jumlahlayanandiskon>0?n("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Layanan Ke"}),n("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:[a.layanan_ke," ",a.ambil_bonus==1?"(Cashback)":""]})]}):e(i,{}),a.answers.map((s,X)=>n("div",{className:"grid grid-cols-12 gap-1",children:[e("div",{className:"col-span-10 p-1 mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:n("div",{className:"flex items-center justify-between ",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:s.question.question}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:s.description})]})})}),e("div",{className:"col-span-1 p-1 mx-auto mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:n("div",{className:"flex items-center justify-between ",children:[s.approved==0&&s.decline==0?e("p",{className:"text-sm font-semibold text-yellow-500",children:e(Q,{})}):e(i,{}),s.decline==1?e("p",{className:"text-sm font-semibold text-red-500",children:e(Z,{onClick:()=>_(s)})}):e("p",{className:"text-sm font-semibold text-green-500",children:e($,{})})]})})})]},X)),e("div",{className:"flex items-center px-4 my-4 justify-evenly",children:a.batal_customer==1?n(r,{className:"cursor-not-allowed",color:"red",children:["Sudah dibatalkan"," ",e(ee,{className:"w-4 h-4"})]}):a.punishment==2?n(r,{className:"cursor-not-allowed",color:"amber",children:["Komplain Ditolak"," ",e(y,{className:"w-4 h-4"})]}):a.punishment==1?n(r,{className:"cursor-not-allowed",color:"teal",children:["Komplain Diterima"," ",e(y,{className:"w-4 h-4"})]}):a.complaint==1?n(r,{className:"cursor-not-allowed",color:"red",children:["Komplain Terkirim"," ",e(y,{className:"w-4 h-4"})]}):a.selesai_customer==1?n(r,{color:"teal",className:"cursor-not-allowed",children:["BERES"," ",e(y,{className:"w-5 h-5 ml-2"})]}):e(i,{children:a.selesai_team==1?e(r,{onClick:()=>R(a),color:"teal",children:"Selesaikan Layanan"}):n(i,{children:[" ",a.dikerjakan==1?e(r,{color:"yellow",children:"Sedang dikerjakan"}):n(i,{children:[e(r,{onClick:()=>A(a),color:"secondary",children:"Batal"}),e(ne,{href:route("reservations.change",{id:a.id,reservationCompany:a.companySlug}),className:a.id,color:"tawarin",children:"Ubah"}),e(r,{onClick:()=>E(a),color:"danger",children:"Laporkan Pekerja"})]})]})})})]})})},j))]})})})]})}te.layout=b=>e(ae,{children:b});export{te as default};
