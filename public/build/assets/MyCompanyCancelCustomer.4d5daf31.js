import{r,b as B,a as s,F as t,j as e,H as T}from"./app.d973b481.js";import{k as M,x as R,f as _}from"./index_responsive.f408c6e5.js";import{A}from"./AppReservasi.00964692.js";import"./CopyButton.9fab34c8.js";import{I as m}from"./InfoModal.469611b5.js";import{T as l}from"./ThirdButtonNoLink.c6ba41a0.js";import{I as E}from"./InputLabel.9482cf5f.js";import{T as F}from"./TextAreaInput.26070b2f.js";import{I as Y}from"./InputError.498ced9e.js";import"./transition.b1492347.js";import"./DropdownMenu.c22310e6.js";import"./clsx.m.256e9345.js";import"./use-event-listener.2c7f577a.js";import"./Tawarin.08057ae7.js";import"./AsideReservasi.27c3cf46.js";import"./ExclamationIcon.646e05f4.js";import"./dialog.d608dc93.js";import"./description.ab3096ac.js";function z({auth:d,mustVerifyEmail:H,status:L,myCustomers:p}){const[u,o]=r.exports.useState([]),[x,i]=r.exports.useState(!1),[f,c]=r.exports.useState(!1),[h,n]=r.exports.useState(!1),{data:g,setData:y,patch:K,post:q,put:b,processing:N,errors:k,reset:v}=B({}),I=a=>{o(a),i(!0)},w=a=>{o(a),c(!0)},D=()=>{i(!1)},C=()=>{c(!1)},j=a=>{o(a),n(!0)},S=()=>{n(!1)},P=a=>{a.preventDefault(),b(route("reservation.punishmentreservation",u.id),{onSuccess:()=>Promise.all([n(!1),v()])})};return s(t,{children:[e(m,{isOpenInfoDialog:x,setIsOpenInfoDialog:i,size:"2xl",closeButton:"false",title:"Yakin Mulai Pelayanan ?",children:e(l,{className:"mx-2 mt-2",color:"gray",onClick:D,children:"Close"})}),e(m,{isOpenInfoDialog:f,setIsOpenInfoDialog:c,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:e(l,{className:"mx-2 mt-2",color:"gray",onClick:C,children:"Close"})}),s(m,{isOpenInfoDialog:h,setIsOpenInfoDialog:n,size:"2xl",closeButton:"false",title:"Yakin Batalkan Reservasi ?",children:[e("p",{className:"p-4 text-base font-semibold text-left border-2 border-yellow-600 rounded-lg",children:"Yakin berikan punishment ke barber ?"}),e(E,{className:"text-left mt-4",children:"Masukan Alasan"}),e(F,{type:"text",name:"reason",value:g.reason,className:"block w-full mt-1",autoComplete:"reason",isFocused:!0,handleChange:a=>y("reason",a.target.value)}),e(Y,{message:k.reason,className:"mt-2 mb-2 text-left"}),e(l,{className:"mt-2",processing:N,onClick:P,children:"Simpan"}),e(l,{className:"mx-2 mt-2",color:"secondary",onClick:S,children:"Close"})]}),e(T,{title:"Cancel Customer"}),e("div",{className:"py-12",children:e("div",{className:"mx-auto space-y-6 sm:px-6 lg:px-8",children:s("div",{className:"p-4 bg-white shadow sm:p-8 dark:bg-gray-800 sm:rounded-lg",children:[e("div",{className:"p-8 border border-gray-200 rounded-2xl",children:e("div",{className:"flex justify-center mb-2 text-lg",children:"History Transaksi"})}),p.map((a,O)=>e("div",{className:"py-5",children:e("div",{className:"p-2 duration-150 bg-white rounded-lg shadow cursor-pointer",children:s("div",{children:[s("div",{className:"flex items-center justify-between px-4 my-6",children:[e("p",{className:"font-bold text-gray-500",children:"Nama Layanan"}),e("p",{className:"rounded-full bg-amber-500 px-2 py-0.5 text-xs font-semibold text-white",children:a.counterName})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Kode Bukti"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.code})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Tanggal Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.date})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Jam Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.time})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Team"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.name})]}),s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Nama Pelanggan"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:a.customerName})]}),a.batal_customer==1?s("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Alasan Batal"}),e("p",{className:"rounded-full bg-red-200 px-2 py-0.5 text-xs font-semibold text-red-600",children:a.alasan_batal_customer})]}):e(t,{}),e("div",{className:"flex items-center px-4 my-4 justify-evenly",children:a.batal_customer==1?s(t,{children:[s(l,{className:"cursor-not-allowed",color:"red",children:["Sudah dibatalkan"," ",e(M,{className:"w-4 h-4"})]}),s(l,{className:"cursor-pointer",color:"yellow",onClick:()=>j(a),children:["Punishment"," ",e(R,{className:"w-4 h-4"})]})]}):a.selesai_customer==1?s(l,{color:"teal",className:"cursor-not-allowed",children:["BERES"," ",e(_,{className:"w-5 h-5 ml-2"})]}):e(t,{children:a.selesai_team==1?e(l,{color:"yellow",className:"cursor-not-allowed",children:"Menunggu Konfirmasi Pelanggan"}):s(t,{children:[a.dikerjakan==1?e(l,{children:"Sedang dikerjakan ..."}):e(l,{onClick:()=>I(a),children:"Mulai"}),a.dikerjakan==1?e(l,{onClick:()=>w(a),color:"cyan",children:"Selesai"}):e(l,{color:"gray",className:"cursor-not-allowed",children:"Selesai"})]})})})]})})},O))]})})})]})}z.layout=d=>e(A,{children:d});export{z as default};
