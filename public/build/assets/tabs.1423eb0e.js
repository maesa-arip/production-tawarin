import{r as l,R as $}from"./app.2cb1dd92.js";import{H as E,x as q,y as S,c as M,b as H,_ as A,I as K,o as L,u as j}from"./transition.890889e1.js";import{h as J,b as Q,d as V,o as x,H as R,p as m,v as B}from"./XIcon.489cf6d6.js";function X({onFocus:e}){let[t,r]=l.exports.useState(!0);return t?$.createElement(J,{as:"button",type:"button",features:Q.Focusable,onFocus:o=>{o.preventDefault();let a,p=50;function u(){if(p--<=0){a&&cancelAnimationFrame(a);return}if(e()){r(!1),cancelAnimationFrame(a);return}a=requestAnimationFrame(u)}a=requestAnimationFrame(u)}}):null}var Y=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e[e.ForceRerender=5]="ForceRerender",e))(Y||{});let Z={[0](e,t){let r=e.tabs.filter(p=>{var u;return!((u=p.current)!=null&&u.hasAttribute("disabled"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(r[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(r[r.length-1])};let o=e.tabs.slice(0,t.index),a=[...e.tabs.slice(t.index),...o].find(p=>r.includes(p));return a?{...e,selectedIndex:e.tabs.indexOf(a)}:e},[1](e,t){return e.tabs.includes(t.tab)?e:{...e,tabs:B([...e.tabs,t.tab],r=>r.current)}},[2](e,t){return{...e,tabs:B(e.tabs.filter(r=>r!==t.tab),r=>r.current)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]}},[4](e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}},[5](e){return{...e}}},N=l.exports.createContext(null);N.displayName="TabsSSRContext";function U(e){let t=l.exports.useContext(N);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,U),r}return t}let G=l.exports.createContext(null);G.displayName="TabsDataContext";function k(e){let t=l.exports.useContext(G);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,k),r}return t}let W=l.exports.createContext(null);W.displayName="TabsActionsContext";function z(e){let t=l.exports.useContext(W);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,z),r}return t}function ee(e,t){return j(t.type,Z,e,t)}let te=l.exports.Fragment,re=E(function(e,t){let{defaultIndex:r=0,vertical:o=!1,manual:a=!1,onChange:p,selectedIndex:u=null,...h}=e;const T=o?"vertical":"horizontal",P=a?"manual":"auto";let c=S(t),[d,s]=l.exports.useReducer(ee,{selectedIndex:u!=null?u:r,tabs:[],panels:[]}),v=l.exports.useMemo(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),f=M(p||(()=>{})),b=M(d.tabs),g=l.exports.useMemo(()=>({orientation:T,activation:P,...d}),[T,P,d]),y=M(d.selectedIndex),w=l.exports.useMemo(()=>({registerTab(i){return s({type:1,tab:i}),()=>s({type:2,tab:i})},registerPanel(i){return s({type:3,panel:i}),()=>s({type:4,panel:i})},forceRerender(){s({type:5})},change(i){y.current!==i&&f.current(i),y.current=i,s({type:0,index:i})}}),[s]);H(()=>{s({type:0,index:u!=null?u:r})},[u]);let D=l.exports.useRef({tabs:[],panels:[]}),O={ref:c};return $.createElement(N.Provider,{value:D},$.createElement(W.Provider,{value:w},$.createElement(G.Provider,{value:g},g.tabs.length<=0&&$.createElement(X,{onFocus:()=>{var i,F;for(let C of b.current)if(((i=C.current)==null?void 0:i.tabIndex)===0)return(F=C.current)==null||F.focus(),!0;return!1}}),A({ourProps:O,theirProps:h,slot:v,defaultTag:te,name:"Tabs"}))))}),ne="div",ae=E(function(e,t){let{orientation:r,selectedIndex:o}=k("Tab.List"),a=S(t);return A({ourProps:{ref:a,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:o},defaultTag:ne,name:"Tabs.List"})}),se="button",le=E(function(e,t){var r,o;let a=`headlessui-tabs-tab-${K()}`,{orientation:p,activation:u,selectedIndex:h,tabs:T,panels:P}=k("Tab"),c=z("Tab"),d=U("Tab"),s=l.exports.useRef(null),v=S(s,t,n=>{!n||c.forceRerender()});H(()=>c.registerTab(s),[c,s]);let f=d.current.tabs.indexOf(a);f===-1&&(f=d.current.tabs.push(a)-1);let b=T.indexOf(s);b===-1&&(b=f);let g=b===h,y=L(n=>{let I=T.map(_=>_.current).filter(Boolean);if(n.key===x.Space||n.key===x.Enter){n.preventDefault(),n.stopPropagation(),c.change(b);return}switch(n.key){case x.Home:case x.PageUp:return n.preventDefault(),n.stopPropagation(),R(I,m.First);case x.End:case x.PageDown:return n.preventDefault(),n.stopPropagation(),R(I,m.Last)}if(j(p,{vertical(){if(n.key===x.ArrowUp)return R(I,m.Previous|m.WrapAround);if(n.key===x.ArrowDown)return R(I,m.Next|m.WrapAround)},horizontal(){if(n.key===x.ArrowLeft)return R(I,m.Previous|m.WrapAround);if(n.key===x.ArrowRight)return R(I,m.Next|m.WrapAround)}}))return n.preventDefault()}),w=L(()=>{var n;(n=s.current)==null||n.focus()}),D=L(()=>{var n;(n=s.current)==null||n.focus(),c.change(b)}),O=L(n=>{n.preventDefault()}),i=l.exports.useMemo(()=>({selected:g}),[g]),F=e,C={ref:v,onKeyDown:y,onFocus:u==="manual"?w:D,onMouseDown:O,onClick:D,id:a,role:"tab",type:V(e,s),"aria-controls":(o=(r=P[b])==null?void 0:r.current)==null?void 0:o.id,"aria-selected":g,tabIndex:g?0:-1};return A({ourProps:C,theirProps:F,slot:i,defaultTag:se,name:"Tabs.Tab"})}),oe="div",ue=E(function(e,t){let{selectedIndex:r}=k("Tab.Panels"),o=S(t),a=l.exports.useMemo(()=>({selectedIndex:r}),[r]);return A({ourProps:{ref:o},theirProps:e,slot:a,defaultTag:oe,name:"Tabs.Panels"})}),ie="div",ce=q.RenderStrategy|q.Static,pe=E(function(e,t){var r,o;let{selectedIndex:a,tabs:p,panels:u}=k("Tab.Panel"),h=z("Tab.Panel"),T=U("Tab.Panel"),P=`headlessui-tabs-panel-${K()}`,c=l.exports.useRef(null),d=S(c,t,w=>{!w||h.forceRerender()});H(()=>h.registerPanel(c),[h,c]);let s=T.current.panels.indexOf(P);s===-1&&(s=T.current.panels.push(P)-1);let v=u.indexOf(c);v===-1&&(v=s);let f=v===a,b=l.exports.useMemo(()=>({selected:f}),[f]),g=e,y={ref:d,id:P,role:"tabpanel","aria-labelledby":(o=(r=p[v])==null?void 0:r.current)==null?void 0:o.id,tabIndex:f?0:-1};return A({ourProps:y,theirProps:g,slot:b,defaultTag:ie,features:ce,visible:f,name:"Tabs.Panel"})}),xe=Object.assign(le,{Group:re,List:ae,Panels:ue,Panel:pe});export{xe as w};
