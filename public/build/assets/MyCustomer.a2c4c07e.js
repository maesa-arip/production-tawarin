import{r,b as E,a,F as o,j as e,H}from"./app.bb00ce51.js";import{l as L,m as N,w as R,n as Y,k as F,f as J,o as W}from"./AsideReservasi.9ea89315.js";import{A as X}from"./AppReservasi.e0a409bb.js";import"./CopyButton.6f983b3b.js";import{I as x}from"./InfoModal.37e82d7a.js";import{T as n}from"./ThirdButtonNoLink.b0244d1c.js";import"./TextInputCheckbox.beab6977.js";import{T as V}from"./TextAreaInput.c9d76fdb.js";import"./transition.c00a7fb4.js";import"./DropdownMenu.329da6bd.js";import"./clsx.m.256e9345.js";import"./use-event-listener.ab816d87.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.9398508c.js";import"./dialog.a943b3ee.js";import"./description.7f52d675.js";function G({auth:g,mustVerifyEmail:Q,status:U,myCustomers:b}){const[t,i]=r.exports.useState([]),[w,c]=r.exports.useState(!1),[v,d]=r.exports.useState(!1),[k,m]=r.exports.useState(!1),[I,p]=r.exports.useState(!1),{data:Z,setData:j,patch:$,post:ee,put:u,processing:h,errors:se,reset:ae}=E({}),C=s=>{j(s.target.name,s.target.type==="checkbox"?s.target.checked:s.target.value)},D=s=>{i(s),c(!0)},S=s=>{i(s),d(!0)},y=s=>{i(s),m(!0)},f=s=>{i(s),p(!0)},O=()=>{u(route("reservation.startservice",t.id),{onSuccess:()=>c(!1)})},_=()=>{u(route("reservation.finishservice",t.id),{onSuccess:()=>d(!1)})},B=()=>{u(route("reservation.declineanswer",t.id),{onSuccess:()=>m(!1)})},P=()=>{u(route("reservation.approvedanswer",t.id),{onSuccess:()=>p(!1)})},T=()=>{c(!1)},q=()=>{d(!1)},M=()=>{m(!1)},z=()=>{p(!1)};return a(o,{children:[a(x,{isOpenInfoDialog:w,setIsOpenInfoDialog:c,size:"2xl",closeButton:"false",title:"Yakin Mulai Pelayanan ?",children:[e(n,{processing:h,onClick:O,children:"Mulai"}),e(n,{className:"mx-2 mt-2",color:"secondary",onClick:T,children:"Close"})]}),a(x,{isOpenInfoDialog:v,setIsOpenInfoDialog:d,size:"2xl",closeButton:"false",title:"Yakin Selesaikan Pelayanan ?",children:[e(n,{processing:h,onClick:_,children:"Selesai"}),e(n,{className:"mx-2 mt-2",color:"secondary",onClick:q,children:"Close"})]}),a(x,{isOpenInfoDialog:k,setIsOpenInfoDialog:m,size:"2xl",closeButton:"false",title:"Yakin Tolak Jawaban Pelanggan ?",children:[e(V,{placeholder:"Komentar",name:"pekerja_comment",handleChange:C}),e(n,{processing:h,onClick:B,color:"danger",children:"Tolak"}),e(n,{className:"mx-2 mt-2",color:"secondary",onClick:M,children:"Close"})]}),a(x,{isOpenInfoDialog:I,setIsOpenInfoDialog:p,size:"2xl",closeButton:"false",title:"Yakin Terima Jawaban Pelanggan ?",children:[t.request_approved==1?a("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),e("span",{className:"text-lg font-semibold text-left",children:t.customer_comment})]}):e(o,{}),e(n,{processing:h,onClick:P,children:"Terima"}),e(n,{className:"mx-2 mt-2",color:"secondary",onClick:z,children:"Close"})]}),e(H,{title:"Profile"}),e("div",{className:"py-12",children:e("div",{className:"mx-auto space-y-6 sm:px-6 lg:px-8",children:a("div",{className:"p-4 bg-white shadow sm:p-8 dark:bg-gray-800 sm:rounded-lg",children:[e("div",{className:"p-8 border border-gray-200 rounded-2xl",children:e("div",{className:"flex justify-center mb-2 text-lg",children:"Pelanggan Saya"})}),b.map((s,A)=>e("div",{className:"py-5",children:e("div",{className:"p-2 duration-150 bg-white rounded-lg shadow cursor-pointer",children:a("div",{children:[a("div",{className:"flex items-center justify-between px-4 my-6",children:[e("p",{className:"font-bold text-gray-500",children:"Nama Layanan"}),a("p",{className:"rounded-full bg-blue-500 px-2 py-0.5 text-xs font-semibold text-white",children:[s.counterCategoryName," ",s.counterName]})]}),a("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Kode Bukti"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:s.code})]}),a("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Tanggal Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:s.date})]}),a("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Jam Reservasi"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:s.time})]}),a("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Nama Pelanggan"}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:s.user.name})]}),s.complaint==1?a("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Alasan Komplain"}),e("p",{className:"rounded-full bg-red-200 px-2 py-0.5 text-xs font-semibold text-red-600",children:s.complaint_reason})]}):e(o,{}),s.answers.map((l,K)=>a("div",{className:"grid grid-cols-12 gap-1",children:[e("div",{className:"col-span-10 p-1 mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:a("div",{className:"flex items-center justify-between ",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:l.question.question}),e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-gray-600",children:l.description}),l.request_approved==1?e("p",{className:"rounded-full bg-gray-200 px-2 py-0.5 text-xs font-semibold text-yellow-600",children:l.customer_comment}):e(o,{})]})})}),l.approved==0&&l.decline==0&&l.request_approved==0?a(o,{children:[e("div",{className:"col-span-1 p-1 mx-auto mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:e("div",{className:"flex items-center justify-between ",children:e("p",{className:"text-sm font-semibold text-red-500",children:e(L,{onClick:()=>y(l)})})})})}),e("div",{className:"col-span-1 p-1 mx-auto mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:e("div",{className:"flex items-center justify-between ",children:e("p",{className:"text-sm font-semibold text-green-500",children:e(N,{onClick:()=>f(l)})})})})})]}):e(o,{}),l.approved==1?e(o,{children:e("div",{className:"col-span-1 p-1 mx-auto mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:e("div",{className:"flex items-center justify-between ",children:e("p",{className:"text-sm font-semibold text-green-500",children:e(N,{onClick:()=>f(l)})})})})})}):e(o,{}),l.decline==1&&l.request_approved==1&&l.approved==0?e(o,{children:e("div",{className:"col-span-1 p-1 mx-auto mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:e("div",{className:"flex items-center justify-between ",children:e("p",{className:"text-sm font-semibold text-yellow-500",children:e(R,{onClick:()=>f(l)})})})})})}):e(o,{}),l.decline==1&&l.approved==0?e(o,{children:e("div",{className:"col-span-1 p-1 mx-auto mt-2 duration-150 bg-white rounded-lg shadow cursor-pointer ",children:e("div",{children:e("div",{className:"flex items-center justify-between ",children:e("p",{className:"text-sm font-semibold text-red-500",children:e(Y,{onClick:()=>y(l)})})})})})}):e(o,{})]},K)),s.batal_customer==1?a("div",{className:"flex items-center justify-between px-4 my-4",children:[e("p",{className:"text-sm font-semibold text-gray-500",children:"Alasan Batal"}),e("p",{className:"rounded-full bg-red-200 px-2 py-0.5 text-xs font-semibold text-red-600",children:s.alasan_batal_customer})]}):e(o,{}),e("div",{className:"flex items-center px-4 my-4 justify-evenly",children:s.batal_customer==1?a(n,{className:"cursor-not-allowed",color:"red",children:["Sudah dibatalkan"," ",e(F,{className:"w-4 h-4"})]}):s.selesai_customer==1?a(n,{color:"teal",className:"cursor-not-allowed",children:["BERES"," ",e(J,{className:"w-5 h-5 ml-2"})]}):e(o,{children:s.selesai_team==1?e(n,{color:"yellow",className:"cursor-not-allowed",children:"Menunggu Konfirmasi Pelanggan"}):s.complaint==1?a(n,{color:"red",className:"cursor-not-allowed",children:["Pelanggan Komplain"," ",e(W,{className:"w-5 h-5 ml-2"})]}):a(o,{children:[s.dikerjakan==1?e(n,{children:"Sedang dikerjakan ..."}):e(n,{onClick:s.leader===1?()=>D(s):void 0,className:s.leader===1?"":"cursor-not-allowed",children:"Mulai"}),s.dikerjakan==1?e(n,{onClick:s.leader===1?()=>S(s):void 0,className:s.leader===1?"":"cursor-not-allowed",color:"cyan",children:"Selesai"}):e(n,{color:"gray",className:"cursor-not-allowed",children:"Selesai"})]})})})]})})},A))]})})})]})}G.layout=g=>e(X,{children:g});export{G as default};
