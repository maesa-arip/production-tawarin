var I=Object.defineProperty;var j=(l,s,e)=>s in l?I(l,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[s]=e;var i=(l,s,e)=>(j(l,typeof s!="symbol"?s+"":s,e),e);import{r as d,R as u,c as R,a as n,j as f}from"./app.18faa3d5.js";import{H as S,I as C,y as x,t as Y,_ as k,o as g,s as L,g as U,r as A,a as N}from"./App.46048341.js";import{F as B,k as G}from"./description.3926cb87.js";import{h as H,s as J}from"./hidden.6d544f51.js";import{p as W}from"./form.0980e256.js";let T=d.exports.createContext(null);function P(){let l=d.exports.useContext(T);if(l===null){let s=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,P),s}return l}function K(){let[l,s]=d.exports.useState([]);return[l.length>0?l.join(" "):void 0,d.exports.useMemo(()=>function(e){let t=g(r=>(s(o=>[...o,r]),()=>s(o=>{let c=o.slice(),h=c.indexOf(r);return h!==-1&&c.splice(h,1),c}))),a=d.exports.useMemo(()=>({register:t,slot:e.slot,name:e.name,props:e.props}),[t,e.slot,e.name,e.props]);return u.createElement(T.Provider,{value:a},e.children)},[s])]}let _="label",q=S(function(l,s){let{passive:e=!1,...t}=l,a=P(),r=`headlessui-label-${C()}`,o=x(s);Y(()=>a.register(r),[r,a.register]);let c={ref:o,...a.props,id:r};return e&&("onClick"in c&&delete c.onClick,"onClick"in t&&delete t.onClick),k({ourProps:c,theirProps:t,slot:a.slot||{},defaultTag:_,name:a.name||"Label"})}),w=d.exports.createContext(null);w.displayName="GroupContext";let z=d.exports.Fragment;function V(l){let[s,e]=d.exports.useState(null),[t,a]=K(),[r,o]=G(),c=d.exports.useMemo(()=>({switch:s,setSwitch:e,labelledby:t,describedby:r}),[s,e,t,r]),h={},p=l;return u.createElement(o,{name:"Switch.Description"},u.createElement(a,{name:"Switch.Label",props:{onClick(){!s||(s.click(),s.focus({preventScroll:!0}))}}},u.createElement(w.Provider,{value:c},k({ourProps:h,theirProps:p,defaultTag:z,name:"Switch.Group"}))))}let Q="button",X=S(function(l,s){let{checked:e,onChange:t,name:a,value:r,...o}=l,c=`headlessui-switch-${C()}`,h=d.exports.useContext(w),p=d.exports.useRef(null),D=x(p,s,h===null?null:h.setSwitch),y=g(()=>t(!e)),b=g(m=>{if(A(m.currentTarget))return m.preventDefault();m.preventDefault(),y()}),F=g(m=>{m.key===N.Space?(m.preventDefault(),y()):m.key===N.Enter&&W(m.currentTarget)}),O=g(m=>m.preventDefault()),E=d.exports.useMemo(()=>({checked:e}),[e]),$={id:c,ref:D,role:"switch",type:L(l,p),tabIndex:0,"aria-checked":e,"aria-labelledby":h==null?void 0:h.labelledby,"aria-describedby":h==null?void 0:h.describedby,onClick:b,onKeyUp:F,onKeyPress:O};return u.createElement(u.Fragment,null,a!=null&&e&&u.createElement(H,{features:J.Hidden,...U({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:e,name:a,value:r})}),k({ourProps:$,theirProps:o,slot:E,defaultTag:Q,name:"Switch"}))}),ie=Object.assign(X,{Group:V,Label:q,Description:B});let Z=60*60*24*1e3,M=Date.now()-Date.now()%Z+new Date().getTimezoneOffset()*1e3*60,v=u.createRef();class le extends d.exports.Component{constructor(){super();i(this,"state",{getMonthDetails:[]});i(this,"addBackDrop",e=>{this.state.showDatePicker&&!R.findDOMNode(this).contains(e.target)&&this.showDatePicker(!1)});i(this,"showDatePicker",(e=!0)=>{this.setState({showDatePicker:e})});i(this,"daysMap",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);i(this,"monthMap",["January","February","March","April","May","June","July","August","September","October","November","December"]);i(this,"getDayDetails",e=>{let t=e.index-e.firstDay,a=e.index%7,r=e.month-1,o=e.year;r<0&&(r=11,o--);let c=this.getNumberOfDays(o,r),h=(t<0?c+t:t%e.numberOfDays)+1,p=t<0?-1:t>=e.numberOfDays?1:0,D=new Date(e.year,e.month,h).getTime();return{date:h,day:a,month:p,timestamp:D,dayString:this.daysMap[a]}});i(this,"getNumberOfDays",(e,t)=>40-new Date(e,t,40).getDate());i(this,"getMonthDetails",(e,t)=>{let a=new Date(e,t).getDay(),r=this.getNumberOfDays(e,t),o=[],c=6,h=null,p=0,D=7;for(let y=0;y<c;y++)for(let b=0;b<D;b++)h=this.getDayDetails({index:p,numberOfDays:r,firstDay:a,year:e,month:t}),o.push(h),p++;return o});i(this,"isCurrentDay",e=>e.timestamp===M);i(this,"isSelectedDay",e=>e.timestamp===this.state.selectedDay);i(this,"getDateFromDateString",e=>{let t=e.split("-").map(c=>parseInt(c,10));if(t.length<3)return null;let a=t[0],r=t[1],o=t[2];return{year:a,month:r,date:o}});i(this,"getMonthStr",e=>this.monthMap[Math.max(Math.min(11,e),0)]||"Month");i(this,"getDateStringFromTimestamp",e=>{let t=new Date(e),a=t.getMonth()+1,r=t.getDate();return t.getFullYear()+"-"+(a<10?"0"+a:a)+"-"+(r<10?"0"+r:r)});i(this,"setDate",e=>{let t=new Date(e.year,e.month-1,e.date).getTime();this.setState({selectedDay:t}),this.props.onChange&&this.props.onChange(t)});i(this,"updateDateFromInput",()=>{let e=v.current.value,t=this.getDateFromDateString(e);t!==null&&(this.setDate(t),this.setState({year:t.year,month:t.month-1,monthDetails:this.getMonthDetails(t.year,t.month-1)}))});i(this,"setDateToInput",e=>{let t=this.getDateStringFromTimestamp(e);v.current.value=t});i(this,"onDateClick",e=>{this.setState({selectedDay:e.timestamp},()=>this.setDateToInput(e.timestamp)),this.props.onChange&&this.props.onChange(e.timestamp),this.showDatePicker(!1)});i(this,"setYear",e=>{let t=this.state.year+e,a=this.state.month;this.setState({year:t,monthDetails:this.getMonthDetails(t,a)})});i(this,"setMonth",e=>{let t=this.state.year,a=this.state.month+e;a===-1?(a=11,t--):a===12&&(a=0,t++),this.setState({year:t,month:a,monthDetails:this.getMonthDetails(t,a)})});let e=new Date,t=e.getFullYear(),a=e.getMonth();this.state={year:t,month:a,selectedDay:M,monthDetails:this.getMonthDetails(t,a)}}componentDidMount(){window.addEventListener("click",this.addBackDrop),this.setDateToInput(this.state.selectedDay)}componentWillUnmount(){window.removeEventListener("click",this.addBackDrop)}renderCalendar(){let e=this.state.monthDetails.map((t,a)=>n("div",{className:"c-day-container "+(t.month!==0?" disabled":"")+(this.isCurrentDay(t)?" highlight":"")+(this.isSelectedDay(t)?" highlight-green":""),children:n("div",{className:"cdc-day",children:n("span",{onClick:()=>this.onDateClick(t),children:t.date})})},a));return f("div",{className:"c-container",children:[n("div",{className:"cc-head",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map((t,a)=>n("div",{className:"cch-name",children:t},a))}),n("div",{className:"cc-body",children:e})]})}render(){return f("div",{className:"DatePicker",children:[n("div",{className:"mdp-input",onClick:()=>this.showDatePicker(!0),children:n("input",{type:"date",onChange:this.updateDateFromInput,ref:v})}),this.state.showDatePicker?f("div",{className:"mdp-container",children:[f("div",{className:"mdpc-head",children:[n("div",{className:"mdpch-button",children:n("div",{className:"mdpchb-inner",onClick:()=>this.setYear(-1),children:n("span",{className:"mdpchbi-left-arrows"})})}),n("div",{className:"mdpch-button",children:n("div",{className:"mdpchb-inner",onClick:()=>this.setMonth(-1),children:n("span",{className:"mdpchbi-left-arrow"})})}),f("div",{className:"mdpch-container",children:[n("div",{className:"mdpchc-year",children:this.state.year}),n("div",{className:"mdpchc-month",children:this.getMonthStr(this.state.month)})]}),n("div",{className:"mdpch-button",children:n("div",{className:"mdpchb-inner",onClick:()=>this.setMonth(1),children:n("span",{className:"mdpchbi-right-arrow"})})}),n("div",{className:"mdpch-button",onClick:()=>this.setYear(1),children:n("div",{className:"mdpchb-inner",children:n("span",{className:"mdpchbi-right-arrows"})})})]}),n("div",{className:"mdpc-body",children:this.renderCalendar()})]}):""]})}}export{le as D,ie as u};
