import{r as d,R as K,j as h,a as j,F as H,I as J}from"./app.1f0dd18e.js";import{c as A}from"./clsx.m.256e9345.js";import{S as B,D as T,y as $,b as g,u as V,X as E,p as z,l as P,o as L}from"./use-flags.e91a3c3f.js";import{I as O,h as W,T as X,o as p,r as Y,_ as Z,M as _,D as G,a as ee}from"./keyboard.a446c5ae.js";import{s as te,u as re,a as I,x as ne}from"./use-tracked-pointer.596074c7.js";import{L as ae}from"./use-outside-click.d3b7ddd8.js";import{F as oe}from"./use-tree-walker.9b04534f.js";import{c as ie,d as F,C as se,t as ue}from"./transition.accbfc72.js";import{n as le}from"./use-owner.0c5f97e2.js";var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),de=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(de||{}),me=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(me||{});function N(e,o=a=>a){let a=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=ee(o(e.items.slice()),l=>l.dataRef.current.domRef.current),i=a?r.indexOf(a):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let pe={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,o)=>{var a;let r=N(e),i=ne(o,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(a=o.trigger)!=null?a:1}},[3]:(e,o)=>{let a=e.searchQuery!==""?0:1,r=e.searchQuery+o.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+a).concat(e.items.slice(0,e.activeItemIndex+a)):e.items).find(s=>{var t;return((t=s.dataRef.current.textValue)==null?void 0:t.startsWith(r))&&!s.dataRef.current.disabled}),l=i?e.items.indexOf(i):-1;return l===-1||l===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:l,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,o)=>{let a=N(e,r=>[...r,{id:o.id,dataRef:o.dataRef}]);return{...e,...a}},[6]:(e,o)=>{let a=N(e,r=>{let i=r.findIndex(l=>l.id===o.id);return i!==-1&&r.splice(i,1),r});return{...e,...a,activationTrigger:1}}},Q=d.exports.createContext(null);Q.displayName="MenuContext";function C(e){let o=d.exports.useContext(Q);if(o===null){let a=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,C),a}return o}function fe(e,o){return V(o.type,pe,e,o)}let ve=d.exports.Fragment;function ge(e,o){let a=d.exports.useReducer(fe,{menuState:1,buttonRef:d.exports.createRef(),itemsRef:d.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:i,buttonRef:l},s]=a,t=$(o);ae([l,i],(b,w)=>{var R;s({type:1}),W(w,X.Loose)||(b.preventDefault(),(R=l.current)==null||R.focus())},r===0);let u=g(()=>{s({type:1})}),f=d.exports.useMemo(()=>({open:r===0,close:u}),[r,u]),y=e,v={ref:t};return K.createElement(Q.Provider,{value:a},K.createElement(ie,{value:V(r,{[0]:F.Open,[1]:F.Closed})},E({ourProps:v,theirProps:y,slot:f,defaultTag:ve,name:"Menu"})))}let xe="button";function Ie(e,o){var a;let r=O(),{id:i=`headlessui-menu-button-${r}`,...l}=e,[s,t]=C("Menu.Button"),u=$(s.buttonRef,o),f=z(),y=g(c=>{switch(c.key){case p.Space:case p.Enter:case p.ArrowDown:c.preventDefault(),c.stopPropagation(),t({type:0}),f.nextFrame(()=>t({type:2,focus:I.First}));break;case p.ArrowUp:c.preventDefault(),c.stopPropagation(),t({type:0}),f.nextFrame(()=>t({type:2,focus:I.Last}));break}}),v=g(c=>{switch(c.key){case p.Space:c.preventDefault();break}}),b=g(c=>{if(Y(c.currentTarget))return c.preventDefault();e.disabled||(s.menuState===0?(t({type:1}),f.nextFrame(()=>{var S;return(S=s.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})})):(c.preventDefault(),t({type:0})))}),w=d.exports.useMemo(()=>({open:s.menuState===0}),[s]),R={ref:u,id:i,type:te(e,s.buttonRef),"aria-haspopup":"menu","aria-controls":(a=s.itemsRef.current)==null?void 0:a.id,"aria-expanded":e.disabled?void 0:s.menuState===0,onKeyDown:y,onKeyUp:v,onClick:b};return E({ourProps:R,theirProps:l,slot:w,defaultTag:xe,name:"Menu.Button"})}let ye="div",be=B.RenderStrategy|B.Static;function he(e,o){var a,r;let i=O(),{id:l=`headlessui-menu-items-${i}`,...s}=e,[t,u]=C("Menu.Items"),f=$(t.itemsRef,o),y=le(t.itemsRef),v=z(),b=se(),w=(()=>b!==null?(b&F.Open)===F.Open:t.menuState===0)();d.exports.useEffect(()=>{let n=t.itemsRef.current;n&&t.menuState===0&&n!==(y==null?void 0:y.activeElement)&&n.focus({preventScroll:!0})},[t.menuState,t.itemsRef,y]),oe({container:t.itemsRef.current,enabled:t.menuState===0,accept(n){return n.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}});let R=g(n=>{var D,m;switch(v.dispose(),n.key){case p.Space:if(t.searchQuery!=="")return n.preventDefault(),n.stopPropagation(),u({type:3,value:n.key});case p.Enter:if(n.preventDefault(),n.stopPropagation(),u({type:1}),t.activeItemIndex!==null){let{dataRef:x}=t.items[t.activeItemIndex];(m=(D=x.current)==null?void 0:D.domRef.current)==null||m.click()}G(t.buttonRef.current);break;case p.ArrowDown:return n.preventDefault(),n.stopPropagation(),u({type:2,focus:I.Next});case p.ArrowUp:return n.preventDefault(),n.stopPropagation(),u({type:2,focus:I.Previous});case p.Home:case p.PageUp:return n.preventDefault(),n.stopPropagation(),u({type:2,focus:I.First});case p.End:case p.PageDown:return n.preventDefault(),n.stopPropagation(),u({type:2,focus:I.Last});case p.Escape:n.preventDefault(),n.stopPropagation(),u({type:1}),L().nextFrame(()=>{var x;return(x=t.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});break;case p.Tab:n.preventDefault(),n.stopPropagation(),u({type:1}),L().nextFrame(()=>{Z(t.buttonRef.current,n.shiftKey?_.Previous:_.Next)});break;default:n.key.length===1&&(u({type:3,value:n.key}),v.setTimeout(()=>u({type:4}),350));break}}),c=g(n=>{switch(n.key){case p.Space:n.preventDefault();break}}),S=d.exports.useMemo(()=>({open:t.menuState===0}),[t]),M={"aria-activedescendant":t.activeItemIndex===null||(a=t.items[t.activeItemIndex])==null?void 0:a.id,"aria-labelledby":(r=t.buttonRef.current)==null?void 0:r.id,id:l,onKeyDown:R,onKeyUp:c,role:"menu",tabIndex:0,ref:f};return E({ourProps:M,theirProps:s,slot:S,defaultTag:ye,features:be,visible:w,name:"Menu.Items"})}let Re=d.exports.Fragment;function we(e,o){let a=O(),{id:r=`headlessui-menu-item-${a}`,disabled:i=!1,...l}=e,[s,t]=C("Menu.Item"),u=s.activeItemIndex!==null?s.items[s.activeItemIndex].id===r:!1,f=d.exports.useRef(null),y=$(o,f);P(()=>{if(s.menuState!==0||!u||s.activationTrigger===0)return;let m=L();return m.requestAnimationFrame(()=>{var x,U;(U=(x=f.current)==null?void 0:x.scrollIntoView)==null||U.call(x,{block:"nearest"})}),m.dispose},[f,u,s.menuState,s.activationTrigger,s.activeItemIndex]);let v=d.exports.useRef({disabled:i,domRef:f});P(()=>{v.current.disabled=i},[v,i]),P(()=>{var m,x;v.current.textValue=(x=(m=f.current)==null?void 0:m.textContent)==null?void 0:x.toLowerCase()},[v,f]),P(()=>(t({type:5,id:r,dataRef:v}),()=>t({type:6,id:r})),[v,r]);let b=g(()=>{t({type:1})}),w=g(m=>{if(i)return m.preventDefault();t({type:1}),G(s.buttonRef.current)}),R=g(()=>{if(i)return t({type:2,focus:I.Nothing});t({type:2,focus:I.Specific,id:r})}),c=re(),S=g(m=>c.update(m)),M=g(m=>{c.wasMoved(m)&&(i||u||t({type:2,focus:I.Specific,id:r,trigger:0}))}),n=g(m=>{c.wasMoved(m)&&(i||u&&t({type:2,focus:I.Nothing}))}),D=d.exports.useMemo(()=>({active:u,disabled:i,close:b}),[u,i,b]);return E({ourProps:{id:r,ref:y,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:w,onFocus:R,onPointerEnter:S,onMouseEnter:S,onPointerMove:M,onMouseMove:M,onPointerLeave:n,onMouseLeave:n},theirProps:l,slot:D,defaultTag:Re,name:"Menu.Item"})}let Se=T(ge),Me=T(Ie),De=T(he),Pe=T(we),k=Object.assign(Se,{Button:Me,Items:De,Item:Pe});function ke(e,o){return d.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:o},e),d.exports.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}const Fe=d.exports.forwardRef(ke);var Te=Fe;function $e({href:e,children:o,...a}){return h(k.Item,{children:({active:r})=>h(J,{...a,className:A(r&&"font-semibold text-gray-900","flex items-start p-3 -m-3 rounded-lg hover:bg-gray-50"),href:e,children:o})})}function q({buttonClassName:e="",label:o,children:a}){return h(k,{className:"relative",as:"div",children:({open:r})=>j(H,{children:[j(k.Button,{className:A(r?"text-gray-900":"text-gray-500","group rounded-md inline-flex items-center text-sm font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:[o,h(Te,{className:A("h-5 w-5 transition duration-500",r&&"rotate-180"),"aria-hidden":"true"})]}),h(ue,{as:d.exports.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:h(k.Items,{className:"absolute z-20 w-full px-2 mt-3 -ml-4 transform md:w-screen md:max-w-md sm:px-0 lg:ml-0 lg:left-1/2 lg:-translate-x-1/2",children:h("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:h("div",{className:"relative grid gap-6 px-5 py-6 bg-white sm:gap-8 sm:p-8",children:a})})})})]})})}function Ee(){return h("div",{className:"block w-full h-px my-1 bg-gray-200"})}q.Link=$e;q.Divider=Ee;export{q as D,k as o};
