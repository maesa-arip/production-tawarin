import{r,u as P,l as c,d as C,a as s,j as e,H as L,L as _}from"./app.a17d9a53.js";import{A}from"./AppReservasi.eadb2d0d.js";import{C as E}from"./Container.d981c8f0.js";import{H}from"./Header.e7dacbfe.js";import{P as R}from"./Pagination.c291be68.js";import{I as B,h as M}from"./MenuLogo.b8de08cc.js";import{E as q}from"./EmptyCard.f97d69dc.js";import{L as z}from"./ListBoxPage.bcc9db9f.js";import"./DropdownMenu.1a91192e.js";import"./clsx.m.256e9345.js";import"./use-flags.e987dbda.js";import"./keyboard.f32af370.js";import"./use-tracked-pointer.5aefa828.js";import"./use-outside-click.25b5d2d1.js";import"./use-tree-walker.8e4f1f3f.js";import"./transition.b5d1d360.js";import"./use-owner.b92264e6.js";import"./Dropdown.26b5e359.js";import"./index.9254b5ea.js";import"./XIcon.0fb853b2.js";import"./use-event-listener.a1df4448.js";import"./hidden.16dc680d.js";import"./Tawarin.08057ae7.js";import"./dialog.c0ab7c0c.js";import"./description.d6c6e331.js";import"./listbox.bfdc6bde.js";import"./use-computed.9bb431a0.js";import"./use-controllable.09f61e26.js";import"./SelectorIcon.12936d07.js";function D(o){const{data:n,meta:p,links:u,filtered:f,attributes:l}=o.reservations,g=o.reservation_categories,[h,x]=r.exports.useState([]),[i,b]=r.exports.useState(f),[v,N]=r.exports.useState(!0),{permissions:d}=P().props;d&&d.map(t=>t.name);const w=r.exports.useCallback(c.exports.debounce(t=>{C.Inertia.get(route(route().current()),{...c.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);r.exports.useEffect(()=>{v?N(!1):w(i)},[i]),r.exports.useEffect(()=>{let t=[];for(let a=l.per_page;a<l.total/l.per_page;a=a+l.per_page)t.push(a);x(t)},[]);const m=t=>{const a={...i,[t.target.name]:t.target.value,page:1};b(a)},[y,k]=r.exports.useState(!1);r.exports.useState([]);const j=[{name:"Pilih"}],[I,S]=r.exports.useState(j[0]);return s("div",{children:[e(L,{title:"Reservations"}),e(H,{title:"Perencanaan",description:"List perencanaan yang ada di Tawarin."}),e(B,{isOpenInfoDialog:y,setIsOpenInfoDialog:k,size:"2xl",title:"Info",header:"",children:"Anda harus memiliki akun owner terlebih dahulu sebelum bisa membuat perencanaan"}),s(E,{children:[s("div",{className:"flex items-center justify-end",children:[e("div",{className:"w-2/3",children:e("div",{className:"flex items-center justify-start gap-x-2",children:s("div",{className:"w-2/3",children:[e("label",{htmlFor:"reservation_category_id",className:"block text-sm font-medium text-gray-700",children:"Cari Kategori"}),e(z,{ShouldMap:g,selected:I,onChange:t=>{S(t)}})]})})}),e("div",{className:"w-1/3",children:s("div",{className:"flex items-center justify-end gap-x-2",children:[e("select",{name:"load",id:"load",onChange:m,value:i.load,className:"hidden transition duration-150 ease-in-out border-gray-300 rounded-lg md:flex focus:ring-blue-200 focus:ring form-select",children:h.map((t,a)=>e("option",{children:t},a))}),s("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:m,value:i.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),n.length?e("div",{className:"grid w-full grid-cols-2 gap-1 mt-4 md:gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:n.map((t,a)=>e("div",{className:"relative w-full pb-4 mx-auto",children:e(_,{href:`/public/reservations/${t.slug}`,className:"relative inline-block w-full transition-transform duration-300 ease-in-out",children:s("div",{className:"p-2 bg-white border rounded-lg",children:[s("div",{className:"relative flex justify-center overflow-hidden border rounded-lg h-52",children:[e("div",{className:"w-full transition-transform duration-500 ease-in-out",children:e("div",{className:"absolute inset-0 ",children:e("img",{className:"object-cover object-top w-full h-full lg:h-full lg:w-full",src:t.media?t.media:"/storage/files/default/NoImage.svg",alt:t.slug})})}),e("div",{className:"absolute bottom-0 flex justify-center mb-3",children:e("div",{className:"flex px-2 py-1 space-x-1 overflow-hidden bg-white rounded-lg md:px-5 md:space-x-5",children:s("p",{className:"flex items-center text-sm font-medium text-gray-800",children:[e(M,{className:"w-5 h-5 text-gray-800 bg-transparent"}),t.name]})})})]}),e("div",{className:"mt-4",children:e("p",{className:"mt-2 text-base font-thin text-gray-800 md:text-xs line-clamp-1",title:"New York",children:t.formattedAddress})})]})})},a))}):e(q,{}),e(R,{meta:p,links:u})]})]})}D.layout=o=>e(A,{children:o});export{D as default};
