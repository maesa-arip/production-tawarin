import{B as R}from"./Button.4adc12b7.js";import{A}from"./App.bc0e0551.js";import{r as o,b as E,a,j as e,H as O,F as g}from"./app.eb559156.js";import{A as $}from"./AddModal.5c7e33c5.js";import{E as C}from"./EditModal.8a33688e.js";import{D as z}from"./DestroyModal.2bc3a844.js";import{C as H,E as M}from"./EditResultRevision.414a6121.js";import{I as F}from"./InfoModal.90c0937c.js";import"./clsx.m.256e9345.js";import"./DropdownMenu.db5716d5.js";import"./transition.5b19925f.js";import"./use-owner.6a6b2e46.js";import"./index_responsive.d814c56b.js";import"./Aside.f448faba.js";import"./Header.cb2a0006.js";import"./popover.604f4b84.js";import"./use-event-listener.c763bee7.js";import"./Tawarin.08057ae7.js";import"./index.ddb6300d.js";import"./dialog.6c389113.js";import"./description.55239ce4.js";import"./ExclamationIcon.a4097fec.js";import"./Filepond.74fbc62c.js";import"./Container.ef490857.js";import"./filepond-plugin-image-preview.esm.88738751.js";import"./filepond-plugin-file-validate-type.esm.9bfb0074.js";function K({plan:m,dataplan:l,plan_master:B,plan_details:y,plan_revisions:L,datarevisionresult:c,datadescriptionrevisionresult:p}){const[w,u]=o.exports.useState(!1),k=i=>{b(i),u(!0)},N=i=>{b(i),n(!0)},{data:_,setData:P,put:j,clearErrors:T,reset:D,errors:U}=E({}),S=i=>{i.preventDefault(),j(route("planresult.finish",s.result_id),{data:_,onSuccess:()=>{D(),v(!1)}})};o.exports.useState(!1);const[h,n]=o.exports.useState(!1),[f,x]=o.exports.useState(!1),[I,v]=o.exports.useState(!1),[s,b]=o.exports.useState([]);return a("div",{children:[e(O,{title:"Upload Hasil"}),e($,{isOpenAddDialog:h,setIsOpenAddDialog:n,size:"2xl",title:"Revisi "+s.name,children:e(H,{isOpenAddDialog:h,setIsOpenAddDialog:n,result:s.revision_id,result_all:s})}),e(C,{isOpenEditDialog:f,setIsOpenEditDialog:x,size:"2xl",title:"Edit User",children:e(M,{model:s,isOpenEditDialog:f,setIsOpenEditDialog:x})}),e(z,{isOpenDestroyDialog:I,setIsOpenDestroyDialog:v,size:"2xl",title:"Tidak ada revisi untuk "+s.name+" ?",children:e(R,{onClick:S,children:"Selesai"})}),a(F,{isOpenInfoDialog:w,setIsOpenInfoDialog:u,size:"6xl",title:"Hasil Revisi Ke-"+s.jumlah_pengajuan_revisi+" dari "+s.name,header:"",children:[p[s.revision_id]?e("div",{className:"mt-1",children:e("textarea",{rows:3,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",disabled:!0,defaultValue:p[s.revision_id]})}):"",c[s.revision_id]?e(g,{children:e("div",{className:"relative flex justify-center px-6 pt-5 pb-6 mt-1 overflow-hidden border-2 border-gray-300 border-dashed rounded-md",children:e("div",{className:"w-full text-center",children:c[s.revision_id].map((i,d)=>e("div",{className:" shadow overflow-hidden rounded-xl col-span-3 max-h-[14rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${i.id}/${i.file_name}`,alt:d})},{state:s}))})})}):""]}),e("div",{className:"bg-white",children:e("div",{className:"grid items-start max-w-2xl grid-cols-1 px-4 py-4 mx-auto gap-y-8 gap-x-8 sm:px-6 sm:py-16 lg:max-w-7xl lg:grid-cols-2 lg:px-8",children:y.map((i,d)=>e(g,{children:l[i.slug]?e("div",{className:"mt-5 ",children:e("div",{className:"bg-white ",children:e("div",{children:e("div",{className:"mt-5 md:mt-0",children:e("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:i.name}),e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:e("button",{onClick:()=>k(i),type:"submit",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-pink-900 transition duration-150 ease-in-out bg-pink-100 border border-transparent rounded-md hover:bg-pink-200 active:bg-pink-300 sm:ml-3 sm:w-auto sm:text-sm",tabIndex:0,children:"Lihat Revisiiiiii"})}),a("div",{className:"relative flex justify-center px-6 pt-5 pb-6 mt-1 overflow-hidden border-2 border-gray-300 border-dashed rounded-md",children:[i.is_finish==1&&e("div",{className:"absolute top-0 right-0 w-16 h-16",children:e("div",{className:"absolute right-[-44px] top-[22px] w-[170px] transform rotate-45 bg-sky-100 text-center text-sky-900 font-semibold py-1",children:"Selesai"})}),a("div",{className:"w-full text-center",children:[l[i.slug].map((t,r)=>r<2&&e("div",{className:" shadow overflow-hidden rounded-xl col-span-3 max-h-[14rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${t.id}/${t.file_name}`,alt:r})},t.id)),l[i.slug].map((t,r)=>r>1&&r<6&&e("div",{className:"shadow overflow-hidden rounded-xl col-span-2 max-h-[10rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${t.id}/${t.file_name}`,alt:r})},t.id))]})]}),e("div",{className:"mt-1",children:e("textarea",{rows:3,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",disabled:!0,defaultValue:"Ini adalah hasil "+i.name+" dari konsultan"})}),i.is_finish==1&&i.jumlah_pengajuan_revisi==0?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:e("button",{type:"button",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition duration-150 ease-in-out border border-transparent rounded-md text-sky-900 bg-sky-100 hover:bg-sky-200 active:bg-sky-300 sm:ml-3 sm:w-auto sm:text-sm",children:"Tidak Ada Revisi"})}):"",i.is_finish==1&&i.jumlah_pengajuan_revisi>0?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:e("button",{type:"button",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition duration-150 ease-in-out border border-transparent rounded-md text-sky-900 bg-sky-100 hover:bg-sky-200 active:bg-sky-300 sm:ml-3 sm:w-auto sm:text-sm",children:"Revisi Selesai"})}):"",i.is_finish==0&&i.jumlah_pengajuan_revisi>=i.jumlah_revisi?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:a("button",{type:"button",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition duration-150 ease-in-out border border-transparent rounded-md text-sky-900 bg-sky-100 hover:bg-sky-200 active:bg-sky-300 sm:ml-3 sm:w-auto sm:text-sm",children:["Pengajuan Revisi Sudah"," ",i.jumlah_pengajuan_revisi," ","Kali"]})}):"",i.is_finish==0&&i.jumlah_pengajuan_revisi<i.jumlah_revisi?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:a("button",{onClick:()=>N(i),type:"submit",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-pink-900 transition duration-150 ease-in-out bg-pink-100 border border-transparent rounded-md hover:bg-pink-200 active:bg-pink-300 sm:ml-3 sm:w-auto sm:text-sm",tabIndex:0,children:["Lihat Permintaan Ke-",i.jumlah_pengajuan_revisi]})}):""]})})})})})})},d):""}))})})]})}K.layout=m=>e(A,{children:m});export{K as default};
