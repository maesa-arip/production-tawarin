import{u as y,r as h,a as F,j as o,H as E}from"./app.49f1716d.js";import{A as T}from"./App.e89a7d77.js";import{C as w}from"./Container.33371753.js";import{F as C,r as S,p as j}from"./filepond-plugin-image-preview.esm.ccd8ae2c.js";import{p as O,a as v}from"./filepond-plugin-file-validate-type.esm.9bfb0074.js";import"./Navbar.80029154.js";import"./XIcon.cac22952.js";import"./clsx.m.256e9345.js";import"./use-flags.25bab9e9.js";import"./keyboard.a57c8c57.js";import"./transition.d4260f44.js";import"./use-tracked-pointer.40075335.js";import"./use-outside-click.a37267df.js";import"./use-owner.6f008482.js";import"./use-event-listener.de6abc3d.js";import"./hidden.012558dc.js";import"./MenuLogo.22bf6a74.js";import"./InfoModal.bf2e627c.js";import"./description.768e3174.js";import"./Tawarin.08057ae7.js";import"./DropdownMenu.a3d1af85.js";import"./use-tree-walker.d33d9697.js";import"./Dropdown.1c291896.js";import"./index.1255e03e.js";S(O,j,v);function x({props:t,inputname:a,allowMultiple:p,maxFiles:n,required:m}){const{csrf_token:i}=y().props,[d,c]=h.exports.useState([]),u=async r=>{try{const e=JSON.parse(r),s=e[0],l=e[1],f=e[2],g=e[3];console.log(s),console.log(l),(await fetch("/upload/filepond/destroy",{method:"DELETE",headers:{"X-CSRF-TOKEN":i,"Content-Type":"application/json"},body:JSON.stringify({folder:s,filename:l,sessionfolder:f,sessionfilename:g})})).ok?console.log("Image deleted successfully"):console.log("Error deleting image")}catch(e){console.error("Error deleting image:",e)}};return F("div",{children:[o(E,{title:""}),o(w,{children:o(C,{files:d,onupdatefiles:c,allowMultiple:p,maxFiles:n,name:a,credits:"false",required:m,allowFileTypeValidation:"true",acceptedFileTypes:["image/png","image/jpeg","video/mp4"],allowReplace:!0,allowReorder:"true",server:{process:{url:"/upload/filepond/store",method:"POST",headers:{"X-CSRF-TOKEN":i},withCredentials:!1,timeout:7e3,onerror:null},revert:(r,e,s)=>{u(r),e()}},labelIdle:'Drag & Drop your files or <span class="filepond--label-action">Browse</span>'})})]})}x.layout=t=>o(T,{children:t});export{x as default};
