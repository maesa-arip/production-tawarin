import{a as r,F as B,j as e,b as z,r as d,l as E,d as P,H as R}from"./app.237145dd.js";import{A as O}from"./App.a3f22c69.js";import{C as T}from"./Container.7ee1a9fe.js";import{A as U}from"./AddModal.9c96eabf.js";import{E as q}from"./EditModal.702d14cc.js";import{D as G}from"./DestroyModal.0a91e243.js";import{B as N}from"./Button.7c2d6982.js";import{D as y}from"./index_responsive.2a03976c.js";import"./DropdownMenu.c0e4d0e7.js";import"./clsx.m.256e9345.js";import"./transition.f7cd381e.js";import"./use-event-listener.2ad5cae9.js";import"./Aside.996af3ff.js";import"./dialog.6578c255.js";import"./description.73bcb30d.js";import"./ExclamationIcon.45119c9a.js";import"./Tawarin.08057ae7.js";function M({errors:s,submit:i,data:n,setData:m,closeButton:o}){var u,a;const p=l=>m({...n,[l.target.id]:l.target.value});return r(B,{children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:r("div",{className:"grid grid-cols-6 gap-6",children:[r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e("input",{type:"text",name:"name",value:(u=n.name)!=null?u:"",onChange:p,id:"name",autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),s&&e("div",{className:"text-pink-500 mt-1",children:s.name})]}),r("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"guard_name",className:"block text-sm font-medium text-gray-700",children:"Guard Name"}),e("input",{type:"text",name:"guard_name",value:(a=n.guard_name)!=null?a:"",onChange:p,id:"guard_name",autoComplete:"family-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),s&&e("div",{className:"text-pink-500 mt-1",children:s.guard_name})]})]})}),r("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e(N,{children:i}),e(N,{color:"pink",type:"button",onClick:o,children:"Cancel"})]})]})}function H({setIsOpenAddDialog:s}){const{data:i,setData:n,post:m,reset:o,errors:p}=z({name:"",guard_name:""});return e("form",{onSubmit:l=>{l.preventDefault(),m(route("permissions.store"),{data:i,onSuccess:()=>{o(),s(!1)}})},children:e(M,{errors:p,data:i,setData:n,submit:"Save",closeButton:l=>s(!1)})})}function W({setIsOpenEditDialog:s,model:i}){const{data:n,setData:m,put:o,reset:p,errors:u}=z({name:i.name,guard_name:i.guard_name}),a=g=>s(!1),l=g=>{g.preventDefault(),o(route("permissions.update",i.id),{data:n,onSuccess:()=>{p(),s(!1)}})};return d.exports.useEffect(()=>{m({...n,name:i.name,guard_name:i.guard_name})},[i]),e("form",{onSubmit:l,children:e(M,{errors:u,data:n,setData:m,submit:"Update",closeButton:a})})}const v=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),w=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function $(s){const{data:i,meta:n,filtered:m,attributes:o}=s.permissions,[p,u]=d.exports.useState([]),[a,l]=d.exports.useState(m),g=d.exports.useCallback(E.exports.debounce(t=>{P.Inertia.get(route("permissions.index"),{...E.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);d.exports.useEffect(()=>g(a),[a]),d.exports.useEffect(()=>{let t=[];for(let c=o.per_page;c<o.total/o.per_page;c=c+o.per_page)t.push(c);u(t)},[]);const k=t=>l({...a,[t.target.name]:t.target.value}),x=t=>{l({...a,field:t,direction:a.direction=="asc"?"desc":"asc"})},j=()=>{h(!0)},A=t=>{S(t),f(!0)},F=t=>{S(t),b(!0)},I=()=>{P.Inertia.delete(route("permissions.destroy",_.id),{onSuccess:()=>b(!1)})},[C,h]=d.exports.useState(!1),[D,f]=d.exports.useState(!1),[L,b]=d.exports.useState(!1),[_,S]=d.exports.useState([]);return r(B,{children:[e(R,{title:"Permissions"}),e(T,{children:"permissions "}),e(U,{isOpenAddDialog:C,setIsOpenAddDialog:h,size:"2xl",title:"Tambah Permission",children:e(H,{isOpenAddDialog:C,setIsOpenAddDialog:h})}),e(q,{isOpenEditDialog:D,setIsOpenEditDialog:f,size:"2xl",title:"Edit Permission",children:e(W,{model:_,isOpenEditDialog:D,setIsOpenEditDialog:f})}),e(G,{isOpenDestroyDialog:L,setIsOpenDestroyDialog:b,size:"2xl",title:"Delete Permission",children:e(N,{color:"pink",onClick:I,children:"Delete"})}),e("div",{className:"py-12",children:r("div",{className:"mx-auto max-w-8xl sm:px-6 lg:px-8",children:[r("div",{className:"flex items-center justify-end",children:[e("div",{className:"w-1/2",children:e("div",{className:"flex items-center justify-start mb-6 gap-x-2",children:e("button",{type:"button",onClick:j,className:"px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Tambah Permission"})})}),e("div",{className:"w-1/2",children:r("div",{className:"flex items-center justify-end mb-6 gap-x-2",children:[e("select",{name:"load",id:"load",onChange:k,value:a.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:p.map((t,c)=>e("option",{children:t},c))}),r("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:k,value:a.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})]}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 sm:-mx-6 lg:-mx-8",children:r("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:[e("div",{className:"border-b border-gray-200 shadow sm:rounded-lg",children:r("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:r("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:e("div",{className:"flex items-center cursor-pointer gap-x-2",children:"#"})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("name"),children:["Name",a.field=="name"&&a.direction=="asc"&&e(v,{}),a.field=="name"&&a.direction=="desc"&&e(w,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("guard_name"),children:["Guard Name",a.field=="guard_name"&&a.direction=="asc"&&e(v,{}),a.field=="guard_name"&&a.direction=="desc"&&e(w,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:r("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("created_at"),children:["Created_at",a.field=="created_at"&&a.direction=="asc"&&e(v,{}),a.field=="created_at"&&a.direction=="desc"&&e(w,{})]})}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((t,c)=>r("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:n.from+c}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t.name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t.guard_name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t.created_at}),e("td",{children:r(y,{children:[e(y.Trigger,{children:e("button",{children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),r(y.Content,{children:[e("button",{onClick:()=>A(t),className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",children:"Edit"}),e("button",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out items-center gap-x-2",onClick:()=>F(t),children:"Delete"})]})]})})]},t.id))})]})}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:n.links.map((t,c)=>e("button",{disabled:t.url==null,className:`${t.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>l({...a,page:new URL(t.url).searchParams.get("page")}),children:t.label},c))})]})})})]})})]})}$.layout=s=>e(O,{children:s});export{$ as default};
