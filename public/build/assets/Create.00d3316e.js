import{r as s,b as Q,a,j as e,H as X,F as d,L as Y}from"./app.c0487b97.js";import{A as Z}from"./AppReservasi.4a1c0fda.js";import{C as $}from"./Container.32c4b3a4.js";import"./DatePicker.8c4bd224.js";import{T as ee}from"./helper.e37a4314.js";import te from"./Filepond.7001e55a.js";import{L as ae}from"./ListBoxPage.df1b9d3c.js";import"./index.esm.dbc377d4.js";import"./Map.ed95196e.js";import{T as ne}from"./Tooltip.2e82e466.js";import{T as ie}from"./ThirdButtonNoLink.53390c40.js";import{S as k}from"./StarIcon.0ae0b2dc.js";import"./DropdownMenu.f870501d.js";import"./clsx.m.256e9345.js";import"./transition.b636ea97.js";import"./use-event-listener.6968febd.js";import"./AsideReservasi.74ad7115.js";import"./Tawarin.08057ae7.js";import"./App.03e03ef5.js";import"./filepond-plugin-image-preview.esm.b0170f0a.js";import"./filepond-plugin-file-validate-type.esm.9bfb0074.js";import"./listbox.659e9b43.js";import"./use-computed.0c9fcc43.js";import"./use-controllable.2f9a6906.js";import"./SelectorIcon.ec19e0e6.js";import"./esm.44d63f99.js";function se({onOff:m,reservationCarCategories:o,company:re}){var p,h,f,x,g,b,w,y,v;const[c,_]=s.exports.useState(0);s.exports.useState(0);const[j,C]=s.exports.useState(0),[S,u]=s.exports.useState(0),[L,F]=s.exports.useState(0),[P,le]=s.exports.useState(!1),[H,oe]=s.exports.useState(!1),D=t=>{C(t.target.value),l({...n,[t.target.id]:t.target.value})},B=t=>{u(t.target.value),l({...n,[t.target.id]:t.target.value})},M=t=>{u(t.target.value),l({...n,[t.target.id]:t.target.value})},{data:n,setData:l,post:I,processing:W,reset:O,errors:i}=Q({}),r=t=>{l({...n,[t.target.name]:t.target.type==="checkbox"||t.target.type==="radio"?t.target.checked:t.target.value})};s.exports.useState(),s.exports.useState(),s.exports.useState(),s.exports.useState();const z=t=>{t.preventDefault(),I(route("reservationCounters.store"),{data:n,onSuccess:()=>{O()}})},[de,K]=s.exports.useState(!1),[me,T]=s.exports.useState(!1);s.exports.useState([]);const R=()=>{K(!0)};s.exports.useEffect(()=>{R()},[]);const[G,ce]=s.exports.useState(0);s.exports.useEffect(()=>{l({...n,percent_employe:100-(parseInt(n.percent_owner)||100)})},[G,n.percent_owner]),s.exports.useState(0),s.exports.useEffect(()=>{l({...n,price_user:parseInt(n.bhp)+parseInt(n.jasa)}),_(n.price_user),F(Math.ceil(n.price_user*(100+5)/100))},[j,n.bhp,S,n.jasa]);const J=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Math.ceil(n.price_user*(100+5)/100)),E=()=>{T(!0)};s.exports.useEffect(()=>{E()},[]);const U=t=>{l({...n,reservation_car_category_id:t.id})},A=[{name:"Pilih"}],[V,q]=s.exports.useState(A[0]);return a("div",{children:[e(X,{title:"Plan Create"}),e($,{children:e("form",{onSubmit:z,children:e("div",{className:"mt-10 sm:mt-0",children:a("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:a("div",{className:"px-4 sm:px-0",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Data Layanan"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Masukan data lengkap Layananmu disini."})]})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:a("div",{className:"overflow-hidden shadow sm:rounded-md",children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:a("div",{className:"grid grid-cols-12 gap-6",children:[a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"reservation_category_id",className:"block text-sm font-medium text-gray-700",children:"Pilih Kategori"}),e(ae,{ShouldMap:o,selected:V,onChange:t=>{U(t),q(t)}}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.reservation_category_id})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Layanan"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"text",name:"name",value:(p=n.name)!=null?p:"",onChange:r,id:"name",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.name})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"bhp",className:"block text-sm font-medium text-gray-700",children:"Bahan Habis Pakai"}),e("input",{type:"number",name:"bhp",id:"bhp",onChange:D,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),i.bhp&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.bhp})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"jasa",className:"block text-sm font-medium text-gray-700",children:"Jasa"}),e("input",{type:"number",name:"jasa",id:"jasa",onChange:B,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),i.jasa&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.jasa})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"price_user",className:"block text-sm font-medium text-gray-700",children:"Harga"}),e("input",{type:"number",name:"price_user",id:"price_user",value:(h=n.price_user)!=null?h:"",readOnly:!0,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),i.price_user&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.price_user}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[c&&J," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:c&&"("+ee(L)+" Rupiah)"})]})]}),a("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Secara Otomatis Sistem akan up 5% dari Harga yang dimasukan, harga yang dilihat oleh Pelanggan adalah harga yang sudah di up 5%, nilai 5% tersebut akan menjadi fee untuk Tawarin."]}),P==!0?"":a(d,{children:[a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Persentase untuk Owner"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"percent_owner",value:(f=n.percent_owner)!=null?f:"",onChange:r,id:"percent_owner",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.percent_owner})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Persentase untuk Pekerja"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"percent_employe",value:(x=n.percent_employe)!=null?x:"",readOnly:!0,onChange:r,id:"percent_employe",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.percent_employe})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"bonus_khusus",className:"block text-sm font-medium text-gray-700",children:"Bonus Khusus"}),e("input",{type:"number",name:"bonus_khusus",id:"bonus_khusus",onChange:M,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),i.bonus_khusus&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.bonus_khusus})]}),e("div",{className:"col-span-12 mt-2",children:e("div",{className:"",children:[{href:route("reservationRatingCategories.index"),icon:o[0]?e(k,{className:"w-6 h-6 text-orange-400"}):e(k,{className:"w-6 h-6 text-gray-400"}),label:"Lihat Bonus Khusus"}].map((t,N)=>o[0]?a(Y,{href:t.href,className:"flex flex-col items-center ",children:[e("div",{className:"flex items-center justify-center w-full h-12 border border-orange-100 rounded-md bg-orange-50",children:t.icon}),e("p",{className:"mt-2 text-xs font-semibold text-center",children:t.label})]},N):a("div",{href:t.href,className:"flex flex-col items-center ",children:[e("div",{className:"flex items-center justify-center w-full h-12 border border-gray-100 rounded-xl bg-gray-50",children:t.icon}),e("p",{className:"mt-2 text-xs font-semibold text-center",children:t.label})]},N))})}),a("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Bonus diambil dari persentase untuk owner, bonus diberikan jika pelanggan memberikan rating full 5 bintang untuk semua kategori ."]}),a("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Persentase deposit pekerja adalah persentase maksimal yang akan disimpan, yang dipotong dari persentase untuk pekerja"]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Persentase Deposit Pekerja"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"deposit",value:(g=n.deposit)!=null?g:"",onChange:r,id:"deposit",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.deposit})]})]}),H==!0?"":e(d,{children:a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Jumlah Layanan untuk Mendapat Layanan Gratis"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"jumlahlayanandiskon",value:(b=n.jumlahlayanandiskon)!=null?b:"",onChange:r,id:"jumlahlayanandiskon",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.jumlahlayanandiskon})]})}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"service_duration",className:"block text-sm font-medium text-gray-700",children:"Lama Pelayanan (Menit)"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"service_duration",value:(w=n.service_duration)!=null?w:"",onChange:r,id:"service_duration",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.service_duration})]}),a("div",{className:"col-span-12 md:col-span-6",children:[a("label",{htmlFor:"period",className:"inline-flex text-sm font-medium text-gray-700 ",children:["Batas Waktu Reservasi (Hari)",e(ne,{message:"Batas waktu reservasi adalah bla bla bla",children:e(d,{children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 icon icon-tabler icon-tabler-info-hexagon-filled",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M10.425 1.414a3.33 3.33 0 0 1 3.026 -.097l.19 .097l6.775 3.995l.096 .063l.092 .077l.107 .075a3.224 3.224 0 0 1 1.266 2.188l.018 .202l.005 .204v7.284c0 1.106 -.57 2.129 -1.454 2.693l-.17 .1l-6.803 4.302c-.918 .504 -2.019 .535 -3.004 .068l-.196 -.1l-6.695 -4.237a3.225 3.225 0 0 1 -1.671 -2.619l-.007 -.207v-7.285c0 -1.106 .57 -2.128 1.476 -2.705l6.95 -4.098zm1.575 9.586h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",strokeWidth:0,fill:"currentColor"})]})})})]}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"period",value:(y=n.period)!=null?y:"",onChange:r,id:"period",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.period})]}),a("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("textarea",{type:"text",name:"description",value:(v=n.description)!=null?v:"",rows:3,onChange:r,id:"description",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),i&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:i.description})]}),e("div",{className:"col-span-12 mt-5 md:mt-0 md:col-span-6",children:e("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:a("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Gambar Layanan"}),e("div",{className:"flex justify-center px-6 pt-5 pb-6 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:a("div",{className:"w-full text-center",children:[e("svg",{className:"w-12 h-12 mx-auto text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e(te,{inputname:"reservationcounter",allowMultiple:!1,maxFiles:"5"}),a("div",{className:"flex justify-center text-sm text-gray-600",children:[e("label",{htmlFor:"file-upload",className:"relative font-medium text-indigo-600 bg-white rounded-md hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:e("span",{children:"Upload a file"})}),e("p",{className:"pl-1",children:"or drag and drop"})]}),e("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})})})})]})}),e("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:e(ie,{processing:W,children:"Simpan"})})]})})]})})})})]})}se.layout=m=>e(Z,{children:m});export{se as default};
