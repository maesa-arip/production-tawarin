import{j as ce,L as de,u as fe,r as u,R as w}from"./app.ce08ded8.js";import{c as ve}from"./clsx.m.256e9345.js";import{S as q,D as W,y as A,T as me,s as le,o as S,a as Pe,u as G,d as K,X as U,C as ue,l as be}from"./transition.21ecbc4b.js";import{n as z,f as ee,L as xe,I as j,O as N,M as R,h as Se,T as ye,o as L,r as ae,e as ge,N as Y}from"./use-owner.569aa1d0.js";import{s as Ee}from"./DropdownMenu.8f6f779e.js";import{E as Ie,n as se,c as Z,p as _,s as D}from"./use-event-listener.1ea49737.js";function _e({href:e,active:o,children:v,className:x,...y}){return ce(de,{href:e,...y,className:ve(x,o||fe().url==e?"inline-flex items-center px-1 border-indigo-400 text-sm font-medium leading-5 text-black focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out":"inline-flex items-center px-1 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-yellow-500 hover:border-yellow-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out"),children:v})}var $e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($e||{}),he=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(he||{});let we={[0]:e=>({...e,popoverState:G(e.popoverState,{[0]:1,[1]:0})}),[1](e){return e.popoverState===1?e:{...e,popoverState:1}},[2](e,o){return e.button===o.button?e:{...e,button:o.button}},[3](e,o){return e.buttonId===o.buttonId?e:{...e,buttonId:o.buttonId}},[4](e,o){return e.panel===o.panel?e:{...e,panel:o.panel}},[5](e,o){return e.panelId===o.panelId?e:{...e,panelId:o.panelId}}},te=u.exports.createContext(null);te.displayName="PopoverContext";function J(e){let o=u.exports.useContext(te);if(o===null){let v=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,J),v}return o}let re=u.exports.createContext(null);re.displayName="PopoverAPIContext";function ne(e){let o=u.exports.useContext(re);if(o===null){let v=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,ne),v}return o}let oe=u.exports.createContext(null);oe.displayName="PopoverGroupContext";function pe(){return u.exports.useContext(oe)}let Q=u.exports.createContext(null);Q.displayName="PopoverPanelContext";function Ce(){return u.exports.useContext(Q)}function Te(e,o){return G(o.type,we,e,o)}let Fe="div";function ke(e,o){var v;let x=u.exports.useRef(null),y=A(o,me(t=>{x.current=t})),l=u.exports.useRef([]),r=u.exports.useReducer(Te,{popoverState:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:u.exports.createRef(),afterPanelSentinel:u.exports.createRef()}),[{popoverState:f,button:s,buttonId:$,panel:P,panelId:g,beforePanelSentinel:p,afterPanelSentinel:B},d]=r,c=z((v=x.current)!=null?v:s),b=u.exports.useMemo(()=>{if(!s||!P)return!1;for(let X of document.querySelectorAll("body > *"))if(Number(X==null?void 0:X.contains(s))^Number(X==null?void 0:X.contains(P)))return!0;let t=ee(),a=t.indexOf(s),h=(a+t.length-1)%t.length,M=(a+1)%t.length,V=t[h],ie=t[M];return!P.contains(V)&&!P.contains(ie)},[s,P]),E=le($),F=le(g),C=u.exports.useMemo(()=>({buttonId:E,panelId:F,close:()=>d({type:1})}),[E,F,d]),k=pe(),O=k==null?void 0:k.registerPopover,H=S(()=>{var t;return(t=k==null?void 0:k.isFocusWithinPopoverGroup())!=null?t:(c==null?void 0:c.activeElement)&&((s==null?void 0:s.contains(c.activeElement))||(P==null?void 0:P.contains(c.activeElement)))});u.exports.useEffect(()=>O==null?void 0:O(C),[O,C]),Ie(c==null?void 0:c.defaultView,"focus",t=>{var a,h,M,V;f===0&&(H()||s&&P&&t.target!==window&&((h=(a=p.current)==null?void 0:a.contains)!=null&&h.call(a,t.target)||(V=(M=B.current)==null?void 0:M.contains)!=null&&V.call(M,t.target)||d({type:1})))},!0),xe([s,P],(t,a)=>{d({type:1}),Se(a,ye.Loose)||(t.preventDefault(),s==null||s.focus())},f===0);let i=S(t=>{d({type:1});let a=(()=>t?t instanceof HTMLElement?t:"current"in t&&t.current instanceof HTMLElement?t.current:s:s)();a==null||a.focus()}),I=u.exports.useMemo(()=>({close:i,isPortalled:b}),[i,b]),m=u.exports.useMemo(()=>({open:f===0,close:i}),[f,i]),T=e,n={ref:y};return w.createElement(Q.Provider,{value:null},w.createElement(te.Provider,{value:r},w.createElement(re.Provider,{value:I},w.createElement(Pe,{value:G(f,{[0]:K.Open,[1]:K.Closed})},U({ourProps:n,theirProps:T,slot:m,defaultTag:Fe,name:"Popover"})))))}let Oe="button";function Be(e,o){let v=j(),{id:x=`headlessui-popover-button-${v}`,...y}=e,[l,r]=J("Popover.Button"),{isPortalled:f}=ne("Popover.Button"),s=u.exports.useRef(null),$=`headlessui-focus-sentinel-${j()}`,P=pe(),g=P==null?void 0:P.closeOthers,p=Ce()!==null;u.exports.useEffect(()=>{if(!p)return r({type:3,buttonId:x}),()=>{r({type:3,buttonId:null})}},[p,x,r]);let[B]=u.exports.useState(()=>Symbol()),d=A(s,o,p?null:n=>{if(n)l.buttons.current.push(B);else{let t=l.buttons.current.indexOf(B);t!==-1&&l.buttons.current.splice(t,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),n&&r({type:2,button:n})}),c=A(s,o),b=z(s),E=S(n=>{var t,a,h;if(p){if(l.popoverState===1)return;switch(n.key){case L.Space:case L.Enter:n.preventDefault(),(a=(t=n.target).click)==null||a.call(t),r({type:1}),(h=l.button)==null||h.focus();break}}else switch(n.key){case L.Space:case L.Enter:n.preventDefault(),n.stopPropagation(),l.popoverState===1&&(g==null||g(l.buttonId)),r({type:0});break;case L.Escape:if(l.popoverState!==0)return g==null?void 0:g(l.buttonId);if(!s.current||b!=null&&b.activeElement&&!s.current.contains(b.activeElement))return;n.preventDefault(),n.stopPropagation(),r({type:1});break}}),F=S(n=>{p||n.key===L.Space&&n.preventDefault()}),C=S(n=>{var t,a;ae(n.currentTarget)||e.disabled||(p?(r({type:1}),(t=l.button)==null||t.focus()):(n.preventDefault(),n.stopPropagation(),l.popoverState===1&&(g==null||g(l.buttonId)),r({type:0}),(a=l.button)==null||a.focus()))}),k=S(n=>{n.preventDefault(),n.stopPropagation()}),O=l.popoverState===0,H=u.exports.useMemo(()=>({open:O}),[O]),i=Ee(e,s),I=p?{ref:c,type:i,onKeyDown:E,onClick:C}:{ref:d,id:l.buttonId,type:i,"aria-expanded":e.disabled?void 0:l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:E,onKeyUp:F,onClick:C,onMouseDown:k},m=se(),T=S(()=>{let n=l.panel;if(!n)return;function t(){G(m.current,{[D.Forwards]:()=>N(n,R.First),[D.Backwards]:()=>N(n,R.Last)})===Y.Error&&N(ee().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),G(m.current,{[D.Forwards]:R.Next,[D.Backwards]:R.Previous}),{relativeTo:l.button})}t()});return w.createElement(w.Fragment,null,U({ourProps:I,theirProps:y,slot:H,defaultTag:Oe,name:"Popover.Button"}),O&&!p&&f&&w.createElement(Z,{id:$,features:_.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T}))}let Me="div",Re=q.RenderStrategy|q.Static;function De(e,o){let v=j(),{id:x=`headlessui-popover-overlay-${v}`,...y}=e,[{popoverState:l},r]=J("Popover.Overlay"),f=A(o),s=ue(),$=(()=>s!==null?(s&K.Open)===K.Open:l===0)(),P=S(p=>{if(ae(p.currentTarget))return p.preventDefault();r({type:1})}),g=u.exports.useMemo(()=>({open:l===0}),[l]);return U({ourProps:{ref:f,id:x,"aria-hidden":!0,onClick:P},theirProps:y,slot:g,defaultTag:Me,features:Re,visible:$,name:"Popover.Overlay"})}let Le="div",Ne=q.RenderStrategy|q.Static;function Ge(e,o){let v=j(),{id:x=`headlessui-popover-panel-${v}`,focus:y=!1,...l}=e,[r,f]=J("Popover.Panel"),{close:s,isPortalled:$}=ne("Popover.Panel"),P=`headlessui-focus-sentinel-before-${j()}`,g=`headlessui-focus-sentinel-after-${j()}`,p=u.exports.useRef(null),B=A(p,o,i=>{f({type:4,panel:i})}),d=z(p);be(()=>(f({type:5,panelId:x}),()=>{f({type:5,panelId:null})}),[x,f]);let c=ue(),b=(()=>c!==null?(c&K.Open)===K.Open:r.popoverState===0)(),E=S(i=>{var I;switch(i.key){case L.Escape:if(r.popoverState!==0||!p.current||d!=null&&d.activeElement&&!p.current.contains(d.activeElement))return;i.preventDefault(),i.stopPropagation(),f({type:1}),(I=r.button)==null||I.focus();break}});u.exports.useEffect(()=>{var i;e.static||r.popoverState===1&&((i=e.unmount)==null||i)&&f({type:4,panel:null})},[r.popoverState,e.unmount,e.static,f]),u.exports.useEffect(()=>{if(!y||r.popoverState!==0||!p.current)return;let i=d==null?void 0:d.activeElement;p.current.contains(i)||N(p.current,R.First)},[y,p,r.popoverState]);let F=u.exports.useMemo(()=>({open:r.popoverState===0,close:s}),[r,s]),C={ref:B,id:x,onKeyDown:E,onBlur:y&&r.popoverState===0?i=>{var I,m,T,n,t;let a=i.relatedTarget;a&&p.current&&((I=p.current)!=null&&I.contains(a)||(f({type:1}),((T=(m=r.beforePanelSentinel.current)==null?void 0:m.contains)!=null&&T.call(m,a)||(t=(n=r.afterPanelSentinel.current)==null?void 0:n.contains)!=null&&t.call(n,a))&&a.focus({preventScroll:!0})))}:void 0,tabIndex:-1},k=se(),O=S(()=>{let i=p.current;if(!i)return;function I(){G(k.current,{[D.Forwards]:()=>{var m;N(i,R.First)===Y.Error&&((m=r.afterPanelSentinel.current)==null||m.focus())},[D.Backwards]:()=>{var m;(m=r.button)==null||m.focus({preventScroll:!0})}})}I()}),H=S(()=>{let i=p.current;if(!i)return;function I(){G(k.current,{[D.Forwards]:()=>{var m;if(!r.button)return;let T=ee(),n=T.indexOf(r.button),t=T.slice(0,n+1),a=[...T.slice(n+1),...t];for(let h of a.slice())if(h.dataset.headlessuiFocusGuard==="true"||(m=r.panel)!=null&&m.contains(h)){let M=a.indexOf(h);M!==-1&&a.splice(M,1)}N(a,R.First,{sorted:!1})},[D.Backwards]:()=>{var m;N(i,R.Previous)===Y.Error&&((m=r.button)==null||m.focus())}})}I()});return w.createElement(Q.Provider,{value:x},b&&$&&w.createElement(Z,{id:P,ref:r.beforePanelSentinel,features:_.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),U({ourProps:C,theirProps:l,slot:F,defaultTag:Le,features:Ne,visible:b,name:"Popover.Panel"}),b&&$&&w.createElement(Z,{id:g,ref:r.afterPanelSentinel,features:_.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:H}))}let je="div";function Ae(e,o){let v=u.exports.useRef(null),x=A(v,o),[y,l]=u.exports.useState([]),r=S(d=>{l(c=>{let b=c.indexOf(d);if(b!==-1){let E=c.slice();return E.splice(b,1),E}return c})}),f=S(d=>(l(c=>[...c,d]),()=>r(d))),s=S(()=>{var d;let c=ge(v);if(!c)return!1;let b=c.activeElement;return(d=v.current)!=null&&d.contains(b)?!0:y.some(E=>{var F,C;return((F=c.getElementById(E.buttonId.current))==null?void 0:F.contains(b))||((C=c.getElementById(E.panelId.current))==null?void 0:C.contains(b))})}),$=S(d=>{for(let c of y)c.buttonId.current!==d&&c.close()}),P=u.exports.useMemo(()=>({registerPopover:f,unregisterPopover:r,isFocusWithinPopoverGroup:s,closeOthers:$}),[f,r,s,$]),g=u.exports.useMemo(()=>({}),[]),p=e,B={ref:x};return w.createElement(oe.Provider,{value:P},U({ourProps:B,theirProps:p,slot:g,defaultTag:je,name:"Popover.Group"}))}let Ke=W(ke),He=W(Be),We=W(De),Ue=W(Ge),Ve=W(Ae),ze=Object.assign(Ke,{Button:He,Overlay:We,Panel:Ue,Group:Ve});export{ze as L,_e as N};
