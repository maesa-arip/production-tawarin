import{u as ie,r as l,b as oe,i as ce,a as s,F as M,j as e}from"./app.90a4baee.js";import{I as w}from"./InfoModal.1bf33e83.js";import{T as de}from"./ThirdButton.a6ad2d90.js";import{T as c}from"./ThirdButtonNoLink.2f4de769.js";import"./TextAreaInput.60f23fdd.js";import"./ExclamationIcon.9f64f7c8.js";import"./transition.d1c8405f.js";import"./dialog.e88d872c.js";import"./use-event-listener.f2faf2b5.js";import"./description.c42cd50b.js";function Ie({setIsOpenDialog:me,model:d,resultteam:j}){var S;const{auth:z,flash_simple:R}=ie().props,[he,T]=l.exports.useState({}),n=d.model;console.log(n.reservationCompany.pernyataan);const{data:B,setData:k,get:ue,post:O,processing:N,reset:ge,errors:pe}=oe({}),[P,h]=l.exports.useState(!1),[u,g]=l.exports.useState(!1),[A,p]=l.exports.useState(!1),[$,U]=l.exports.useState(""),[fe,F]=l.exports.useState(""),[y,W]=l.exports.useState([]),[o,E]=l.exports.useState(1),[C,J]=l.exports.useState(0),[f,K]=l.exports.useState(0),Z=t=>{T(t),F(t.id),U("Jadwal Reservasi Anda Pada : "+n.date+" Untuk Layanan "+n.reservationCounter.name+" Jam "+d.timeRange.timeRange+" Dengan Pekerja "+t.name),k({reservation_team_id:t.id,user_id:z.user.id,date:n.date,time:d.timeRange.timeRange}),h(!0)},V=t=>{g(!0),x(t,o),K(t.teamdetail[0].user_id)};l.exports.useEffect(()=>{u&&x(f,o)},[f,u,o]);const x=(t,a)=>{ce.get(route("reservationrating.employeerating",f),{params:{page:a}}).then(r=>{W(r.data.data),J(r.data.last_page)}).catch(r=>{console.error(r)})},Y=()=>{g(!1)},_=t=>{E(t),x(j,t)},G=()=>{O(route("reservationCounters.storecustomer"),{onSuccess:()=>{R.type_simple==="error_saldo_kurang"&&(H(),D())}})},D=()=>{h(!1)},H=()=>{p(!0)},Q=()=>{p(!1)};l.exports.useState(5);const L=t=>{if(typeof t!="string")return null;const a=t.split("/");if(a.length!==3)return null;const r=a[2],i=a[1],m=a[0];return`${r}-${i.padStart(2,"0")}-${m.padStart(2,"0")}`},b=(t,a)=>{const r=L(t),i=L(a);return r===i},X=(t,a)=>n.offDay.some(i=>i.user_id===t&&b(i.date,a)),q=(t,a)=>X(t,a),ee=(t,a)=>{const[r,i]=t.split(" - ").map(v=>new Date(`2000-01-01T${v}`)),[m,le]=a.split(" - ").map(v=>new Date(`2000-01-01T${v}`));return r<le&&i>m},te=(t,a)=>n.workBreak.some(i=>i.user_id===t&&ee(i.start+" - "+i.end,a)),ae=(t,a)=>te(t,a);n.offDay.some(t=>b(t.date,n.date)),n.offDay.some(t=>b(t.user_id,n.user_id));const se=t=>{k({...B,[t.target.id]:t.target.value})},[I,re]=l.exports.useState(!1),ne=t=>{re(t.target.checked)};return s(M,{children:[s(w,{isOpenInfoDialog:u,setIsOpenInfoDialog:g,size:"2xl",closeButton:"false",title:"Review",children:[y.length>0?e("div",{children:y.map((t,a)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col my-4 bg-white border rounded-lg",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:s("div",{className:"grid w-full grid-cols-12 gap-2",children:[e("div",{className:"col-span-12 mx-2",children:e("p",{className:"flex items-start text-left",children:t.comments})}),s("div",{className:"col-span-9 mx-2",children:[e("div",{className:"flex items-start cursor-pointer",children:[1,2,3,4,5].map(r=>e("div",{className:"w-5 h-5 relative",children:r<=t.star_rating?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}):r-.95<t.star_rating?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"})})},r))}),s("span",{className:"flex items-start text-xs font-medium text-left text-slate-400",children:[t.star_rating?Math.round(t.star_rating*100)/100:0," ","out of 5 stars",e("br",{})]})]})]})})})},a))}):e("p",{children:"No reviews available."}),s("div",{className:"flex items-center mt-10 pagination gap-x-1",children:[s("button",{children:["Page ",o," of ",C]}),e("button",{className:"flex items-center justify-center w-12 bg-white border rounded-lg h-9",onClick:()=>_(o-1),disabled:o===1,children:"<<"}),e("button",{className:"flex items-center justify-center w-12 bg-white border rounded-lg h-9",onClick:()=>_(o+1),disabled:o===C,children:">>"})]}),e(c,{className:"mx-2 mt-2",color:"gray",onClick:Y,children:"Close"})]}),s(w,{isOpenInfoDialog:P,setIsOpenInfoDialog:h,size:"2xl",closeButton:"false",title:"Sudah Yakin dengan Pilihan Anda ?",children:[e("div",{className:"p-4 mt-8 mb-4 border rounded-lg",children:s("blockquote",{className:"relative",children:[e("svg",{className:"absolute text-gray-100 -top-6 -start-8 size-16 dark:text-neutral-700",width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e("path",{d:"M7.39762 10.3C7.39762 11.0733 7.14888 11.7 6.6514 12.18C6.15392 12.6333 5.52552 12.86 4.76621 12.86C3.84979 12.86 3.09047 12.5533 2.48825 11.94C1.91222 11.3266 1.62421 10.4467 1.62421 9.29999C1.62421 8.07332 1.96459 6.87332 2.64535 5.69999C3.35231 4.49999 4.33418 3.55332 5.59098 2.85999L6.4943 4.25999C5.81354 4.73999 5.26369 5.27332 4.84476 5.85999C4.45201 6.44666 4.19017 7.12666 4.05926 7.89999C4.29491 7.79332 4.56983 7.73999 4.88403 7.73999C5.61716 7.73999 6.21938 7.97999 6.69067 8.45999C7.16197 8.93999 7.39762 9.55333 7.39762 10.3ZM14.6242 10.3C14.6242 11.0733 14.3755 11.7 13.878 12.18C13.3805 12.6333 12.7521 12.86 11.9928 12.86C11.0764 12.86 10.3171 12.5533 9.71484 11.94C9.13881 11.3266 8.85079 10.4467 8.85079 9.29999C8.85079 8.07332 9.19117 6.87332 9.87194 5.69999C10.5789 4.49999 11.5608 3.55332 12.8176 2.85999L13.7209 4.25999C13.0401 4.73999 12.4903 5.27332 12.0713 5.85999C11.6786 6.44666 11.4168 7.12666 11.2858 7.89999C11.5215 7.79332 11.7964 7.73999 12.1106 7.73999C12.8437 7.73999 13.446 7.97999 13.9173 8.45999C14.3886 8.93999 14.6242 9.55333 14.6242 10.3Z",fill:"currentColor"})}),e("div",{className:"relative z-10",children:e("p",{className:"text-justify text-gray-800 sm:text-xl dark:text-white",children:e("em",{children:n.reservationCompany.pernyataan?n.reservationCompany.pernyataan:e(M,{children:"Dengan klik Simpan, saya menyatakan setuju dengan kebijakan yang berlaku dan mengonfirmasi bahwa tidak ada barang berharga atau barang pribadi yang tertinggal di dalam kendaraan. Segala risiko yang timbul akibat kelalaian pengecekan menjadi tanggung jawab saya sepenuhnya."})})})})]})}),s("div",{className:"relative inline-block",children:[e("input",{type:"checkbox",id:"hs-large-switch-soft-with-icons",className:"peer relative shrink-0 w-[4.25rem] h-9 p-px bg-red-200 border border-red-300 text-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:ring-red-600 focus:checked:ring-blue-600 disabled:opacity-50 disabled:pointer-events-none checked:bg-none checked:text-blue-100 checked:border-blue-200 focus:checked:border-blue-200 dark:bg-neutral-800 dark:border-neutral-700 dark:checked:bg-blue-800/30 dark:checked:border-blue-800 dark:focus:ring-offset-gray-600 before:inline-block before:w-8 before:h-8 before:bg-white checked:before:bg-blue-600 before:translate-x-0 checked:before:translate-x-full before:rounded-full before:transform before:ring-0 before:transition before:ease-in-out before:duration-200 dark:before:bg-neutral-400 dark:checked:before:bg-blue-500",checked:I,onChange:ne}),e("label",{htmlFor:"hs-large-switch-soft-with-icons",className:"sr-only",children:"Checked"}),e("span",{className:"peer-checked:text-blue-600 text-gray-500  size-8 absolute top-1.5 start-1.5 flex justify-center items-center pointer-events-none transition-colors ease-in-out duration-200 dark:text-neutral-500",children:s("svg",{className:"shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{d:"M18 6 6 18"}),e("path",{d:"m6 6 12 12"})]})}),e("span",{className:"peer-checked:text-white size-8 absolute top-1.5 end-1.5 flex justify-center items-center pointer-events-none transition-colors ease-in-out duration-200 dark:text-neutral-500",children:e("svg",{className:"shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:e("polyline",{points:"20 6 9 17 4 12"})})})]}),e("label",{for:"hs-basic-with-description-checked",class:"text-lh font-semibold text-gray-900 ms-3 dark:text-neutral-400",children:"Setuju"}),(S=n.question)==null?void 0:S.map((t,a)=>s("div",{className:"py-3",children:[e("label",{htmlFor:t.id,className:"block text-sm font-medium text-left text-gray-700",children:t.question}),e("div",{className:"mt-1",children:e("textarea",{id:t.id,name:t.id,rows:3,onChange:se,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"",required:"true",defaultValue:""},t.id)}),s("p",{className:"mt-2 text-sm text-left text-gray-500",children:["Masukan Keterangan ",t.question," ."]})]},t.id)),e("div",{className:"p-4 mt-8 mb-4 border rounded-lg",children:e("p",{className:"mb-2 text-lg font-medium text-justify",children:$})}),I===!0?e(c,{processing:N,onClick:G,children:"Simpan"}):e(c,{color:"gray",className:"pointer-events-none",children:"Klik Setuju Dahulu"}),e(c,{className:"mx-2 mt-2",color:"gray",onClick:D,children:"Close"})]}),s(w,{isOpenInfoDialog:A,setIsOpenInfoDialog:p,size:"2xl",closeButton:"false",title:"Saldo Tidak Mencukupi, Silakan Lakukan Top Up Saldo",children:[" ",e("div",{className:"p-4 mb-4 text-left border rounded-lg",children:e("p",{className:"mb-2 text-lg font-medium text-left"})}),e(de,{processing:N,href:"/deposits/create",children:"Top Up"}),e(c,{className:"mx-2 mt-2",color:"gray",onClick:Q,children:"Close"})]}),s("div",{className:"p-4 mb-4 text-left border rounded-lg",children:[s("h2",{children:["Team: ",n.reservationCounter.name]}),s("p",{children:["Tanggal: ",n.date]}),s("p",{children:["Waktu: ",d.timeRange.timeRange]}),s("p",{children:["Service duration:"," ",n.reservationCounter.service_duration," minutes"]})]}),e("p",{children:"Team Tersedia:"}),n.team.map((t,a)=>e("div",{className:"relative w-full mx-auto",children:e("div",{className:"flex flex-col my-4 bg-white border rounded-lg",children:e("div",{className:"flex flex-col items-center justify-center flex-auto p-2",children:s("div",{className:"grid w-full grid-cols-12 gap-2",children:[e("div",{className:"col-span-12 mx-2",children:e("p",{className:"flex items-start",children:t.name})}),s("div",{className:"col-span-9 mx-2",children:[e("div",{className:"flex items-start cursor-pointer",onClick:()=>V(t),children:[1,2,3,4,5].map(r=>e("div",{className:"w-5 h-5 relative",children:r<=t.ratings_avg_star_rating?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})}):r-.95<t.ratings_avg_star_rating?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-auto text-yellow-500 fill-current",viewBox:"0 0 16 16",children:e("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"})})},r))}),s("span",{className:"flex items-start text-xs font-medium text-left text-slate-400",children:[t.ratings_avg_star_rating?Math.round(t.ratings_avg_star_rating*100)/100:0," ","out of 5 stars",e("br",{}),"(",t.ratings_count?t.ratings_count:0," ","Reviews dari"," ",t.customers_count?t.customers_count:0," ","Customer)"]})]}),e("div",{className:"col-span-3",children:e("img",{className:"flex-shrink-0 inline-block rounded-full",src:t.media_id?`/storage/${t.media_id}/${t.file_name}`:"/storage/files/default/NoImage.svg",alt:"Image Description"})}),e("div",{className:"col-span-12",children:q(t.user_id,n.date)?e("div",{className:"col-span-12",children:e(c,{color:"secondary",children:"Libur"})}):ae(t.user_id,d.timeRange.timeRange)?e("div",{className:"col-span-12",children:e(c,{color:"secondary",children:"Istirahat"})}):e("div",{className:"col-span-12",children:e(c,{onClick:()=>Z(t),children:"Pilih"})})})]})})})},a)),e("hr",{})]})}export{Ie as default};
