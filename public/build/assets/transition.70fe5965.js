import{r as i,R as v}from"./app.84f7128d.js";import{t as _,u as m,s as w,o as S,x as de,H as j,y as Z,R as b,I as ce,a as z,_ as J}from"./render.bbd1ef9d.js";function A(){let e=[],t=[],r={enqueue(n){t.push(n)},addEventListener(n,o,d,u){return n.addEventListener(o,d,u),r.add(()=>n.removeEventListener(o,d,u))},requestAnimationFrame(...n){let o=requestAnimationFrame(...n);return r.add(()=>cancelAnimationFrame(o))},nextFrame(...n){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...n))},setTimeout(...n){let o=setTimeout(...n);return r.add(()=>clearTimeout(o))},add(n){return e.push(n),()=>{let o=e.indexOf(n);if(o>=0){let[d]=e.splice(o,1);d()}}},dispose(){for(let n of e.splice(0))n()},async workQueue(){for(let n of t.splice(0))await n()}};return r}function fe(){let[e]=i.exports.useState(A);return i.exports.useEffect(()=>()=>e.dispose(),[e]),e}let G=i.exports.createContext(null);G.displayName="OpenClosedContext";var L=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(L||{});function K(){return i.exports.useContext(G)}function pe({value:e,children:t}){return v.createElement(G.Provider,{value:e},t)}function X(){let e=i.exports.useRef(!1);return _(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ve(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function me(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function B(e,...t){e&&t.length>0&&e.classList.add(...t)}function U(e,...t){e&&t.length>0&&e.classList.remove(...t)}var I=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(I||{});function he(e,t){let r=A();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(e),[d,u]=[n,o].map(l=>{let[a=0]=l.split(",").filter(Boolean).map(s=>s.includes("ms")?parseFloat(s):parseFloat(s)*1e3).sort((s,c)=>c-s);return a});if(d+u!==0){let l=[];l.push(r.addEventListener(e,"transitionrun",a=>{a.target===a.currentTarget&&(l.splice(0).forEach(s=>s()),l.push(r.addEventListener(e,"transitionend",s=>{s.target===s.currentTarget&&(t("ended"),l.splice(0).forEach(c=>c()))}),r.addEventListener(e,"transitioncancel",s=>{s.target===s.currentTarget&&(t("cancelled"),l.splice(0).forEach(c=>c()))})))}))}else t("ended");return r.add(()=>t("cancelled")),r.dispose}function xe(e,t,r,n){let o=r?"enter":"leave",d=A(),u=n!==void 0?me(n):()=>{},l=m(o,{enter:()=>t.enter,leave:()=>t.leave}),a=m(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),s=m(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return U(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),B(e,...l,...s),d.nextFrame(()=>{U(e,...s),B(e,...a),he(e,c=>(c==="ended"&&(U(e,...l),B(e,...t.entered)),u(c)))}),d.dispose}function Ee({container:e,direction:t,classes:r,events:n,onStart:o,onStop:d}){let u=X(),l=fe(),a=w(t),s=S(()=>m(a.current,{enter:()=>n.current.beforeEnter(),leave:()=>n.current.beforeLeave(),idle:()=>{}})),c=S(()=>m(a.current,{enter:()=>n.current.afterEnter(),leave:()=>n.current.afterLeave(),idle:()=>{}}));_(()=>{let f=A();l.add(f.dispose);let E=e.current;if(!!E&&a.current!=="idle"&&!!u.current)return f.dispose(),s(),o.current(a.current),f.add(xe(E,r.current,a.current==="enter",T=>{f.dispose(),m(T,{[I.Ended](){c(),d.current(a.current)},[I.Cancelled]:()=>{}})})),f.dispose},[t])}function C(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let H=i.exports.createContext(null);H.displayName="TransitionContext";var ge=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ge||{});function be(){let e=i.exports.useContext(H);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ce(){let e=i.exports.useContext(P);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let P=i.exports.createContext(null);P.displayName="NestingContext";function O(e){return"children"in e?O(e.children):e.current.filter(({state:t})=>t==="visible").length>0}function Y(e){let t=w(e),r=i.exports.useRef([]),n=X(),o=S((u,l=b.Hidden)=>{let a=r.current.findIndex(({id:s})=>s===u);a!==-1&&(m(l,{[b.Unmount](){r.current.splice(a,1)},[b.Hidden](){r.current[a].state="hidden"}}),ve(()=>{var s;!O(r)&&n.current&&((s=t.current)==null||s.call(t))}))}),d=S(u=>{let l=r.current.find(({id:a})=>a===u);return l?l.state!=="visible"&&(l.state="visible"):r.current.push({id:u,state:"visible"}),()=>o(u,b.Unmount)});return i.exports.useMemo(()=>({children:r,register:d,unregister:o}),[d,o,r])}function Te(){}let $e=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function V(e){var t;let r={};for(let n of $e)r[n]=(t=e[n])!=null?t:Te;return r}function Fe(e){let t=i.exports.useRef(V(e));return i.exports.useEffect(()=>{t.current=V(e)},[e]),t}let we="div",ee=de.RenderStrategy,te=j(function(e,t){let{beforeEnter:r,afterEnter:n,beforeLeave:o,afterLeave:d,enter:u,enterFrom:l,enterTo:a,entered:s,leave:c,leaveFrom:f,leaveTo:E,...T}=e,h=i.exports.useRef(null),q=Z(h,t),[p,$]=i.exports.useState("visible"),g=T.unmount?b.Unmount:b.Hidden,{show:F,appear:re,initial:ne}=be(),{register:R,unregister:y}=Ce(),D=i.exports.useRef(null),x=ce();i.exports.useEffect(()=>{if(x)return R(x)},[R,x]),i.exports.useEffect(()=>{if(g===b.Hidden&&!!x){if(F&&p!=="visible"){$("visible");return}m(p,{hidden:()=>y(x),visible:()=>R(x)})}},[p,x,R,y,F,g]);let ie=w({enter:C(u),enterFrom:C(l),enterTo:C(a),entered:C(s),leave:C(c),leaveFrom:C(f),leaveTo:C(E)}),se=Fe({beforeEnter:r,afterEnter:n,beforeLeave:o,afterLeave:d}),M=z();i.exports.useEffect(()=>{if(M&&p==="visible"&&h.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[h,p,M]);let N=ne&&!re,oe=(()=>!M||N||D.current===F?"idle":F?"enter":"leave")(),k=i.exports.useRef(!1),Q=Y(()=>{k.current||($("hidden"),y(x))});Ee({container:h,classes:ie,events:se,direction:oe,onStart:w(()=>{k.current=!0}),onStop:w(ue=>{k.current=!1,ue==="leave"&&!O(Q)&&($("hidden"),y(x))})}),i.exports.useEffect(()=>{!N||(g===b.Hidden?D.current=null:D.current=F)},[F,N,p]);let ae=T,le={ref:q};return v.createElement(P.Provider,{value:Q},v.createElement(pe,{value:m(p,{visible:L.Open,hidden:L.Closed})},J({ourProps:le,theirProps:ae,defaultTag:we,features:ee,visible:p==="visible",name:"Transition.Child"})))}),W=j(function(e,t){let{show:r,appear:n=!1,unmount:o,...d}=e,u=i.exports.useRef(null),l=Z(u,t);z();let a=K();if(r===void 0&&a!==null&&(r=m(a,{[L.Open]:!0,[L.Closed]:!1})),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[s,c]=i.exports.useState(r?"visible":"hidden"),f=Y(()=>{c("hidden")}),[E,T]=i.exports.useState(!0),h=i.exports.useRef([r]);_(()=>{E!==!1&&h.current[h.current.length-1]!==r&&(h.current.push(r),T(!1))},[h,r]);let q=i.exports.useMemo(()=>({show:r,appear:n,initial:E}),[r,n,E]);i.exports.useEffect(()=>{if(r)c("visible");else if(!O(f))c("hidden");else{let $=u.current;if(!$)return;let g=$.getBoundingClientRect();g.x===0&&g.y===0&&g.width===0&&g.height===0&&c("hidden")}},[r,f]);let p={unmount:o};return v.createElement(P.Provider,{value:f},v.createElement(H.Provider,{value:q},J({ourProps:{...p,as:i.exports.Fragment,children:v.createElement(te,{ref:l,...p,...d})},theirProps:{},defaultTag:i.exports.Fragment,features:ee,visible:s==="visible",name:"Transition"})))}),Le=j(function(e,t){let r=i.exports.useContext(H)!==null,n=K()!==null;return v.createElement(v.Fragment,null,!r&&n?v.createElement(W,{ref:t,...e}):v.createElement(te,{ref:t,...e}))}),Se=Object.assign(W,{Child:Le,Root:W});export{pe as C,Se as W,fe as a,X as f,A as o,L as p,K as s,ve as t};
