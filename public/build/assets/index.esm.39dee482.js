import{r as N,j as Se}from"./app.06568ab6.js";var o=function(){return o=Object.assign||function(r){for(var a,t=1,u=arguments.length;t<u;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])}return r},o.apply(this,arguments)};function Ie(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(e);u<t.length;u++)r.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(a[t[u]]=e[t[u]]);return a}function V(e,r,a){if(a||arguments.length===2)for(var t=0,u=r.length,n;t<u;t++)(n||!(t in r))&&(n||(n=Array.prototype.slice.call(r,0,t)),n[t]=r[t]);return e.concat(n||r)}var D=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Le={k:1e3,m:1e6,b:1e9},Ue=function(e,r){r===void 0&&(r=".");var a=new RegExp("(\\d+("+D(r)+"\\d*)?)([kmb])$","i"),t=e.match(a);if(t){var u=t[1],n=t[3],i=Le[n.toLowerCase()];return Number(u.replace(r,"."))*i}},Be=function(e,r){r===void 0&&(r=",");var a=new RegExp(D(r),"g");return e.replace(a,"")},Ge=function(e,r){var a=D(r.join("")),t=new RegExp("[^\\d"+a+"]","gi");return e.replace(t,"")},oe=function(e){var r=e.value,a=e.groupSeparator,t=a===void 0?",":a,u=e.decimalSeparator,n=u===void 0?".":u,i=e.allowDecimals,f=i===void 0?!0:i,l=e.decimalsLimit,C=l===void 0?2:l,O=e.allowNegativeValue,p=O===void 0?!0:O,v=e.disableAbbreviations,A=v===void 0?!1:v,d=e.prefix,c=d===void 0?"":d,m=e.transformRawValue,K=m===void 0?function($){return $}:m,w=K(r);if(w==="-")return w;var E=A?[]:["k","m","b"],P=new RegExp("((^|\\D)-\\d)|(-"+D(c)+")"),ae=P.test(w),I=RegExp("(\\d+)-?"+D(c)).exec(r)||[],F=I[0],q=I[1],z=c?F?w.replace(F,"").concat(q):w.replace(c,""):w,J=Be(z,t),j=Ge(J,V([t,n],E)),L=j;if(!A){if(E.some(function($){return $===j.toLowerCase()}))return"";var Q=Ue(j,n);Q&&(L=String(Q))}var U=ae&&p?"-":"";if(n&&L.includes(n)){var B=j.split(n),X=B[0],G=B[1],M=C&&G?G.slice(0,C):G,Y=f?""+n+M:"";return""+U+X+Y}return""+U+L},Me=function(e,r,a){if(a&&e.length>1){if(e.includes(r)){var t=e.split(r),u=t[0],n=t[1];if(n.length>a)return""+u+r+n.slice(0,a)}var i=e.length>a?new RegExp("(\\d+)(\\d{"+a+"})"):new RegExp("(\\d)(\\d+)"),f=e.match(i);if(f){var u=f[1],n=f[2];return""+u+r+n}}return e},ye=function(e,r){var a=r.groupSeparator,t=a===void 0?",":a,u=r.decimalSeparator,n=u===void 0?".":u,i=new RegExp("\\d([^"+D(t)+D(n)+"0-9]+)"),f=e.match(i);return f?f[1]:void 0},H=function(e){var r=e.value,a=e.decimalSeparator,t=e.intlConfig,u=e.decimalScale,n=e.prefix,i=n===void 0?"":n,f=e.suffix,l=f===void 0?"":f;if(r===""||r===void 0)return"";if(r==="-")return"-";var C=new RegExp("^\\d?-"+(i?D(i)+"?":"")+"\\d").test(r),O=a!=="."?$e(r,a,C):r,p={minimumFractionDigits:u||0,maximumFractionDigits:20},v=t?new Intl.NumberFormat(t.locale,t.currency?o(o({},p),{style:"currency",currency:t.currency}):p):new Intl.NumberFormat(void 0,p),A=v.formatToParts(Number(O)),d=Te(A,e),c=ye(d,o({},e)),m=r.slice(-1)===a?a:"",K=O.match(RegExp("\\d+\\.(\\d+)"))||[],w=K[1];return u===void 0&&w&&a&&(d.includes(a)?d=d.replace(RegExp("(\\d+)("+D(a)+")(\\d+)","g"),"$1$2"+w):c&&!l?d=d.replace(c,""+a+w+c):d=""+d+a+w),l&&m?""+d+m+l:c&&m?d.replace(c,""+m+c):c&&l?d.replace(c,""+m+l):[d,m,l].join("")},$e=function(e,r,a){var t=e;return r&&r!=="."&&(t=t.replace(RegExp(D(r),"g"),"."),a&&r==="-"&&(t="-"+t.slice(1))),t},Te=function(e,r){var a=r.prefix,t=r.groupSeparator,u=r.decimalSeparator,n=r.decimalScale,i=r.disableGroupSeparators,f=i===void 0?!1:i;return e.reduce(function(l,C,O){var p=C.type,v=C.value;return O===0&&a?p==="minusSign"?[v,a]:p==="currency"?V(V([],l),[a]):[a,v]:p==="currency"?a?l:V(V([],l),[v]):p==="group"?f?l:V(V([],l),[t!==void 0?t:v]):p==="decimal"?n!==void 0&&n===0?l:V(V([],l),[u!==void 0?u:v]):p==="fraction"?V(V([],l),[n!==void 0?v.slice(0,n):v]):V(V([],l),[v])},[""]).join("")},We={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},He=function(e){var r=e||{},a=r.locale,t=r.currency,u=a?new Intl.NumberFormat(a,t?{currency:t,style:"currency"}:void 0):new Intl.NumberFormat;return u.formatToParts(1000.1).reduce(function(n,i,f){return i.type==="currency"?f===0?o(o({},n),{currencySymbol:i.value,prefix:i.value}):o(o({},n),{currencySymbol:i.value,suffix:i.value}):i.type==="group"?o(o({},n),{groupSeparator:i.value}):i.type==="decimal"?o(o({},n),{decimalSeparator:i.value}):n},We)},be=function(e){return RegExp(/\d/,"gi").test(e)},qe=function(e,r,a){if(r===void 0&&(r="."),a===void 0||e===""||e===void 0)return e;if(!e.match(/\d/g))return"";var t=e.split(r),u=t[0],n=t[1];if(a===0)return u;var i=n||"";if(i.length<a)for(;i.length<a;)i+="0";else i=i.slice(0,a);return""+u+r+i},ze=function(e){var r=e.selectionStart,a=e.value,t=e.lastKeyStroke,u=e.stateValue,n=e.groupSeparator,i=r,f=a;if(u&&i){var l=a.split("");return t==="Backspace"&&u[i]===n&&(l.splice(i-1,1),i-=1),t==="Delete"&&u[i]===n&&(l.splice(i,1),i+=1),f=l.join(""),{modifiedValue:f,cursorPosition:i}}return{modifiedValue:f,cursorPosition:r}},Je=N.exports.forwardRef(function(e,r){var a=e.allowDecimals,t=a===void 0?!0:a,u=e.allowNegativeValue,n=u===void 0?!0:u,i=e.id,f=e.name,l=e.className,C=e.customInput,O=e.decimalsLimit,p=e.defaultValue,v=e.disabled,A=v===void 0?!1:v,d=e.maxLength,c=e.value,m=e.onValueChange,K=e.fixedDecimalLength,w=e.placeholder,E=e.decimalScale,P=e.prefix,ae=e.suffix,I=e.intlConfig,F=e.step,q=e.min,z=e.max,J=e.disableGroupSeparators,j=J===void 0?!1:J,L=e.disableAbbreviations,Q=L===void 0?!1:L,U=e.decimalSeparator,B=e.groupSeparator,X=e.onChange,G=e.onFocus,M=e.onBlur,Y=e.onKeyDown,$=e.onKeyUp,he=e.transformRawValue,xe=Ie(e,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue"]);if(U&&be(U))throw new Error("decimalSeparator cannot be a number");if(B&&be(B))throw new Error("groupSeparator cannot be a number");var Z=N.exports.useMemo(function(){return He(I)},[I]),g=U||Z.decimalSeparator||"",T=B||Z.groupSeparator||"";if(g&&T&&g===T&&j===!1)throw new Error("decimalSeparator cannot be the same as groupSeparator");var W={decimalSeparator:g,groupSeparator:T,disableGroupSeparators:j,intlConfig:I,prefix:P||Z.prefix,suffix:ae},te={decimalSeparator:g,groupSeparator:T,allowDecimals:t,decimalsLimit:O||K||2,allowNegativeValue:n,disableAbbreviations:Q,prefix:P||Z.prefix,transformRawValue:he},we=p!=null?H(o(o({},W),{decimalScale:E,value:String(p)})):c!=null?H(o(o({},W),{decimalScale:E,value:String(c)})):"",le=N.exports.useState(we),S=le[0],_=le[1],fe=N.exports.useState(!1),ne=fe[0],Ve=fe[1],ce=N.exports.useState(0),ie=ce[0],se=ce[1],de=N.exports.useState(0),pe=de[0],Re=de[1],ve=N.exports.useState(null),Ce=ve[0],Ne=ve[1],k=N.exports.useRef(null);N.exports.useImperativeHandle(r,function(){return k.current});var me=function(s,b){Ve(!0);var y=ze({selectionStart:b,value:s,lastKeyStroke:Ce,stateValue:S,groupSeparator:T}),h=y.modifiedValue,x=y.cursorPosition,R=oe(o({value:h},te));if(!(d&&R.replace(/-/g,"").length>d)){if(R===""||R==="-"||R===g){m&&m(void 0,f,{float:null,formatted:"",value:""}),_(R);return}var ee=g?R.replace(g,"."):R,Ae=parseFloat(ee),ue=H(o({value:R},W));if(x!=null){var re=x+(ue.length-s.length);re=re<=0?P?P.length:0:re,se(re),Re(pe+1)}if(_(ue),m){var Pe={float:Ae,formatted:ue,value:R};m(R,f,Pe)}}},De=function(s){var b=s.target,y=b.value,h=b.selectionStart;me(y,h),X&&X(s)},Oe=function(s){return G&&G(s),S?S.length:0},Ee=function(s){var b=s.target.value,y=oe(o({value:b},te));if(y==="-"||!y){_(""),M&&M(s);return}var h=Me(y,g,K),x=qe(h,g,E!==void 0?E:K),R=parseFloat(x.replace(g,".")),ee=H(o(o({},W),{value:x}));m&&m(x,f,{float:R,formatted:ee,value:x}),_(ee),M&&M(s)},Fe=function(s){var b=s.key;if(Ne(b),F&&(b==="ArrowUp"||b==="ArrowDown")){s.preventDefault(),se(S.length);var y=parseFloat(c!=null?String(c).replace(g,"."):oe(o({value:S},te)))||0,h=b==="ArrowUp"?y+F:y-F;if(q!==void 0&&h<q||z!==void 0&&h>z)return;var x=String(F).includes(".")?Number(String(F).split(".")[1].length):void 0;me(String(x?h.toFixed(x):h).replace(".",g))}Y&&Y(s)},ke=function(s){var b=s.key,y=s.currentTarget.selectionStart;if(b!=="ArrowUp"&&b!=="ArrowDown"&&S!=="-"){var h=ye(S,{groupSeparator:T,decimalSeparator:g});if(h&&y&&y>S.length-h.length&&k.current){var x=S.length-h.length;k.current.setSelectionRange(x,x)}}$&&$(s)};N.exports.useEffect(function(){ne&&S!=="-"&&k.current&&document.activeElement===k.current&&k.current.setSelectionRange(ie,ie)},[S,ie,k,ne,pe]);var Ke=function(){return c!=null&&S!=="-"&&(!g||S!==g)?H(o(o({},W),{decimalScale:ne?void 0:E,value:String(c)})):S},ge=o({type:"text",inputMode:"decimal",id:i,name:f,className:l,onChange:De,onBlur:Ee,onFocus:Oe,onKeyDown:Fe,onKeyUp:ke,placeholder:w,disabled:A,value:Ke(),ref:k},xe);if(C){var je=C;return Se(je,{...o({},ge)})}return Se("input",{...o({},ge)})});Je.displayName="CurrencyInput";
