import{r as a}from"./app.49f1716d.js";import{h as p,T as v}from"./keyboard.a57c8c57.js";import{c as E}from"./use-flags.25bab9e9.js";function d(c,m,r){let l=E(m);a.exports.useEffect(()=>{function i(o){l.current(o)}return document.addEventListener(c,i,r),()=>document.removeEventListener(c,i,r)},[c,r])}function h(c,m,r=!0){let l=a.exports.useRef(!1);a.exports.useEffect(()=>{requestAnimationFrame(()=>{l.current=r})},[r]);function i(e,f){if(!l.current||e.defaultPrevented)return;let s=function u(t){return typeof t=="function"?u(t()):Array.isArray(t)||t instanceof Set?t:[t]}(c),n=f(e);if(n!==null&&n.getRootNode().contains(n)){for(let u of s){if(u===null)continue;let t=u instanceof HTMLElement?u:u.current;if(t!=null&&t.contains(n)||e.composed&&e.composedPath().includes(t))return}return!p(n,v.Loose)&&n.tabIndex!==-1&&e.preventDefault(),m(e,n)}}let o=a.exports.useRef(null);d("mousedown",e=>{var f,s;l.current&&(o.current=((s=(f=e.composedPath)==null?void 0:f.call(e))==null?void 0:s[0])||e.target)},!0),d("click",e=>{o.current&&(i(e,()=>o.current),o.current=null)},!0),d("blur",e=>i(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{h as L};
