import{I as F}from"./InputError.a1ea6d29.js";import{I as i}from"./InputLabel.4883620c.js";import{P as j}from"./PrimaryButton.7a07f002.js";import{S as T}from"./SecondaryButton.3099d0b8.js";import{T as E}from"./TextInput.8f82884a.js";import{T as o}from"./TextInputCheckbox.5763f465.js";import{T as L}from"./TextInputRadio.320c6da1.js";import{r as c,a as l,F as P,j as s}from"./app.b05f437b.js";function H({errors:h,employees:x,counters:N,submit:y,data:t,setData:d,model:m,closeButton:v}){const g=x;let b=m?m.details.map(e=>e.user_id):[];const[n,p]=c.exports.useState([]);c.exports.useState([]),c.exports.useEffect(()=>{const e=b,r=g.map(a=>e.includes(a.user.id)?{...a,isSelected:!0}:a);p(r)},[]);const S=e=>{p(r=>r.map(a=>a.user.id===e?{...a,isSelected:!a.isSelected}:a))},k=n.filter(e=>e.isSelected).map(e=>e.user.id);c.exports.useEffect(()=>{d({...t,employees:k})},[n]);const C=e=>{d({...t,leader:e})},w=N;let I=m?m.counters.map(e=>e.id):[];const[u,f]=c.exports.useState([]);c.exports.useEffect(()=>{const e=I,r=w.map(a=>e.includes(a.id)?{...a,isSelected:!0}:a);f(r)},[]);const O=e=>{f(r=>r.map(a=>a.id===e?{...a,isSelected:!a.isSelected}:a))},B=u.filter(e=>e.isSelected).map(e=>e.id);return c.exports.useEffect(()=>{d({...t,counters:B})},[u]),l(P,{children:[s("div",{className:"px-2 py-2 bg-white sm:p-0",children:l("div",{className:"grid grid-cols-12 gap-1",children:[l("div",{className:"col-span-12",children:[s(i,{for:"name",value:"Nama"}),s(E,{id:"name",value:t.name,handleChange:e=>d("name",e.target.value),type:"text",className:"block w-full mt-1"}),s(F,{message:h.name,className:"mt-2"})]}),l("div",{className:"col-span-10 mt-2",children:[s("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Karyawan"}),n.map(e=>l("div",{className:"flex justify-between col-span-12 px-3 py-4 my-4 border rounded-md",children:[s(i,{for:e.user.name,value:e.user.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(o,{id:e.user.name,value:e.user.id,name:e.user.name,checked:e.user.isSelected,onChange:r=>{S(e.user.id)},className:"block w-full"},e.user.id)})]},e.user.id))]}),l("div",{className:"col-span-2 mt-2",children:[s("p",{className:"text-lg font-semibold text-gray-700",children:"Leader"}),n.map(e=>l("div",{className:"flex justify-between col-span-12 px-3 py-4 my-4 border rounded-md",children:[s(i,{for:e.user.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(L,{id:"pilih",value:e.user.id,name:"pilih",checked:e.user.isSelected,onChange:r=>{C(e.user.id)},className:"block w-full"},e.user.id)})]},e.user.id))]}),s("div",{className:"col-span-12 mt-2",children:s("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Layanan"})}),u.map(e=>l("div",{className:"flex justify-between col-span-12 px-3 py-4 border rounded-md",children:[s(i,{for:e.name,value:e.category.name+" - "+e.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(o,{id:e.name,value:e.id,name:e.name,checked:e.isSelected,onChange:r=>{O(e.id)},className:"block w-full"},e.id)})]},e.id))]})}),l("div",{className:"px-2 py-2 sm:px-2 sm:flex sm:flex-row-reverse",children:[s(j,{children:y}),s(T,{className:"mx-2",onClick:v,children:"Batal"})]})]})}export{H as default};
