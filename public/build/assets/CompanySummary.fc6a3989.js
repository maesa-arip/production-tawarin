import{r as l,l as f,d as _,a,F as k,j as e,H as C}from"./app.5aafc160.js";import{A as j}from"./AppReservasi.56a913a6.js";import{C as R}from"./Container.1f50b33e.js";import{n as g}from"./helper.e37a4314.js";import"./DatePicker.6b013815.js";import{H as S}from"./Header.64072f42.js";import"./DropdownMenu.365762cc.js";import"./clsx.m.256e9345.js";import"./transition.0463cda8.js";import"./use-event-listener.a450342c.js";import"./index_responsive.600f6b3f.js";import"./Tawarin.08057ae7.js";import"./AsideReservasi.ba876d08.js";const d=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),o=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function D(n){const{data:h,meta:x,filtered:b,attributes:c}=n.transactions;n.employees;const[P,y]=l.exports.useState([]),[r,m]=l.exports.useState(b),[w,N]=l.exports.useState(!0),v=l.exports.useCallback(f.exports.debounce(t=>{_.Inertia.get(route(route().current()),{...f.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);l.exports.useEffect(()=>{w?N(!1):v(r)},[r]),l.exports.useEffect(()=>{let t=[];for(let s=c.per_page;s<c.total/c.per_page;s=s+c.per_page)t.push(s);y(t)},[]);const p=t=>m({...r,[t.target.name]:t.target.value}),i=t=>{m({...r,field:t,direction:r.direction=="asc"?"desc":"asc"})},u=new Date().toLocaleDateString("en-CA");return l.exports.useState(u[0]),a(k,{children:[e(C,{title:"History"}),e(S,{title:"Rekapan",description:"Rekapan Perusahaan."}),e(R,{children:a("div",{className:"py-4",children:[a("select",{name:"q",id:"q",onChange:p,value:r.q,className:"mb-2 transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:[e("option",{selected:!0,children:"Semua Karyawan"}),e("option",{children:"Putu sumiyasa"}),e("option",{children:"Steven"}),e("option",{children:"Semmy"})]}),a("div",{className:"mx-auto",children:[e("div",{className:"flex items-center justify-end ",children:e("div",{className:"w-full overflow-x-scroll",children:a("div",{className:"flex items-center justify-end mb-6 overflow-hidden gap-x-1",children:[e("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:e("input",{type:"date",name:"startDate",id:"startDate",defaultValue:u,onChange:p,value:r.startDate,className:"w-full border-0 focus:ring-0 form-text"})}),e("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:e("input",{type:"date",name:"endDate",id:"endDate",defaultValue:u,onChange:p,value:r.endDate,className:"w-full border-0 focus:ring-0 form-text"})})]})})}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:e("div",{className:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg",children:a("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:a("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:e("div",{className:"flex items-center cursor-pointer gap-x-2",children:"#"})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:a("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("employee_name"),children:["Nama Pekerja",r.field=="employee_name"&&r.direction=="asc"&&e(d,{}),r.field=="employee_name"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:a("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("counter_name"),children:["Nama Layanan",r.field=="counter_name"&&r.direction=="asc"&&e(d,{}),r.field=="counter_name"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:a("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("total_customers"),children:["Total Customer",r.field=="total_customers"&&r.direction=="asc"&&e(d,{}),r.field=="total_customers"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:a("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("total_price_user"),children:["Total Harga",r.field=="total_price_user"&&r.direction=="asc"&&e(d,{}),r.field=="total_price_user"&&r.direction=="desc"&&e(o,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:a("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>i("total_jasa"),children:["Total Jasa",r.field=="total_jasa"&&r.direction=="asc"&&e(d,{}),r.field=="total_jasa"&&r.direction=="desc"&&e(o,{})]})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((t,s)=>a("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:x.from+s}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t.employee_name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:t.counter_name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("div",{className:"flex-1 block w-full px-4 py-1 text-base border border-r-0 border-gray-300 rounded-none rounded-l-md focus:border-indigo-500 focus:ring-indigo-500",children:t.total_customers}),e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-l-0 border-gray-300 rounded-r-md bg-gray-50",children:"Pelanggan"})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-r-0 border-gray-300 rounded-l-md bg-gray-50",children:"Rp"}),e("div",{className:"flex-1 block w-full px-2 py-1 text-base border border-l-0 border-gray-300 rounded-none rounded-r-md focus:border-indigo-500 focus:ring-indigo-500",children:g(t.total_price_user)})]})}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a("div",{className:"flex mt-1 rounded-md shadow-sm",children:[e("span",{className:"inline-flex items-center px-3 text-base text-gray-500 border border-r-0 border-gray-300 rounded-l-md bg-gray-50",children:"Rp"}),e("div",{className:"flex-1 block w-full px-2 py-1 text-base border border-l-0 border-gray-300 rounded-none rounded-r-md focus:border-indigo-500 focus:ring-indigo-500",children:g(t.total_jasa)})]})})]},t.id))})]})})})})}),e("ul",{className:"flex items-center mt-10 gap-x-1",children:x.links.map((t,s)=>e("button",{disabled:t.url==null,className:`${t.url==null?"text-gray-500":"text-gray-800"} w-12 h-9 rounded-lg flex items-center justify-center border bg-white`,onClick:()=>m({...r,page:new URL(t.url).searchParams.get("page")}),children:t.label},s))})]})]})})]})}D.layout=n=>e(j,{children:n});export{D as default};
