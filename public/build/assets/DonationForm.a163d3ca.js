import{r as i,b as N,j as e,a,i as w}from"./app.86d03a16.js";import{A as v}from"./App.330abb68.js";import{C as k}from"./Container.b1690e11.js";import{T as l}from"./helper.e37a4314.js";import{T as D}from"./ThirdButtonNoLink.34542674.js";import"./DropdownMenu.f9498cdf.js";import"./clsx.m.256e9345.js";import"./transition.13111e26.js";import"./use-event-listener.a23b7448.js";import"./AsideReservasi.40409187.js";import"./Tawarin.08057ae7.js";const I=({midtransClientKey:m})=>{const[r,c]=i.exports.useState({price:""});i.exports.useState(0);const[o,p]=i.exports.useState(0),[s,u]=i.exports.useState(0),h=t=>{c({...r,[t.target.name]:t.target.value}),u(Math.ceil(t.target.value*1/100)),p(Math.ceil(t.target.value*(100+1)/100))};i.exports.useEffect(()=>{const t=document.createElement("script");return t.src="https://app.sandbox.midtrans.com/snap/snap.js",t.setAttribute("data-client-key",{}.VITE_MIDTRANS_CLIENT_KEY),t.async=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]);const y=async t=>{t.preventDefault();try{const n=await w.post("/deposit/store_auto",r);n.data.status==="error"?alert(n.data.message):window.snap.pay(n.data.snap_token,{onSuccess:async d=>{alert("pembayaran sukses, silakan cek saldo")},onPending:d=>{console.log("Pending payment",d)},onError:()=>{window.location.reload()}})}catch(n){console.error("Error Top Up:",n)}},x=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(r.price),g=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s),b=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(o),{data:A,setData:C,post:T,processing:f,reset:R,errors:S}=N({});return e(k,{children:a("section",{className:"make_donation section_gap",children:[a("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:e("div",{className:"px-4 sm:px-0",children:e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Data Top Up"})})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:a("form",{onSubmit:y,children:[a("div",{className:"col-span-12 px-3 py-4 m-4 text-sm text-gray-500 rounded shadow md:col-span-8",children:[a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Setiap transaksi top-up akan dikenakan biaya administrasi sebesar 1% dari jumlah top-up."]}),e("div",{className:"px-4 py-5 bg-white sm:p-6",children:e("div",{className:"grid grid-cols-6 gap-6",children:a("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Jumlah Top Up"}),e("input",{type:"number",name:"price",id:"price",min:"10000",max:"999999999",value:r.price,onChange:h,required:!0,onWheel:t=>t.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[r.price&&x," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:r.price&&"("+l(r.price)+" Rupiah)"})]}),a("div",{className:"p-2 mt-4 border rounded",children:[e("label",{htmlFor:"amount",className:"block mt-2 text-sm font-medium text-gray-700",children:"Biaya Admin"}),e("input",{type:"number",name:"biaya_admin",id:"biaya_admin",min:"10000",max:"999999999",value:s,readOnly:!0,autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[s&&g," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:s&&"("+l(s)+" Rupiah)"})]}),e("label",{htmlFor:"amount",className:"block mt-2 text-sm font-medium text-gray-700",children:"Total Bayar"}),e("input",{type:"number",name:"amount",id:"amount",min:"10000",max:"999999999",value:o,readOnly:!0,autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"}),a("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[o&&b," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:o&&"("+l(o)+" Rupiah)"})]})]})]})})}),e(D,{type:"submit",className:"m-4 mt-4",disabled:f,children:"Simpan"})]})})})]}),e("script",{src:"https://app.sandbox.midtrans.com/snap/snap.js","data-client-key":m})]})})};I.layout=m=>e(v,{children:m});export{I as default};
