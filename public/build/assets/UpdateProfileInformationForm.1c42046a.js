import{r as d,f as h,a as r,j as e}from"./app.76a15e02.js";import{I}from"./InputError.8a7f7786.js";import{I as g}from"./InputLabel.7c9c3826.js";import{P as M}from"./PrimaryButton.d11f5d77.js";import{T as F}from"./TextInput.b80a941f.js";import"./TextAreaInput.31b69c88.js";import{M as P}from"./Map.bb074a4b.js";import{L as j}from"./ListBoxPage.72cd5096.js";import{t as B}from"./transition.9902a12b.js";import"./esm.a212b4b8.js";import"./listbox.1272df74.js";import"./use-flags.58fcbaaf.js";import"./keyboard.db737433.js";import"./use-computed.f9cba285.js";import"./use-tracked-pointer.f9f012aa.js";import"./hidden.7844a231.js";import"./use-controllable.ca5b38c4.js";import"./SelectorIcon.3400014f.js";function re({mustVerifyEmail:D,status:T,company:a,reservation_categories:p,className:f}){const[z,v]=d.exports.useState(null),[m,u]=d.exports.useState({formattedAddress:"",street:"",village:"",subdistrict:"",district:"",regency:"",country:""}),x=a&&parseFloat(a.lat)||-8.670458,N=a&&parseFloat(a.lng)||115.212629,y=({location:t,updatedLocationDetails:o,formattedAddress:l})=>{v(t),u(c=>({...c,...o,formattedAddress:l})),n(c=>({...c,...o,formattedAddress:l,lat:t.lat,lng:t.lng}))},b=t=>{const{name:o,value:l}=t.target;u({...m,[o]:l}),n({...i,[o]:l})},[w,k]=d.exports.useState(()=>a?p.find(t=>t.id===a.reservation_category_id):""),S=[{name:"Pilih"}];d.exports.useState(S[0]);const _=t=>{n({...i,reservation_category_id:t.id})},{data:i,setData:n,patch:C,errors:s,processing:L,recentlySuccessful:A}=a?h({name:a.name,lat:a.lat,lng:a.lng,reservation_category_id:a.reservation_category_id,formattedAddress:a.formattedAddress}):h({name:"",lat:"",lng:"",reservation_category_id:"",formattedAddress:""});return r("section",{className:f,children:[r("header",{className:"p-4 mt-4 border rounded-lg",children:[e("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Company Information"}),e("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Update your account's company information."})]}),r("form",{onSubmit:t=>{t.preventDefault(),C(route("reservationprofile.update"))},className:"mt-6 space-y-6",children:[r("div",{className:"grid grid-cols-12 gap-6",children:[e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"shadow sm:rounded-md",children:r("div",{className:"p-4 mt-6 space-y-6 bg-white md:px-6",children:[r("div",{children:[e(g,{for:"name",value:"Nama"}),e(F,{id:"name",type:"text",className:"block w-full mt-1",value:i.name,handleChange:t=>n("name",t.target.value),required:!0,autofocus:!0,autocomplete:"name"}),e(I,{className:"mt-2",message:s.name})]}),r("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"reservation_category_id",className:"block text-sm font-medium text-gray-700",children:"Pilih Kategori"}),e(j,{ShouldMap:p,selected:w,onChange:t=>{_(t),k(t)}}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.reservation_category_id})]})]})})}),e("div",{className:"col-span-12 mt-5 md:col-span-12 md:mt-0",children:e("div",{className:"overflow-hidden shadow sm:rounded-md",children:e("div",{className:"p-4 bg-white md:px-6",children:r("div",{className:"w-full",children:[e(g,{for:"alamat",value:"Alamat"}),r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 mx-auto text-gray-400 icon icon-tabler icon-tabler-map-2",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M12 18.5l-3 -1.5l-6 3v-13l6 -3l6 3l6 -3v7.5"}),e("path",{d:"M9 4v13"}),e("path",{d:"M15 7v5.5"}),e("path",{d:"M21.121 20.121a3 3 0 1 0 -4.242 0c.418 .419 1.125 1.045 2.121 1.879c1.051 -.89 1.759 -1.516 2.121 -1.879z"}),e("path",{d:"M19 18v.01"})]}),e(P,{onLocationSelect:y,lat:x,lng:N}),e("div",{className:"grid grid-cols-12 gap-x-6",children:r("div",{className:"col-span-12",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Lokasi Otomatis"}),e("div",{className:"flex rounded-md",children:e("textarea",{type:"text",name:"formattedAddress",value:m.formattedAddress?m.formattedAddress:i.formattedAddress,onChange:b,readOnly:!0,className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-gray-500 focus:border-gray-500 sm:text-sm"})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.formattedAddress})]})})]})})})})]}),r("div",{className:"flex items-center gap-4",children:[e(M,{processing:L,children:"Save"}),e(B,{show:A,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved."})})]})]})]})}export{re as default};
