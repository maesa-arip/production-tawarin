import{I as F}from"./InputError.3a54799b.js";import{I as i}from"./InputLabel.973a5ddd.js";import{P as j}from"./PrimaryButton.72a3ad3f.js";import{S as T}from"./SecondaryButton.cae4657c.js";import{T as E}from"./TextInput.0219e41e.js";import{T as f}from"./TextInputCheckbox.eaf8b823.js";import{T as P}from"./TextInputRadio.37292503.js";import{r as c,a as l,F as L,j as s}from"./app.b397b200.js";function J({errors:h,employees:x,counters:N,submit:y,data:t,setData:d,model:m,closeButton:g}){const v=x;let b=m?m.employees.map(e=>e.id):[];const[n,p]=c.exports.useState([]);c.exports.useState([]),c.exports.useEffect(()=>{const e=b,r=v.map(a=>e.includes(a.user.id)?{...a,isSelected:!0}:a);p(r)},[]);const S=e=>{p(r=>r.map(a=>a.user.id===e?{...a,isSelected:!a.isSelected}:a))},C=n.filter(e=>e.isSelected).map(e=>e.user.id);c.exports.useEffect(()=>{d({...t,employees:C})},[n]);const k=e=>{d({...t,leader:e})},w=N;let I=m?m.counters.map(e=>e.id):[];const[u,o]=c.exports.useState([]);c.exports.useEffect(()=>{const e=I,r=w.map(a=>e.includes(a.id)?{...a,isSelected:!0}:a);o(r)},[]);const O=e=>{o(r=>r.map(a=>a.id===e?{...a,isSelected:!a.isSelected}:a))},B=u.filter(e=>e.isSelected).map(e=>e.id);return c.exports.useEffect(()=>{d({...t,counters:B})},[u]),console.log(t),l(L,{children:[s("div",{className:"px-4 py-5 bg-white sm:p-6",children:l("div",{className:"grid grid-cols-12 gap-6",children:[l("div",{className:"col-span-12",children:[s(i,{for:"name",value:"Nama"}),s(E,{id:"name",value:t.name,handleChange:e=>d("name",e.target.value),type:"text",className:"block w-full mt-1"}),s(F,{message:h.name,className:"mt-2"})]}),l("div",{className:"col-span-10 mt-2",children:[s("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Karyawan"}),n.map(e=>l("div",{className:"flex justify-between col-span-12 px-3 py-4 my-4 border rounded-md",children:[s(i,{for:e.user.name,value:e.user.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(f,{id:e.user.name,value:e.user.id,name:e.user.name,checked:e.user.isSelected,onChange:r=>{S(e.user.id)},className:"block w-full"},e.user.id)})]},e.user.id))]}),l("div",{className:"col-span-2 mt-2",children:[s("p",{className:"text-lg font-semibold text-gray-700",children:"Leader"}),n.map(e=>l("div",{className:"flex justify-between col-span-12 px-3 py-4 my-4 border rounded-md",children:[s(i,{for:e.user.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(P,{id:"pilih",value:e.user.id,name:"pilih",checked:e.user.isSelected,onChange:r=>{k(e.user.id)},className:"block w-full"},e.user.id)})]},e.user.id))]}),s("div",{className:"col-span-12 mt-2",children:s("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Counter"})}),u.map(e=>l("div",{className:"flex justify-between col-span-12 px-3 py-4 border rounded-md",children:[s(i,{for:e.name,value:e.category.name+" - "+e.name,className:"uppercase"}),s("div",{className:"flex flex-col items-start",children:s(f,{id:e.name,value:e.id,name:e.name,checked:e.isSelected,onChange:r=>{O(e.id)},className:"block w-full"},e.id)})]},e.id))]})}),l("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s(j,{children:y}),s(T,{className:"mx-2",onClick:g,children:"Batal"})]})]})}export{J as default};
