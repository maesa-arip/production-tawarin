import{r as n,b as ie,a as t,j as e,H as ae,F as m,d as ne}from"./app.227d3c89.js";import{A as se}from"./AppReservasi.82a1d1ac.js";import{C as le}from"./Container.528e0a75.js";import"./DatePicker.d6d359d9.js";import{T as oe}from"./helper.e37a4314.js";import{B as re}from"./Button.7c95403e.js";import ce from"./Filepond.33caa56c.js";import"./index.esm.50279c30.js";import{b as de}from"./index.esm.09eb07da.js";import"./Map.c6aaadc5.js";import{T as me}from"./Tooltip.e3d242b7.js";import{B as I}from"./BaseModal.b6a534fa.js";import{T as p}from"./ThirdButtonNoLink.80a8074b.js";import{D as pe}from"./DestroyModal.924ecb6c.js";import"./DropdownMenu.6b43abe4.js";import"./clsx.m.256e9345.js";import"./transition.478fc4ac.js";import"./use-event-listener.3d1471e6.js";import"./index_responsive.b5af8064.js";import"./Tawarin.08057ae7.js";import"./AsideReservasi.c6f969ff.js";import"./App.4e9f519b.js";import"./Aside.1a7c0675.js";import"./filepond-plugin-image-preview.esm.9bbd382c.js";import"./filepond-plugin-file-validate-type.esm.9bfb0074.js";import"./esm.81a00d6a.js";import"./dialog.300c7e2c.js";import"./description.e75525bb.js";import"./ExclamationIcon.9e12d647.js";function ue({reservationCounter:l,media:o}){var y,v,N,k,_,D,j,C,S;const[x,w]=n.exports.useState(0),[P,he]=n.exports.useState(0),[M,ge]=n.exports.useState(0),[B,b]=n.exports.useState(0),[H,O]=n.exports.useState(!1),[fe,T]=n.exports.useState(!1),g=i=>{w(i.target.value),b(Math.ceil(i.target.value*(100+5)/100)),c({...a,[i.target.id]:i.target.value})},{data:a,setData:c,patch:L,processing:z,reset:W,errors:s}=ie({name:l.name,price_user:l.price_user,percent_owner:l.percent_owner,percent_employe:l.percent_employe,service_duration:l.service_duration,period:l.period,deposit:l.deposit,bhp:l.bhp,jasa:l.jasa}),d=i=>{c({...a,[i.target.name]:i.target.type==="checkbox"||i.target.type==="radio"?i.target.checked:i.target.value})};n.exports.useState(),n.exports.useState(),n.exports.useState(),n.exports.useState(),console.log(l.slug);const $=i=>{i.preventDefault(),L(route("reservationCounters.update",l.slug),{onSuccess:()=>{W()}})},[E,u]=n.exports.useState(!1),[K,h]=n.exports.useState(!1),[U,A]=n.exports.useState([]),G=()=>{u(!0)},R=()=>{u(!1),O(!0),c({...a,percent_owner:100,percent_employe:0})},J=()=>{u(!1)};n.exports.useEffect(()=>{G()},[]);const q=()=>{h(!0)},Q=()=>{h(!1),T(!0),c({...a,jumlahlayanandiskon:0})},V=()=>{h(!1)};n.exports.useEffect(()=>{q()},[]);const[X,xe]=n.exports.useState(0);n.exports.useEffect(()=>{c({...a,percent_employe:100-parseInt(a.percent_owner)})},[X,a.percent_owner]),n.exports.useState(0),n.exports.useEffect(()=>{c({...a,price_user:parseInt(a.bhp)+parseInt(a.jasa)}),w(a.price_user),b(Math.ceil(a.price_user*(100+5)/100))},[P,a.bhp,M,a.jasa]);const Y=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Math.ceil(a.price_user*(100+5)/100)),[r,we]=n.exports.useState(null),Z=i=>{A(i),f(!0)},ee=()=>{ne.Inertia.delete(route("media.destroy",U.id),{onSuccess:()=>f(!1)})},[te,f]=n.exports.useState(!1);return t("div",{children:[e(ae,{title:"Plan Create"}),t(I,{isOpenInfoDialog:E,setIsOpenInfoDialog:u,size:"max-w-2xl",title:"Pilih",closeButton:"false",children:[e("p",{children:"Apakah anda akan memberikan komisi kepada pegawai untuk layanan ini ?"}),e(p,{type:"button",color:"secondary",onClick:R,children:"Tidak"}),e(p,{className:"mx-2 mt-2",type:"button",onClick:J,children:"Iya"})]}),t(I,{isOpenInfoDialog:K,setIsOpenInfoDialog:h,size:"max-w-2xl",title:"Pilih",closeButton:"false",children:[e("p",{children:"Apakah anda akan memberikan diskon kepada pelanggan untuk layanan ini ?"}),e(p,{type:"button",color:"secondary",onClick:Q,children:"Tidak"}),e(p,{className:"mx-2 mt-2",type:"button",onClick:V,children:"Iya"})]}),e(pe,{isOpenDestroyDialog:te,setIsOpenDestroyDialog:f,size:"2xl",title:"Hapus Media",children:e(re,{color:"pink",onClick:ee,children:"Hapus"})}),e(le,{children:e("form",{onSubmit:$,children:e("div",{className:"mt-10 sm:mt-0",children:t("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:[e("div",{className:"md:col-span-1",children:t("div",{className:"px-4 sm:px-0",children:[e("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Data Pelayanan"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Masukan data lengkap perencanaanmu disini."})]})}),e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:t("div",{className:"overflow-hidden shadow sm:rounded-md",children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:t("div",{className:"grid grid-cols-12 gap-6",children:[t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Layanan"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"text",name:"name",value:(y=a.name)!=null?y:"",onChange:d,id:"name",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.name})]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"bhp",className:"block text-sm font-medium text-gray-700",children:"Bahan Habis Pakai"}),e("input",{type:"number",name:"bhp",id:"bhp",value:(v=a.bhp)!=null?v:"",onChange:g,onWheel:i=>i.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),s.bhp&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.bhp})]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"jasa",className:"block text-sm font-medium text-gray-700",children:"Jasa"}),e("input",{type:"number",name:"jasa",id:"jasa",value:(N=a.jasa)!=null?N:"",onChange:g,onWheel:i=>i.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),s.jasa&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.jasa})]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"price_user",className:"block text-sm font-medium text-gray-700",children:"Harga"}),e("input",{type:"number",name:"price_user",id:"price_user",value:(k=a.price_user)!=null?k:"",onChange:g,onWheel:i=>i.target.blur(),autoComplete:"off",className:"block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),s.price_user&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.price_user}),t("div",{className:"inline mt-1 ml-1 text-xs font-semibold text-indigo-500",children:[x&&Y," ",e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-indigo-500",children:x&&"("+oe(B)+" Rupiah)"})]})]}),t("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Secara Otomatis Sistem akan up 5% dari Harga yang dimasukan, harga yang dilihat oleh Pelanggan adalah harga yang sudah di up 5%, nilai 5% tersebut akan menjadi fee untuk Tawarin."]}),H==!0?"":t(m,{children:[t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Persentase Owner"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"text",name:"percent_owner",value:(_=a.percent_owner)!=null?_:"",onChange:d,id:"percent_owner",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.percent_owner})]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Persentase Employe"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"text",name:"percent_employe",value:(D=a.percent_employe)!=null?D:"",readOnly:!0,onChange:d,id:"percent_employe",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.percent_employe})]}),t("div",{className:"col-span-12 px-3 py-4 mb-6 text-sm text-gray-500 rounded shadow md:col-span-8",children:[t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"justify-center inline w-6 h-6 mr-3 -mt-1 text-center text-white rounded-full bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-600 icon icon-tabler icon-tabler-info-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("circle",{cx:12,cy:12,r:9}),e("line",{x1:12,y1:8,x2:"12.01",y2:8}),e("polyline",{points:"11 12 12 12 12 16 13 16"})]}),"Deposit akan dipotong dari Persentase Untuk Pekerja"]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Persentase Untuk Deposit"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"text",name:"deposit",value:(j=a.deposit)!=null?j:"",onChange:d,id:"deposit",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.deposit})]})]}),t("div",{className:"col-span-12 md:col-span-6",children:[e("label",{htmlFor:"service_duration",className:"block text-sm font-medium text-gray-700",children:"Lama Pelayanan (Menit)"}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"service_duration",value:(C=a.service_duration)!=null?C:"",onChange:d,id:"service_duration",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.service_duration})]}),t("div",{className:"col-span-12 md:col-span-6",children:[t("label",{htmlFor:"period",className:"inline-flex text-sm font-medium text-gray-700 ",children:["Batas Waktu Reservasi (Hari)",e(me,{message:"Batas waktu reservasi adalah bla bla bla",children:e(m,{children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 icon icon-tabler icon-tabler-info-hexagon-filled",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M10.425 1.414a3.33 3.33 0 0 1 3.026 -.097l.19 .097l6.775 3.995l.096 .063l.092 .077l.107 .075a3.224 3.224 0 0 1 1.266 2.188l.018 .202l.005 .204v7.284c0 1.106 -.57 2.129 -1.454 2.693l-.17 .1l-6.803 4.302c-.918 .504 -2.019 .535 -3.004 .068l-.196 -.1l-6.695 -4.237a3.225 3.225 0 0 1 -1.671 -2.619l-.007 -.207v-7.285c0 -1.106 .57 -2.128 1.476 -2.705l6.95 -4.098zm1.575 9.586h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z",strokeWidth:0,fill:"currentColor"})]})})})]}),e("div",{className:"flex mt-1 rounded-md",children:e("div",{className:"flex items-center w-full px-2 bg-white border border-gray-300 rounded-md shadow-sm gap-x-0 sm:text-sm focus-within:border-indigo-500 focus-within:ring-indigo-500 focus-within:ring-1",children:e("input",{type:"number",name:"period",value:(S=a.period)!=null?S:"",onChange:d,id:"period",autoComplete:"off",className:"w-full border-0 focus:ring-0 form-text",placeholder:""})})}),s&&e("span",{className:"inline mt-1 ml-1 text-xs italic font-semibold text-pink-500",children:s.period})]}),e("div",{className:"col-span-12 sm:mt-0",children:e("div",{className:"",children:e("div",{className:"mt-5 md:mt-0 md:col-span-2",children:e("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:t("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Gambar Layanan"}),e("div",{className:"flex justify-center px-6 pt-5 pb-6 mt-1 border-2 border-gray-300 border-dashed rounded-md",children:t("div",{className:"w-full text-center",children:[o?e(m,{children:e("div",{className:"mx-2 mb-6 bg-white rounded-lg shadow md:mx-4 lg:mx-6",children:e("div",{className:"px-2 py-6 mx-3 mt-6 text-sm font-medium text-gray-400 mb-7",children:t("div",{className:"grid grid-cols-2 col-span-2 gap-2 md:grid-cols-6 ",children:[o==null?void 0:o.map((i,F)=>t("div",{className:"relative w-auto h-auto col-span-2 overflow-hidden shadow rounded-xl ",children:[i.mime_type=="video/mp4"?e(m,{}):e("img",{className:"object-cover w-full h-full ",src:`/storage/${i.id}/${i.file_name}`,alt:F}),e("button",{id:i.id,onClick:()=>Z(i),type:"button",className:"absolute top-0 right-0 flex items-center justify-between cursor-pointer group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-pink-300 rounded sm:w-10 sm:h-10 group-hover:bg-pink-400 ring-4 ring-white group-focus:outline-none ",children:e(de,{className:"w-3 h-3 text-white md:w-5 md:h-5 sm:w-6 sm:h-6 "})})})]},F)),open&&r&&e(Transition,{appear:!0,show:open,as:Fragment,children:t(Dialog,{as:"div",className:"relative z-10",open,onClose:()=>setOpen(!1),children:[e(Transition.Child,{as:Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex items-center justify-center min-h-full p-4 text-center",children:e(Transition.Child,{as:Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e(Dialog.Panel,{className:"relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 max-w-full",children:e("div",{className:"bg-white",children:e("div",{className:"sm:flex sm:items-start",children:t("div",{className:"text-center sm:mt-0 sm:text-left",children:[e(Dialog.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900"}),t("div",{className:"mx-2 my-2 md:mx-4 md:my-4",children:[e("p",{className:"text-sm text-gray-500"}),r.mime_type=="video/mp4"?e("div",{className:"w-auto h-auto col-span-2 overflow-hidden shadow rounded-xl",children:e("div",{className:"",children:e("video",{controls:!0,src:`/storage/${r.id}/${r.file_name}`})})}):e(m,{children:e("img",{className:"rounded-lg",src:`/storage/${r.id}/${r.file_name}`,alt:r.collection_name})}),e("button",{onClick:()=>setOpen(!1),type:"button",className:"absolute z-30 flex items-center justify-between cursor-pointer bottom-4 right-1/2 group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-pink-200 rounded-full sm:w-10 sm:h-10 group-hover:bg-pink-300 ring-4 ring-white group-focus:outline-none",children:t("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-white sm:w-6 sm:h-6 icon icon-tabler icon-tabler-x",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e("path",{d:"M18 6l-12 12"}),e("path",{d:"M6 6l12 12"})]})})}),e("button",{onClick:()=>handleClick(o[(o.indexOf(r)-1)%o.length]),type:"button",className:"absolute left-0 z-30 flex items-center justify-between px-4 cursor-pointer top-1/2 group focus:outline-none","data-carousel-prev":!0,children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-200 rounded-full sm:w-10 sm:h-10 group-hover:bg-blue-300 ring-4 ring-white group-focus:outline-none",children:e("svg",{className:"w-5 h-5 text-white sm:w-6 sm:h-6 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})})}),e("button",{onClick:()=>handleClick(o[(o.indexOf(r)+1)%o.length]),type:"button",className:"absolute right-0 z-30 flex items-center justify-center px-4 cursor-pointer top-1/2 group focus:outline-none",children:e("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-200 rounded-full sm:w-10 sm:h-10 group-hover:bg-blue-300 ring-4 ring-white group-focus:outline-none",children:e("svg",{className:"w-5 h-5 text-white sm:w-6 sm:h-6 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})})]})]})})})})})})})]})})]})})})}):e(m,{}),e(ce,{inputname:"reservationcounter",allowMultiple:!1,maxFiles:"5",required:!0}),t("div",{className:"flex justify-center text-sm text-gray-600",children:[e("label",{htmlFor:"file-upload",className:"relative font-medium text-indigo-600 bg-white rounded-md hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:e("span",{children:"Upload a file"})}),e("p",{className:"pl-1",children:"or drag and drop"})]}),e("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]})})})})})})]})}),e("div",{className:"px-4 py-3 text-right bg-gray-50 sm:px-6",children:e(p,{processing:z,children:"Simpan"})})]})})]})})})})]})}ue.layout=l=>e(se,{children:l});export{ue as default};
