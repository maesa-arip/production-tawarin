import{r as n,j as t,F as U,a as e,c as z,l as j,e as D,H as R}from"./app.b593357b.js";import{W as p,D as u,A as _}from"./App.afa2c59f.js";import{C as W}from"./Container.32b9312a.js";import{B as C}from"./Button.29cf9761.js";import{P as $}from"./Pagination.b940303b.js";import"./clsx.m.256e9345.js";function q(s,r){return n.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},s),n.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}const H=n.exports.forwardRef(q);var J=H;function A({errors:s,submit:r,data:l,setData:c,closeButton:o}){var f,a,m,g,v;const d=x=>c({...l,[x.target.id]:x.target.value});return t(U,{children:[e("div",{className:"px-4 py-5 bg-white sm:p-6",children:t("div",{className:"grid grid-cols-6 gap-6",children:[t("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),e("input",{type:"text",name:"name",value:(f=l.name)!=null?f:"",onChange:d,id:"name",autoComplete:"given-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),s&&e("div",{className:"text-pink-500 mt-1",children:s.name})]}),t("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),e("input",{type:"text",name:"username",value:(a=l.username)!=null?a:"",onChange:d,id:"username",autoComplete:"family-name",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),s&&e("div",{className:"text-pink-500 mt-1",children:s.username})]}),t("div",{className:"col-span-6 sm:col-span-4",children:[e("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e("input",{type:"text",name:"email",value:(m=l.email)!=null?m:"",onChange:d,id:"email",autoComplete:"email",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),s&&e("div",{className:"text-pink-500 mt-1",children:s.email})]}),t("div",{className:"col-span-6",children:[e("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e("div",{className:"mt-1",children:e("textarea",{id:"address",name:"address",value:(g=l.address)!=null?g:"",onChange:d,rows:3,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border border-gray-300 rounded-md",placeholder:"Address",defaultValue:""})}),s&&e("div",{className:"text-pink-500 mt-1",children:s.address})]}),t("div",{className:"col-span-6",children:[e("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e("input",{type:"password",name:"password",value:(v=l.password)!=null?v:"",onChange:d,id:"password",autoComplete:"password",className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"}),s&&e("div",{className:"text-pink-500 mt-1",children:s.password})]})]})}),t("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e(C,{children:r}),e(C,{color:"pink",type:"button",onClick:o,children:"Cancel"})]})]})}function O({setIsOpenAddDialog:s}){const{data:r,setData:l,post:c,reset:o,errors:d}=z({username:"",name:"",email:"",password:"",address:""});return e("form",{onSubmit:m=>{m.preventDefault(),c(route("users.store"),{data:r,onSuccess:()=>{o(),s(!1)}})},children:e(A,{errors:d,data:r,setData:l,submit:"Save",closeButton:m=>s(!1)})})}function V({setIsOpenEditDialog:s,model:r}){const{data:l,setData:c,put:o,reset:d,errors:f}=z({username:r.username,name:r.name,email:r.email,password:r.password,address:r.address}),a=g=>s(!1),m=g=>{g.preventDefault(),o(route("users.update",r.id),{data:l,onSuccess:()=>{d(),s(!1)}})};return n.exports.useEffect(()=>{c({...l,username:r.username,name:r.name,email:r.email,password:r.password,address:r.address})},[r]),e("form",{onSubmit:m,children:e(A,{errors:f,data:l,setData:c,submit:"Update",closeButton:a})})}function G({title:s,children:r,isOpenAddDialog:l,setIsOpenAddDialog:c,size:o="6xl"}){return e("div",{children:e(p,{appear:!0,show:l,as:n.exports.Fragment,children:t(u,{as:"div",className:"relative z-10",open:l,onClose:()=>c(!1),children:[e(p.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(p.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(u.Panel,{className:`w-full transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all max-w-${o}`,children:[e(u.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:s}),e("div",{className:"mt-2",children:r})]})})})})]})})})}function K({title:s,children:r,isOpenEditDialog:l,setIsOpenEditDialog:c,size:o="6xl"}){return e("div",{children:e(p,{appear:!0,show:l,as:n.exports.Fragment,children:t(u,{as:"div",className:"relative z-10",open:l,onClose:()=>c(!1),children:[e(p.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(p.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(u.Panel,{className:`w-full transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all max-w-${o}`,children:[e(u.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:s}),e("div",{className:"mt-2",children:r})]})})})})]})})})}function Q({title:s,children:r,isOpenDestroyDialog:l,setIsOpenDestroyDialog:c,size:o="6xl"}){return e("div",{children:e(p,{appear:!0,show:l,as:n.exports.Fragment,children:t(u,{as:"div",className:"relative z-10",open:l,onClose:()=>c(!1),children:[e(p.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e(p.Child,{as:n.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(u.Panel,{className:`relative bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full max-w-${o}`,children:[e("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:t("div",{className:"sm:flex sm:items-start",children:[e("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e(J,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),t("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e(u.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:s}),e("div",{className:"mt-2",children:e("p",{className:"text-sm text-gray-500",children:"Are you sure ?. This action cannot be undone."})})]})]})}),t("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[r,e("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>c(!1),children:"Cancel"})]})]})})})})]})})})}const w=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})}),y=()=>e("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})});function X(s){const{data:r,meta:l,filtered:c,attributes:o}=s.users,[d,f]=n.exports.useState([]),[a,m]=n.exports.useState(c),g=n.exports.useCallback(j.exports.debounce(i=>{D.Inertia.get(route("users.index"),{...j.exports.pickBy(i),page:i.page},{preserveState:!0,preserveScroll:!0})},150),[]);n.exports.useEffect(()=>g(a),[a]),n.exports.useEffect(()=>{let i=[];for(let h=o.per_page;h<o.total/o.per_page;h=h+o.per_page)i.push(h);f(i)},[]);const v=i=>m({...a,[i.target.name]:i.target.value}),x=i=>{m({...a,field:i,direction:a.direction=="asc"?"desc":"asc"})},B=()=>{N(!0)},L=i=>{E(i),b(!0)},P=i=>{E(i),k(!0)},I=()=>{D.Inertia.delete(route("users.destroy",T.id),{onSuccess:()=>k(!1)})},[F,N]=n.exports.useState(!1),[S,b]=n.exports.useState(!1),[M,k]=n.exports.useState(!1),[T,E]=n.exports.useState([]);return t(U,{children:[e(R,{title:"User"}),t(W,{children:["Users ",e("button",{type:"button",onClick:B,className:"px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",children:"Add User"})]}),e(G,{isOpenAddDialog:F,setIsOpenAddDialog:N,size:"2xl",title:"Add User",children:e(O,{isOpenAddDialog:F,setIsOpenAddDialog:N})}),e(K,{isOpenEditDialog:S,setIsOpenEditDialog:b,size:"2xl",title:"Edit User",children:e(V,{model:T,isOpenEditDialog:S,setIsOpenEditDialog:b})}),e(Q,{isOpenDestroyDialog:M,setIsOpenDestroyDialog:k,size:"2xl",title:"Delete User",children:e(C,{color:"pink",onClick:I,children:"Delete"})}),e("div",{className:"py-12",children:t("div",{className:"mx-auto max-w-8xl sm:px-6 lg:px-8",children:[e("div",{className:"flex items-center justify-end",children:e("div",{className:"w-1/2",children:t("div",{className:"flex items-center justify-end mb-6 gap-x-2",children:[e("select",{name:"load",id:"load",onChange:v,value:a.load,className:"transition duration-150 ease-in-out border-gray-300 rounded-lg focus:ring-blue-200 focus:ring form-select",children:d.map((i,h)=>e("option",{children:i},h))}),t("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:v,value:a.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})}),e("div",{className:"flex flex-col",children:e("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:e("div",{className:"overflow-hidden border-b border-gray-200 shadow sm:rounded-lg",children:t("table",{className:"min-w-full divide-y divide-gray-200",children:[e("thead",{className:"bg-gray-50",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:e("div",{className:"flex items-center cursor-pointer gap-x-2",children:"#"})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("username"),children:["Username",a.field=="username"&&a.direction=="asc"&&e(w,{}),a.field=="username"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("name"),children:["Name",a.field=="name"&&a.direction=="asc"&&e(w,{}),a.field=="name"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("address"),children:["Address",a.field=="address"&&a.direction=="asc"&&e(w,{}),a.field=="address"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("email"),children:["Email",a.field=="email"&&a.direction=="asc"&&e(w,{}),a.field=="email"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-800 uppercase",children:t("div",{className:"flex items-center cursor-pointer gap-x-2",onClick:()=>x("created_at"),children:["Joined",a.field=="created_at"&&a.direction=="asc"&&e(w,{}),a.field=="created_at"&&a.direction=="desc"&&e(y,{})]})}),e("th",{scope:"col",className:"relative px-6 py-3",children:e("span",{className:"sr-only",children:"Edit"})})]})}),e("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map((i,h)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:l.from+h}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:i.username}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:i.name}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:i.address}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:i.email}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:i.joined}),t("td",{children:[e("button",{className:"flex items-center gap-x-2",onClick:()=>L(i),children:"Edit"}),e("button",{className:"flex items-center gap-x-2",onClick:()=>P(i),children:"Delete"})]})]},i.email))})]})})})})}),e($,{meta:l})]})})]})}X.layout=s=>e(_,{children:s});export{X as default};
