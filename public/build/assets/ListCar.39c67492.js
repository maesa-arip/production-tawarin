import{r as a,u as _,l as c,d as k,a as r,j as e,H as I,L as C}from"./app.6b8a02e5.js";import{A as P}from"./AppReservasi.7132788b.js";import{C as S}from"./Container.dac4869e.js";import{H as L}from"./Header.3192d5a9.js";import{P as E}from"./Pagination.478cbbb6.js";import{n as H}from"./helper.e37a4314.js";import{E as R}from"./EmptyCard.475c3fe7.js";import{I as A}from"./InfoModal.29f3d658.js";import"./DropdownMenu.72009d09.js";import"./clsx.m.256e9345.js";import"./transition.57a3a1dd.js";import"./use-event-listener.667cfcec.js";import"./AsideReservasi.f31fe4a4.js";import"./Tawarin.08057ae7.js";import"./ExclamationIcon.b96a9782.js";import"./dialog.8c2b17ac.js";import"./description.b719f315.js";function M(l){const{data:n,meta:u,links:q,filtered:p,attributes:o}=l.reservations;l.reservation_categories;const f=l.reservationCompany;console.log(n);const[x,g]=a.exports.useState([]),[i,h]=a.exports.useState(p),[b,y]=a.exports.useState(!0),{permissions:d}=_().props;d&&d.map(t=>t.name);const w=a.exports.useCallback(c.exports.debounce(t=>{k.Inertia.get(route("reservations.show",n[0].company_slug),{...c.exports.pickBy(t),page:t.page},{preserveState:!0,preserveScroll:!0})},150),[]);a.exports.useEffect(()=>{b?y(!1):w(i)},[i]),a.exports.useEffect(()=>{let t=[];for(let s=o.per_page;s<o.total/o.per_page;s=s+o.per_page)t.push(s);g(t)},[]);const m=t=>{const s={...i,[t.target.name]:t.target.value,page:1};h(s)},[N,v]=a.exports.useState(!1);a.exports.useState([]);const j=[{name:"Pilih"}];return a.exports.useState(j[0]),r("div",{children:[e(I,{title:"Reservations Cars"}),e(L,{title:"Pelayanan",description:"List layanan yang ada di "+f.name}),e(A,{isOpenInfoDialog:N,setIsOpenInfoDialog:v,size:"2xl",title:"Info",header:"",children:"Anda harus memiliki akun owner terlebih dahulu sebelum bisa membuat perencanaan"}),r(S,{children:[e("div",{className:"flex items-center justify-end",children:e("div",{className:"w-full md:w-1/3",children:r("div",{className:"items-center justify-end md:flex gap-x-2",children:[e("select",{name:"load",id:"load",onChange:m,value:i.load,className:"hidden transition duration-150 ease-in-out border-gray-300 rounded-lg md:flex focus:ring-blue-200 focus:ring form-select",children:x.map((t,s)=>e("option",{children:t},s))}),r("div",{className:"flex items-center px-2 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg gap-x-2 focus-within:border-blue-400 focus-within:ring-blue-200 focus-within:ring",children:[e("svg",{className:"inline w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",name:"q",id:"q",onChange:m,value:i.q,className:"w-full border-0 focus:ring-0 form-text"})]})]})})}),n.length?e("div",{className:"grid w-full grid-cols-2 gap-1 mt-4 md:gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:n.map((t,s)=>e("div",{className:"relative w-full pb-4 mx-auto",children:e(C,{href:`/public/reservationCounters/${t.company_slug}/${t.counter_slug}/car`,className:"relative inline-block w-full transition-transform duration-300 ease-in-out",children:r("div",{className:"p-2 bg-white border rounded-lg",children:[r("div",{className:"relative flex justify-center overflow-hidden border rounded-lg h-52",children:[e("div",{className:"w-full transition-transform duration-500 ease-in-out",children:e("div",{className:"absolute inset-0 ",children:e("img",{className:"object-cover object-top w-full h-full lg:h-full lg:w-full",src:t.media?t.media:"/storage/files/default/NoImage.svg",alt:t.slug})})}),e("div",{className:"absolute bottom-0 flex justify-center mb-3",children:e("div",{className:"flex px-2 py-1 space-x-1 overflow-hidden bg-white rounded-lg md:px-5 md:space-x-5",children:e("p",{className:"flex items-center text-sm font-medium text-gray-800",children:t.car_name})})})]}),r("div",{className:"mt-4",children:[e("div",{className:"flex items-center justify-between my-2 space-x-4",children:e("span",{className:"items-center w-full px-2 py-1 text-xs font-semibold text-gray-500 bg-gray-100 rounded-md md:justify-between md:flex ",children:e("p",{className:"md:ml-1 text-[9px] text-base font-semibold",children:t.category_counter_name})})}),e("div",{className:"flex items-center justify-between my-2 space-x-4",children:e("span",{className:"items-center w-full px-2 py-1 text-xs font-semibold text-gray-500 bg-gray-100 rounded-md md:justify-between md:flex ",children:e("p",{className:"md:ml-1 text-[9px] text-base font-semibold",children:t.counter_name})})}),e("div",{className:"flex items-center justify-between space-x-4",children:e("span",{className:"items-center w-full px-2 py-1 text-xs font-semibold text-blue-700 bg-blue-100 rounded-md md:flex md:justify-between",children:r("p",{className:"justify-end text-[9px] text-xs font-semibold md:flex",children:["Rp"," ",H(t.price)]})})}),e("div",{className:"flex items-center justify-between my-2 space-x-4",children:r("span",{className:"flex items-center px-2 py-1 mt-2 text-xs font-semibold text-yellow-700 bg-yellow-100 rounded-md w-36",children:[t.service_duration," ","Menit Pengerjaan"]})})]})]})})},s))}):e(R,{}),e(E,{meta:u})]})]})}M.layout=l=>e(P,{children:l});export{M as default};
