import{B as N}from"./Button.34da1736.js";import{A as _}from"./App.8037c660.js";import{f as D,r as o,a as i,j as e,H as S,F as A}from"./app.a17d9a53.js";import{A as R,E}from"./EditModal.94295422.js";import{D as O}from"./DestroyModal.3e38dc9a.js";import{C,E as I}from"./EditRevision.c7c443e4.js";import"./clsx.m.256e9345.js";import"./Navbar.cf868c9a.js";import"./XIcon.0fb853b2.js";import"./use-flags.e987dbda.js";import"./keyboard.f32af370.js";import"./transition.b5d1d360.js";import"./use-tracked-pointer.5aefa828.js";import"./use-outside-click.25b5d2d1.js";import"./use-owner.b92264e6.js";import"./use-event-listener.a1df4448.js";import"./hidden.16dc680d.js";import"./MenuLogo.b8de08cc.js";import"./dialog.c0ab7c0c.js";import"./description.d6c6e331.js";import"./Tawarin.08057ae7.js";import"./DropdownMenu.1a91192e.js";import"./use-tree-walker.8e4f1f3f.js";import"./Dropdown.26b5e359.js";import"./index.9254b5ea.js";function $({plan:d,dataplan:n,plan_master:z,plan_details:f}){const x=s=>{h(s),m(!0)},g=s=>{h(s),l(!0)},{data:v,setData:F,put:b,clearErrors:H,reset:y,errors:M}=D({}),w=s=>{s.preventDefault(),b(route("planresult.finish",r.result_id),{data:v,onSuccess:()=>{y(),l(!1)}})},[c,m]=o.exports.useState(!1),[p,u]=o.exports.useState(!1),[k,l]=o.exports.useState(!1),[r,h]=o.exports.useState([]);return i("div",{children:[e(S,{title:"Upload Hasil"}),e(R,{isOpenAddDialog:c,setIsOpenAddDialog:m,size:"2xl",title:"Revisi "+r.name,children:e(C,{isOpenAddDialog:c,setIsOpenAddDialog:m,result:r.result_id})}),e(E,{isOpenEditDialog:p,setIsOpenEditDialog:u,size:"2xl",title:"Edit User",children:e(I,{model:r,isOpenEditDialog:p,setIsOpenEditDialog:u})}),e(O,{isOpenDestroyDialog:k,setIsOpenDestroyDialog:l,size:"2xl",title:"Tidak ada revisi untuk "+r.name+" ?",children:e(N,{onClick:w,children:"Selesai"})}),e("div",{className:"bg-white",children:e("div",{className:"grid items-start max-w-2xl grid-cols-1 px-4 py-4 mx-auto gap-y-8 gap-x-8 sm:px-6 sm:py-16 lg:max-w-7xl lg:grid-cols-2 lg:px-8",children:f.map((s,j)=>e(A,{children:n[s.slug]?e("div",{className:"mt-5 ",children:e("div",{className:"bg-white ",children:e("div",{children:e("div",{className:"mt-5 md:mt-0",children:e("div",{className:"shadow sm:rounded-md sm:overflow-hidden",children:e("div",{className:"px-4 py-5 space-y-6 bg-white sm:p-6",children:i("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:s.name}),i("div",{className:"relative flex justify-center px-6 pt-5 pb-6 mt-1 overflow-hidden border-2 border-gray-300 border-dashed rounded-md",children:[s.is_finish==1&&e("div",{className:"absolute top-0 right-0 w-16 h-16",children:e("div",{className:"absolute right-[-44px] top-[22px] w-[170px] transform rotate-45 bg-sky-100 text-center text-sky-900 font-semibold py-1",children:"Selesai"})}),i("div",{className:"w-full text-center",children:[n[s.slug].map((t,a)=>a<2&&e("div",{className:" shadow overflow-hidden rounded-xl col-span-3 max-h-[14rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${t.id}/${t.file_name}`,alt:a})},t.id)),n[s.slug].map((t,a)=>a>1&&a<6&&e("div",{className:"shadow overflow-hidden rounded-xl col-span-2 max-h-[10rem]",children:e("img",{className:"object-cover w-full h-full ",src:`/storage/${t.id}/${t.file_name}`,alt:a})},t.id))]})]}),e("div",{className:"mt-1",children:e("textarea",{rows:3,className:"block w-full mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"",disabled:!0,defaultValue:"Ini adalah hasil "+s.name+" dari konsultan"})}),s.is_finish==1&&s.jumlah_pengajuan_revisi==0?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:e("button",{type:"button",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition duration-150 ease-in-out border border-transparent rounded-md text-sky-900 bg-sky-100 hover:bg-sky-200 active:bg-sky-300 sm:ml-3 sm:w-auto sm:text-sm",children:"Tidak Ada Revisi"})}):"",s.is_finish==1&&s.jumlah_pengajuan_revisi>0?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:e("button",{type:"button",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition duration-150 ease-in-out border border-transparent rounded-md text-sky-900 bg-sky-100 hover:bg-sky-200 active:bg-sky-300 sm:ml-3 sm:w-auto sm:text-sm",children:"Revisi Selesai"})}):"",s.is_finish==0&&s.jumlah_pengajuan_revisi>=s.jumlah_revisi?e("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:i("button",{type:"button",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium transition duration-150 ease-in-out border border-transparent rounded-md text-sky-900 bg-sky-100 hover:bg-sky-200 active:bg-sky-300 sm:ml-3 sm:w-auto sm:text-sm",children:["Pengajuan Revisi Sudah"," ",s.jumlah_pengajuan_revisi," ","Kali"]})}):"",s.is_finish==0&&s.jumlah_pengajuan_revisi<s.jumlah_revisi?i("div",{className:"py-3 sm:flex sm:flex-row-reverse",children:[i("button",{onClick:()=>x(s),type:"submit",className:"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-pink-900 transition duration-150 ease-in-out bg-pink-100 border border-transparent rounded-md hover:bg-pink-200 active:bg-pink-300 sm:ml-3 sm:w-auto sm:text-sm",tabIndex:0,children:["Ajukan Revisi Ke-",s.jumlah_pengajuan_revisi+1]}),i("button",{onClick:()=>g(s),type:"button",name:s.slug,id:s.slug,className:"inline-flex justify-center w-full px-4 py-2 mt-3 text-base font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:["Selesai"," ",s.name]})]}):""]})})})})})})},j):""}))})})]})}$.layout=d=>e(_,{children:d});export{$ as default};
